{
	"person": {
		"name": "clip",
		"githubUsername": "binderclip",
		"imageURL": "https://avatars.githubusercontent.com/u/8187479?v=4",
		"bio": "Backend developer.",
		"primary": true
	},
	"plugins": [
		{
			"files": [
				{
					"path": "Lifestyle/text_on_menubar.1h.py",
					"filename": "text_on_menubar.1h.py",
					"content": "#!/usr/bin/env PYTHONIOENCODING=UTF-8 /usr/local/bin/python\n# \u003cbitbar.title\u003eText on Menubar\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003e1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eclip\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ebinderclip\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eShow your text on menubar\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.image\u003ehttps://qn.cdn.cliiip.com/imgs/u/d93e6b5b-52b7-4324-aaef-8969915f91b1.png\u003c/bitbar.image\u003e\n\nimport argparse\nimport os\nimport subprocess\n\n\ndef get_text_file():\n    home = os.path.expanduser(\"~\")\n    text_file = os.path.join(home, '.bitbar_text_on_menubar')\n    return text_file\n\n\ndef get_file_path():\n    return os.path.realpath(__file__)\n\n\ndef get_file_name():\n    return os.path.basename(__file__)\n\n\ndef read_and_print():\n    text_file = get_text_file()\n    text = ''\n    try:\n        with open(text_file, 'r') as f:\n            text = f.read()\n    except IOError:\n        pass\n    print(text.strip() or 'Hello')\n\n\ndef set_text():\n    try:\n        ret = subprocess.check_output(\n            [\n                'osascript',\n                '-e',\n                r'set input_text to text returned of (display dialog \"Please input text here:\"'\n                ' default answer \"\" with title \"Set the Text\")',\n            ])\n        text = ret.strip()\n\n        text_file = get_text_file()\n        with open(text_file, 'w') as f:\n            f.write(text)\n    except subprocess.CalledProcessError:\n        pass\n    # refresh\n    s = \"bitbar://refreshPlugin?name={}\".format(get_file_name())\n    subprocess.call(['open', s])\n\n\ndef print_submenu():\n    print('---')\n    print('Set the Text | bash=\"{}\" param1=\"-s\"  terminal=false'.format(get_file_path()))\n\n\ndef main():\n    parser = argparse.ArgumentParser()\n    parser.add_argument(\"-s\", \"--set_text\",\n                        action=\"store_true\", help='set the text')\n    args = parser.parse_args()\n\n    if args.set_text:\n        set_text()\n        return\n    read_and_print()\n    print_submenu()\n\n\nif __name__ == '__main__':\n    main()\n"
				}
			],
			"path": "Lifestyle/text_on_menubar.1h.py",
			"filename": "text_on_menubar.1h.py",
			"dir": "Lifestyle",
			"docsPlugin": "Lifestyle/text_on_menubar.1h.py.html",
			"docsCategory": "Lifestyle.html",
			"pathSegments": [
				"Lifestyle"
			],
			"categoryPathSegments": [
				{
					"path": "Lifestyle",
					"text": "Lifestyle",
					"isLast": true
				}
			],
			"title": "Text on Menubar",
			"version": "1.0",
			"author": "clip",
			"authors": [
				{
					"name": "clip",
					"githubUsername": "binderclip",
					"imageURL": "https://avatars.githubusercontent.com/u/8187479?v=4",
					"bio": "Backend developer.",
					"primary": true
				}
			],
			"desc": "Show your text on menubar",
			"imageURL": "https://qn.cdn.cliiip.com/imgs/u/d93e6b5b-52b7-4324-aaef-8969915f91b1.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:56.320217Z",
			"vars": null
		}
	]
}