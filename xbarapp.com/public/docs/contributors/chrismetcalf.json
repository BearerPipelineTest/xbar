{
	"person": {
		"name": "Chris Metcalf",
		"githubUsername": "chrismetcalf",
		"imageURL": "https://avatars.githubusercontent.com/u/19971?v=4",
		"bio": "Head of Delivery Operations at @amperity\r\n\r\n\r\n\"Specialization is for insects\" - Lazarus Long",
		"primary": true
	},
	"plugins": [
		{
			"files": [
				{
					"path": "Politics/five-thirty-eight.15m.rb",
					"filename": "five-thirty-eight.15m.rb",
					"content": "#!/usr/bin/env ruby\n # \u003cbitbar.title\u003eElection Tracker\u003c/bitbar.title\u003e\n # \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n # \u003cbitbar.author\u003eChris Metcalf\u003c/bitbar.author\u003e\n # \u003cbitbar.author.github\u003echrismetcalf\u003c/bitbar.author.github\u003e\n # \u003cbitbar.desc\u003eScrapes election odds from FiveThirtyEight's election tracker\u003c/bitbar.desc\u003e\n # \u003cbitbar.image\u003ehttp://i.imgur.com/1NeqVZ6.png\u003c/bitbar.image\u003e\n # \u003cbitbar.dependencies\u003eruby\u003c/bitbar.dependencies\u003e\n # \u003cbitbar.abouturl\u003ehttps://github.com/chrismetcalf/bitbar-plugins\u003c/bitbar.abouturl\u003e\n\nrequire 'open-uri'\nrequire 'nokogiri'\nrequire 'csv'\n\nfeed = Nokogiri::XML(open(\"https://fivethirtyeight.com/tag/2020-election/feed/\"))\n\ntable = []\nprojectDataLink = 'https://projects.fivethirtyeight.com/2020-general-data/presidential_national_toplines_2020.csv'\nbegin\n  open(projectDataLink) do |f|\n    table = CSV.parse(f, headers: true)\n  end\nrescue =\u003e e\n  puts \"‚ö†Ô∏è‚ö†Ô∏è\"\n  puts \"something went wrong with this link: #{projectDataLink}\"\nreturn\nend\n\nd_pct = \"%.1f\" % (table[0][\"ecwin_chal\"].to_f*100.0)\nr_pct = \"%.1f\" % (table[0][\"ecwin_inc\"].to_f*100.0)\n\nputs d_pct \u003e r_pct ? \"üòé #{d_pct}%\" : \":imp: #{r_pct}%\"\n\ndemocratName = \"üòé #{table[0][\"candidate_chal\"]}\"\nrepublicanName = \":imp: #{table[0][\"candidate_inc\"]}\"\nthirdParty = table[0][\"candidate_3rd\"]\nthirdPartyName = \"ü§¶ #{thirdParty}\"\nputs \"---\"\nputs \"Chance of Winning:\"\nputs \"#{democratName}: #{d_pct}%\"\nputs \"#{republicanName}: #{r_pct}%\"\n\nputs \"---\"\nputs \"Electoral Votes:\"\nputs \"#{democratName}: #{table[0][\"ev_chal\"].to_i}\"\nputs \"#{republicanName}: #{table[0][\"ev_inc\"].to_i}\"\nif thirdParty.to_s.length \u003e 0\n  puts \"#{thirdPartyName}: #{table[0][\"ev_3rd\"]}\"\nend\nputs \"üíÜ No majority: #{\"%.1f\" % (table[0][\"ec_nomajority\"].to_f*100.0)}%\"\n\nputs \"---\"\nputs \"Popular Vote:\"\nputs \"#{democratName}: #{\"%.1f\" % table[0][\"national_voteshare_chal\"].to_f}%\"\nputs \"#{republicanName}: #{\"%.1f\" % table[0][\"national_voteshare_inc\"].to_f}%\"\nif thirdParty.to_s.length \u003e 0\n  puts \"#{thirdPartyName}: #{\"%.1f\" % table[0][\"national_voteshare_3rd\"]}%\"\nend\nputs \"ü§∑ Other: #{\"%.1f\" % table[0][\"nat_voteshare_other\"].to_f}%\"\n\nputs \"---\"\nputs \"üìú FiveThirtyEight Election Feed\"\nfeed.css(\"item\")[0..2].each do |item|\n  date = Date::parse(item.css('pubDate').text)\n  puts \"#{date.strftime(\"%Y-%m-%d\")}: #{item.css('title').text} | href=#{item.css('link').text}\"\nend\n\nputs \":wolf: Visit FiveThirtyEight Election Forecast | href=http://projects.fivethirtyeight.com/2020-election-forecast/\"\n\nputs \"---\"\nputs \"Refresh... | refresh=true\"\n"
				}
			],
			"path": "Politics/five-thirty-eight.15m.rb",
			"filename": "five-thirty-eight.15m.rb",
			"dir": "Politics",
			"docsPlugin": "Politics/five-thirty-eight.15m.rb.html",
			"docsCategory": "Politics.html",
			"pathSegments": [
				"Politics"
			],
			"categoryPathSegments": [
				{
					"path": "Politics",
					"text": "Politics",
					"isLast": true
				}
			],
			"title": "Election Tracker",
			"version": "v1.0",
			"author": "Chris Metcalf",
			"authors": [
				{
					"name": "Chris Metcalf",
					"githubUsername": "chrismetcalf",
					"imageURL": "https://avatars.githubusercontent.com/u/19971?v=4",
					"bio": "Head of Delivery Operations at @amperity\r\n\r\n\r\n\"Specialization is for insects\" - Lazarus Long",
					"primary": true
				}
			],
			"desc": "Scrapes election odds from FiveThirtyEight's election tracker",
			"imageURL": "http://i.imgur.com/1NeqVZ6.png",
			"dependencies": [
				"ruby"
			],
			"aboutURL": "https://github.com/chrismetcalf/bitbar-plugins",
			"lastUpdated": "2021-03-08T15:22:00.795279Z",
			"vars": null
		}
	]
}