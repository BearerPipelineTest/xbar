{
	"person": {
		"name": "Jeremy Hay Draude",
		"githubUsername": "jhaydraude",
		"imageURL": "https://avatars.githubusercontent.com/u/28458904?v=4",
		"bio": "Tinkerer, builder, messer with of things",
		"primary": true
	},
	"plugins": [
		{
			"files": [
				{
					"path": "Lifestyle/nightscout.1m.sh",
					"filename": "nightscout.1m.sh",
					"content": "#!/bin/bash\n# \u003cbitbar.title\u003eNightscout Reader\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003e0.2.0\u003c/bitbar.version\u003e\n# \u003cbitbar.desc\u003eFor Diabetics using Nightscout to track CGM data: Display current Blood Sugar data and trend from Nightscout\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003ebash, curl, bc, jq\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.author\u003eJeremy Hay Draude\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ejhaydraude\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/jhaydraude/NightscoutBitBar/master/Preview.png\u003c/bitbar.image\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/jhaydraude/NightscoutBitBar/blob/master/README.md\u003c/bitbar.abouturl\u003e\n\nexport PATH=\"/usr/local/bin:/usr/bin:$PATH\"\n\nif ! [ -x \"$(command -v jq)\" ]; then\n  echo 'Error: jq is not installed.'\n  echo '---'\n  echo 'Click here to install jq | href=https://stedolan.github.io/jq/download/'\n  exit 1\nfi\n\nNSURL=https://YOURNIGHTSCOUTURL.herokuapp.com # Add your own Nightscout URL here\nUSEMMOL=true # true if you use mmol/l units. false if you use mg/dl\n\nJSONOUT=$(curl --silent $NSURL/api/v1/entries/current.json)\n\nJSDATE=$(jq '.[0].date' \u003c\u003c\u003c \"$JSONOUT\")\n#NS Returns date as ms since epoch. BASH likes Seconds since epoch\nEPOCHTS=$((JSDATE / 1000))\nTIMESTRING=$(date -r $EPOCHTS)\n\nEPOCHNOW=$(date +%s) # Convert current time to epoch time\nTIMEDIFF=$(((EPOCHNOW - EPOCHTS)/60)) #calculate the difference\n\nBG=$(jq '.[0].sgv' \u003c\u003c\u003c \"$JSONOUT\")\n\nTRENDSTR=$(jq -r '.[0].direction' \u003c\u003c\u003c \"$JSONOUT\")\n\nif $USEMMOL ; then\n\tBG=$(echo \"scale=1; $BG / 18\" | bc) #Convert mg/dl to mmol/l\nfi\n\n\ncase $TRENDSTR in\n\tFortyFiveUp)\n\t\tTREND='↗'\n\t\t;;\n\tFortyFiveDown)\n\t\tTREND='↘'\n\t\t;;\n\tSingleUp)\n\t\tTREND='↑'\n\t\t;;\n\tSingleDown)\n\t\tTREND='↓'\n\t\t;;\n\tFlat)\n\t\tTREND='→'\n\t\t;;\n\tDoubleUp)\n\t\tTREND='⇈'\n\t\t;;\n\tDoubleDown)\n\t\tTREND='⇊'\n\t\t;;\n\t*)\n\t\tTREND=$TRENDSTR\n\t\t;;\nesac\n\necho \"$BG $TREND (${TIMEDIFF}m ago)\"\necho \"---\"\necho \"Go to Nightscout | href=$NSURL\"\necho \"Reading taken: $TIMESTRING\"\n"
				}
			],
			"path": "Lifestyle/nightscout.1m.sh",
			"filename": "nightscout.1m.sh",
			"dir": "Lifestyle",
			"docsPlugin": "Lifestyle/nightscout.1m.sh.html",
			"docsCategory": "Lifestyle.html",
			"pathSegments": [
				"Lifestyle"
			],
			"categoryPathSegments": [
				{
					"path": "Lifestyle",
					"text": "Lifestyle",
					"isLast": true
				}
			],
			"title": "Nightscout Reader",
			"version": "0.2.0",
			"author": "Jeremy Hay Draude",
			"authors": [
				{
					"name": "Jeremy Hay Draude",
					"githubUsername": "jhaydraude",
					"imageURL": "https://avatars.githubusercontent.com/u/28458904?v=4",
					"bio": "Tinkerer, builder, messer with of things",
					"primary": true
				}
			],
			"desc": "For Diabetics using Nightscout to track CGM data: Display current Blood Sugar data and trend from Nightscout",
			"imageURL": "https://raw.githubusercontent.com/jhaydraude/NightscoutBitBar/master/Preview.png",
			"dependencies": [
				"bash",
				"curl",
				"bc",
				"jq"
			],
			"aboutURL": "https://github.com/jhaydraude/NightscoutBitBar/blob/master/README.md",
			"lastUpdated": "2021-03-08T15:21:55.664229Z",
			"vars": null
		}
	]
}