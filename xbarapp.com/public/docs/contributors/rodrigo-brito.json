{
	"person": {
		"name": "Rodrigo Brito",
		"githubUsername": "rodrigo-brito",
		"imageURL": "https://avatars.githubusercontent.com/u/7620947?v=4",
		"bio": "",
		"primary": true
	},
	"plugins": [
		{
			"files": [
				{
					"path": "Dev/utimerobot.30s.py",
					"filename": "utimerobot.30s.py",
					"content": "#!/usr/bin/python\n# -*- coding: utf-8 -*-\n#\n# \u003cbitbar.title\u003eUptimeRobot Monitor\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eRodrigo Brito\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003erodrigo-brito\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eShow UptimeRobot status\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/rodrigobrito/uptimerobot-bitbar\u003c/bitbar.abouturl\u003e\n#\n# by Rodrigo Brito\n\nimport requests\nimport json\nimport sys\nimport os\n\nreload(sys)\nsys.setdefaultencoding('utf8')\n\n# Set your API Key here!\n# Get your API Key in https://uptimerobot.com/dashboard.php#mySettings\napi_key = 'CHANGE_HERE!!'\n\nurl = 'https://api.uptimerobot.com/v2/getMonitors'\n\nstatus = {\n    0: {'text': 'PAUSED', 'color': 'white'},\n    1: {'text': 'NOT CHECKED', 'color': 'white'},\n    2: {'text': 'UP', 'color': 'green'},\n    8: {'text': 'SEEMS DOWN', 'color': 'yellow'},\n    9: {'text': 'DOWN', 'color': 'red'}\n}\n\npayload = \"api_key=%s\u0026format=json\u0026logs=0\" % api_key\nheaders = {\n    'content-type': \"application/x-www-form-urlencoded\",\n    'cache-control': \"no-cache\"\n}\n\n# Request uptime robot API\nresponse = requests.request('POST', url, data=payload, headers=headers)\ndata = json.loads(response.text)\n\n# Get monitors status count (up, total)\ndef status_count(monitors):\n    up = 0\n    for monitor in monitors:\n        if monitor.get('status') \u003c= 2:\n            up += 1\n    return up, len(monitors)\n\nif data.get('monitors'):\n    print \"%d / %d\" % (status_count(data.get('monitors')))\n    print \"---\"\n    for monitor in data.get('monitors'):\n        st = status.get(monitor.get('status'))\n        print  \"%s - %s | href='%s' color='%s'\" % (st.get('text'),\n        monitor.get('friendly_name').encode('utf-8'), monitor.get('url'), st.get('color'))\nelse:\n    print \"No monitor! | color='red'\"\n    print \"Click here to configure | href='file://%s'\" % os.path.abspath('uptimerobot.30s.py')\n\nprint \"---\"\nprint \"Open UptimeRobot | href='https://uptimerobot.com/dashboard'\" "
				}
			],
			"path": "Dev/utimerobot.30s.py",
			"filename": "utimerobot.30s.py",
			"dir": "Dev",
			"docsPlugin": "Dev/utimerobot.30s.py.html",
			"docsCategory": "Dev.html",
			"pathSegments": [
				"Dev"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": true
				}
			],
			"title": "UptimeRobot Monitor",
			"version": "v1.0",
			"author": "Rodrigo Brito",
			"authors": [
				{
					"name": "Rodrigo Brito",
					"githubUsername": "rodrigo-brito",
					"imageURL": "https://avatars.githubusercontent.com/u/7620947?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Show UptimeRobot status",
			"imageURL": "https://xbarapp.com/public/img/xbar-2048.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "https://github.com/rodrigobrito/uptimerobot-bitbar",
			"lastUpdated": "2021-03-08T15:21:52.444162Z",
			"vars": null
		}
	]
}