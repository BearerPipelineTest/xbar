{
	"plugins": [
		{
			"files": [
				{
					"path": "Dev/Git/daily-standup.sh",
					"filename": "daily-standup.sh",
					"content": "#!/bin/bash\n\n# \u003cbitbar.title\u003eDaily Standup\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eKrishna Kumar\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ekrishkumar\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eDisplays a list of all your git commits in the last 24 hours. Indicates days you have been chilling without committing any code. \u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttp://raw.githubusercontent.com/krishkumar/daily-standup/master/daily-standup-gold.png\u003c/bitbar.image\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/krishkumar/daily-standup\u003c/bitbar.abouturl\u003e\n#\n# Dependencies: You need to have git-standup installed.\n# To install git-standup on OSX with homebrew, open Terminal and run - $ brew install git-standup\n# For other installation options, see this page - https://github.com/kamranahmedse/git-standup\n\n\n# Constants\nCOMMITINDICATOR=\"\"\nGOLDMEDAL=ü•á # More than 5 commits today\nSILVERMEDAL=ü•à # More than 3 commits today\nBRONZEMEDAL=ü•â # Atleast 1 commit today\nPROJECTINDICATOR=üìÇ\nEMPTY_INDICATOR=‚ùÑÔ∏è\nALERT_INDICATOR=üö®\nDAYS_SINCE_COMMIT_MESSAGE=\"Earn medals... Get to work! | color=blue\"\nDAYS_SINCE_COMMIT_CONTENT=\" days since last commit \"\nuser=$(whoami)\nPROJECTS_DIRECTORY=\"/Users/$user/projects/\"\nDAYS_SINCE_COMMIT=0\n\n# Start\nCOUNT=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup | grep -c \"\u003c$user\u003e\")\nCOUNT=\"$COUNT\"\nif [ \"$COUNT\" = 0 ]\nthen\n    COUNT=\"\"\n    COMMITINDICATOR=$EMPTY_INDICATOR\n    DAYS_SINCE_COMMIT=1\n    COUNT2=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 2 | grep -c \"\u003c$user\u003e\")\n    COUNT3=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 3 | grep -c \"\u003c$user\u003e\") \n    COUNT4=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 4 | grep -c \"\u003c$user\u003e\") \n    COUNT5=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 5 | grep -c \"\u003c$user\u003e\") \n    COUNT6=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 6 | grep -c \"\u003c$user\u003e\") \n    COUNT7=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 7 | grep -c \"\u003c$user\u003e\") \n    COUNT8=$(cd \"$PROJECTS_DIRECTORY\" || exit ;/usr/local/bin/git-standup -d 8 | grep -c \"\u003c$user\u003e\") \n    if [ \"$COUNT2\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=2\n    fi\n    if [ \"$COUNT3\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=3\n    fi\n    if [ \"$COUNT4\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=4\n    fi\n    if [ \"$COUNT5\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=5\n    fi\n    if [ \"$COUNT6\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=6\n    fi\n    if [ \"$COUNT7\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR$EMPTY_INDICATOR\n      DAYS_SINCE_COMMIT=7\n    fi\n    if [ \"$COUNT8\" = 0 ]\n    then\n      COUNT=\"\"\n      COMMITINDICATOR=$ALERT_INDICATOR\n      DAYS_SINCE_COMMIT=7+\n    fi\nfi\nif [[ $COUNT -gt 0 ]]\n  then\n  #statements\n  COMMITINDICATOR=$BRONZEMEDAL\nfi\nif [[ $COUNT -gt 2 ]]\n then\n  #statements\n  COMMITINDICATOR=$SILVERMEDAL\nfi\nif [[ $COUNT -gt 5 ]]\n  then\n  #statements\n  COMMITINDICATOR=$GOLDMEDAL\nfi\necho $COMMITINDICATOR\n\necho ---\n\n# On Click\ncd \"$PROJECTS_DIRECTORY\" || exit \nSTANDUP=$(/usr/local/bin/git-standup)\nif [[ -z \"$STANDUP\" ]]; then\n  echo \"$DAYS_SINCE_COMMIT| size=30 \"\n  echo \"$DAYS_SINCE_COMMIT_CONTENT\"\n  echo \"$DAYS_SINCE_COMMIT_MESSAGE\"\nelif [[ -n \"$STANDUP\" ]]; then\n  /usr/local/bin/git-standup | sed \"s@$PROJECTS_DIRECTORY@$PROJECTINDICATOR@;n\"\nfi\n"
				}
			],
			"path": "Dev/Git/daily-standup.sh",
			"filename": "daily-standup.sh",
			"dir": "Dev/Git",
			"docsPlugin": "Dev/Git/daily-standup.sh.html",
			"docsCategory": "Dev/Git.html",
			"pathSegments": [
				"Dev",
				"Git"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Git",
					"text": "Git",
					"isLast": true
				}
			],
			"title": "Daily Standup",
			"version": "v1.0",
			"author": "Krishna Kumar",
			"authors": [
				{
					"name": "Krishna",
					"githubUsername": "krishkumar",
					"imageURL": "https://avatars.githubusercontent.com/u/425580?v=4",
					"bio": "\r\n    iOS main. generalist in security, AR, ML. ex 7-11, PayPal.\r\n\r\n\r\n",
					"primary": true
				}
			],
			"desc": "Displays a list of all your git commits in the last 24 hours. Indicates days you have been chilling without committing any code. ",
			"imageURL": "http://raw.githubusercontent.com/krishkumar/daily-standup/master/daily-standup-gold.png",
			"dependencies": null,
			"aboutURL": "https://github.com/krishkumar/daily-standup",
			"lastUpdated": "2021-03-08T15:21:48.114098Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Git/gitfinderinfo.1s.sh",
					"filename": "gitfinderinfo.1s.sh",
					"content": "#!/bin/bash\n\n# \u003cbitbar.title\u003eFinder Git Info\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eMiguel Carvalho\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003emmcarvalho\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eDisplays the active git branch of the focused finder Window in the menu bar. When open, lists all finder windows with active git projects.\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/mmcarvalho/git-finder-info/main/gitfinderinfo-screenshot.png\u003c/bitbar.image\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/mmcarvalho/git-finder-info\u003c/bitbar.abouturl\u003e\n#\n# Dependencies: none.\n\nread -d '' get_windows \u003c\u003cEOL\ntell application \"Finder\"\n\tset mywindowlist to the name of every window\n\t# send result as text to bash - avoid strange chars. \n\t# @todo: improve it using 'text item delimiters' or move functionality to bash completely. \n\tset windowsPaths to \"\"\n\trepeat with thePath in mywindowlist\n\t\tset windowsPaths to windowsPaths \u0026 thePath \u0026 \"|\"\n\tend repeat\nend tell\nEOL\nwindows_list=$(osascript -e \"${get_windows}\")\nif [ -n \"$windows_list\" ]; then\n\tIFS='|'\n\tread -a paths \u003c\u003c\u003c \"$windows_list\"\n    i=0\n    for path in \"${paths[@]}\"\n    do\n        git_path=\"${path}/.git\"\n        if [ -d \"$git_path\" ]; then\n            branch=$(cd \"${path}\" \u0026\u0026 git branch --show-current)\n            basename=$(basename ${path})\n            if [ \"$i\" -eq \"0\" ]; then\n                echo \"£é¥ $branch\"\n                echo ---\n            fi\n\t\t\techo \"üìÇ $branch ($basename)\"\n\t\telse\n\t\t\tif [ \"$i\" -eq \"0\" ]; then\n                echo \"‚àÖ no git dir\"\n                echo ---\n            fi\n\t\tfi\n        i=$(($i + 1))\n    done\n\techo ---\n\techo \"‚ñ≥ Open finder windows with active git projects.\"\nelse\n    echo \"‚àÖ no git dir\"\nfi\n\n"
				}
			],
			"path": "Dev/Git/gitfinderinfo.1s.sh",
			"filename": "gitfinderinfo.1s.sh",
			"dir": "Dev/Git",
			"docsPlugin": "Dev/Git/gitfinderinfo.1s.sh.html",
			"docsCategory": "Dev/Git.html",
			"pathSegments": [
				"Dev",
				"Git"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Git",
					"text": "Git",
					"isLast": true
				}
			],
			"title": "Finder Git Info",
			"version": "v1.0",
			"author": "Miguel Carvalho",
			"authors": [
				{
					"name": "Miguel Carvalho",
					"githubUsername": "mmcarvalho",
					"imageURL": "https://avatars.githubusercontent.com/u/40001773?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Displays the active git branch of the focused finder Window in the menu bar. When open, lists all finder windows with active git projects.",
			"imageURL": "https://raw.githubusercontent.com/mmcarvalho/git-finder-info/main/gitfinderinfo-screenshot.png",
			"dependencies": null,
			"aboutURL": "https://github.com/mmcarvalho/git-finder-info",
			"lastUpdated": "2021-03-08T15:21:48.271525Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/notifications.30s.py",
					"filename": "notifications.30s.py",
					"content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# \u003cbitbar.title\u003eGitHub Notifications\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev3.0.2\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eMatt Sephton, Keith Cirkel, John Flesch\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eflesch\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eGitHub (and GitHub:Enterprise) notifications in your menu bar!\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/hW7dw9E.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n\nimport json\nimport urllib2\nimport os\nimport sys\nimport re\nfrom itertools import groupby\n\n# GitHub.com\ngithub_api_key = os.getenv( 'GITHUB_TOKEN', 'Enter your GitHub.com Personal Access Token here...' )\n\n# GitHub:Enterprise (optional)\nenterprise_api_key = os.getenv( 'GITHUB_ENTERPRISE_TOKEN', 'Enter your GitHub:Enterprise Personal Access Token here...' )\nenterprise_api_url = os.getenv( 'GITHUB_ENTERPRISE_API', 'https://github.example.com/api/v3' )\n\nactive = '#4078C0'\ninactive = '#7d7d7d'\n\n# Utility Functions\n\ndef plural( word, n ):\n    return str(n) + ' ' + (word + 's' if n \u003e 1 else word)\n\ndef get_dict_subset( thedict, *keys ):\n    return dict([ (key, thedict[key]) for key in keys if key in thedict ])\n\ndef print_bitbar_line( title, **kwargs ):\n    print title + ' | ' + ( ' '.join( [ '{}={}'.format( k, v ) for k, v in kwargs.items() ] ) )\n\ndef make_github_request( url, method='GET', data=None, enterprise = False ):\n    try:\n        api_key = enterprise_api_key if enterprise else github_api_key\n        headers = {\n            'Authorization': 'token ' + api_key,\n            'Accept': 'application/json',\n        }\n        if data is not None:\n            data = json.dumps(data)\n            headers['Content-Type'] = 'application/json'\n            headers['Contnet-Length'] = len(data)\n        request = urllib2.Request( url, headers=headers )\n        request.get_method = lambda: method\n        response = urllib2.urlopen( request, data )\n        return json.load( response ) if response.headers.get('content-length', 0) \u003e 0 else {}\n    except Exception:\n        return None\n\ndef get_notifications( enterprise ):\n    url = '%s/notifications' % (enterprise_api_url if enterprise else 'https://api.github.com')\n    return make_github_request( url, enterprise=enterprise ) or []\n\ndef print_notifications( notifications, enterprise=False ):\n    notifications = sorted( notifications, key=lambda notification: notification['repository']['full_name'] )\n    for repo, repo_notifications in groupby( notifications, key=lambda notification: notification['repository']['full_name'] ):\n        if repo:\n            repo_notifications = list( repo_notifications )\n            print_bitbar_line( title=repo )\n            print_bitbar_line(\n                title='{title} - Mark {count} As Read'.format( title=repo, count=len( repo_notifications ) ),\n                alternate='true',\n                refresh='true',\n                bash=__file__,\n                terminal='false',\n                param1='readrepo',\n                param2=repo,\n                param3='--enterprise' if enterprise else None\n            )\n            for notification in repo_notifications:\n                formatted_notification = format_notification( notification )\n                print_bitbar_line( refresh='true', **get_dict_subset( formatted_notification, 'title', 'href', 'image', 'templateImage' ) )\n                print_bitbar_line(\n                    refresh='true',\n                    title='%s - Mark As Read' % formatted_notification['title'],\n                    alternate='true',\n                    bash=__file__,\n                    terminal='false',\n                    param1='readthread',\n                    param2=formatted_notification['thread'],\n                    param3='--enterprise' if enterprise else None,\n                    **get_dict_subset( formatted_notification, 'image', 'templateImage' )\n                )\n\ndef format_notification( notification ):\n    type = notification['subject']['type']\n    formatted = {\n        'thread': notification['url'],\n        'title': notification['subject']['title'].encode('utf-8'),\n        'href': notification['subject']['url'],\n        'image': 'iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAYAAAAmlE46AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAA',\n    }\n    if len(formatted['title']) \u003e 90:\n        formatted['title'] = formatted['title'][:79] + '‚Ä¶'\n    formatted['title'] = formatted['title'].replace('|','-')\n    latest_comment_url = notification.get( 'subject', {} ).get( 'latest_comment_url', None )\n    typejson = make_github_request( formatted['href'] )\n    if latest_comment_url:\n        formatted['href'] = ( make_github_request( latest_comment_url ) or {} ).get( 'html_url', formatted['href'] )\n    # Try to hack a web-viewable URL if the last check failed\n    if formatted['href']:\n        formatted['href'] = re.sub( 'api\\.|api/v3/|repos/', '', re.sub( '(pull|commit)s', ur'\\1', formatted['href'] ) )\n    if (type == 'PullRequest'):\n        if typejson and typejson['merged']:\n            formatted['image'] += 'SpJREFUKJG9kkFOwmAQhb+ZQiVx5xm4hIlncEF7jLZuWSjSeAJsvQUY4xkMHsCtcU9MXBmwJsy4EWgFEt34VpP55mX+eflhj9KoGO5jAK00LmOwoZiaYIPRbXaXRsVQRC6BvWZJ4uLJRI6DcKlUMsVl/G0CwIw3UR8V4+QKxFd9BbfDqiP6buo1sB5QjgTJ07i8aPTFgvNFa/7i7fYzaL+YpEN3zwGux4mY2QmAm6db783i0rO4bGyrh7OL66a0Bigm6d5gGkYz3brvV8a/SjeF/dPGJLrpmTMDXs/i4vTnQNYrInNm5szqvIVYbiJdCV1Z6ANwXze6em4i3SBcqi+CNVeAIFxq9dkR0+07HfHVz6rzlsLAK5keUCEu/R0hDD7C+SME6A7+Z30BqF2G+GPLjSUAAAAASUVORK5CYII='\n        elif typejson and typejson['state'] == 'closed':\n            formatted['image'] += 'Q9JREFUKJG9kjFOw0AQRd9sbAiiQOIMqWJfAInOPULANehTQIjFCbgHFS1eKhR6cDpEbyHRmljyDpWVTWJbSsOvRvvm72i+BjpkI2ZdDIBszNVzTG7HvGcx543JxmifT7KIj4FyUlaYcMjcKI8Id17Pj8JDknMvrD4zoriwRg4OMaKtU44FUhtz6z8aFW7KkC9X82mESbJghpICJDkiyimAwvV2EDG6uZMfThs3TeFYB8miP1XjFb0pdhp31cro/muijbjAUTjDtx1zttnwEnGJo8BR+DxQSAcwWv5i9vd4BZ58Yy2kgTIqq3VuAMoKEx4htCQrijaX5fMAYRoOmbMEJ0y2lhGmZcgbNdDGd9Uf3M1iNlKZZGMAAAAASUVORK5CYII='\n        else:\n            formatted['image'] += 'TJJREFUKJG9krFOAlEQRe/MLpqHnd/ATyBWsLWF+hcLPYXibvwCE/gLC2MNVrD7AbbGnpjYboBlro2QXWATabzVy5x338ydPKBC4awTVTEA8Huz9i1FI5gZBINh6+0lnHUiEXkAUGmWMGm/c7Fues4pLU9IPv+aAABm9i2qT6Pm+BECbuoqpnZWW4lmmRLG3ZdV9VyAOEyD+1JdVO4yqX+ua7UPofRHrUlEMgaA4cVYALkEACF6e/N2k4DdJCh1Ky7nENftyVACo9akcjElox3I9yfjsdoaVfFPHbtpcG2GOUy/wjS42r0QTjs3ZpibYV7kPmkxVuuGOKfIl1MAr0WjqMRcrBqec8oCVwDwnNOFnwugezkJ4+ZnFbkPeANanpwsAQr7+2m8Qab1FKcAeYgfqR/3P4pMOYR15QAAAABJRU5ErkJggg=='\n        if typejson and typejson.get( 'user', {} ).get( 'login', None ):\n            formatted['title'] += ' (by @{})'.format(typejson['user']['login'])\n    elif (type == 'RepositoryInvitation'):\n        formatted['image'] = 'iVBORw0KGgoAAAANSUhEUgAAAA4AAAAKCAYAAACE2W/HAAAAAXNSR0IArs4c6QAAAM1JREFUKBWVkD0OQUEUhcdv/ASJn55SyxLoVBJq8tZjBRQsgkZiAQoqOiQ2oFc935nMvLxEXsRJPufOufe+kTHGmBeEf3Jg3i4t8IwOP6QZzeoi+3PFt1BRkKAq+Q4uEKbdUA+/wxm6LoubshPcoO8b9lp3GOMPGPomPoInqOcV/VUfyKfwhsChegJxfS3O6R5hALpFqFY2A69osUyygT3UQOpAWwVSpt4aShAt6lWXkIUk5WiswL5qiqIODdBz6+ZirM67cwFvulwfaH0AC7M1lHL62U4AAAAASUVORK5CYII=';\n        formatted['templateImage'] = formatted.pop('image');\n        formatted['href'] = 'https://github.com/{}/invitations'.format(notification['repository']['full_name'])\n    elif (type == 'Issue'):\n        if typejson and typejson['state'] == 'closed':\n            formatted['image'] += 'YpJREFUKJGdkj9I23EQxT93SZrJQYNQ6Bo65BtQcHRpSeyUuQqNWx2ti7qJRpqhUxGX0lGhlXQ0uJhfU7cOLm3+QKCzoIjoJpp8z0HT/BpJBd90HO/dvTsePBLS36iM8Uw6vANyQNJ7RJU/wG7nmo1XLY7uCStp8uL5BJwgbJtRU8E8jImR98qoGHPZBjsSFhlsCRQjCQovD2iHhx5OEDu/ZF2E5Y4wLn/tXdMy5WO2zkqXHKQxgEy95+y7Y1KMXwogbeaBk0iCwqBn7DteAJym+NmBnSiAF3IK2/32wiIVqoGjYE1GRMlGARSSZtQGbZtq8CNwFBBWDUxgJjqI3I9Mg7XAgRoXmSYlACqOWuAG39ePimNB7+oyxuzhBLEwIUhj3c92sZckLsaSAvg2m14ZPb98eGs8ThFlqBcAx4wJX8T4cGasvm5yFRaUUjwZUd4bLKow/W/kbsWfgTMxvorxmwhtjHEPbxSGEd5many7F/JqiqdemceT88rzu3ZLoWywma1z/NA5/8UNNkSJCdaYQF4AAAAASUVORK5CYII='\n        else:\n            formatted['image'] += 'ZxJREFUKJGdkjFoU2EUhb97k9jNRzEFoWvJVHXoZCqIaQaH7JaUbtpi2zc4ORWJYKGTYJLBroFaiGPo0hBwyAOhU51Cd8EOOid53uugL4SnkOK3/dx7OPccfvhPZPqxHZUWc0gIUjFs6c/CJdDBtN580P36lzCM1jZ+mr9HuFKkJfgXABO9i/mmqOTd7VlztXcyEYbR2oabtFx5kx+Oa7VHn+LpS7bOV3K5UfBaTF+6WLW52juR7ai0mDEGovq2WezuJ8t7UdkBGsXu5KqdfvlQhOeeGRc0h4QIV/nhuDarkIVgft+xHxJnQwWpKNJKn/cvasvtkcCxuFTUsKWkiOsgrhcoBb2uIE1W4NKRO8DH6cF0KSnLewYDBTqGb26dr+Sm53tR2ZNmE8LTx3O4V9XpKKZ1FV24MZyf2aoH8YE5garXBWC3X1oX12NXO8zfvPWqttwepZ08iA9wXqDypFE8a09y7PZL64geCXx37IO4XiSZcK/+dso8bRTP2pD65DufH96WOBuKSwWlAGD4QJ2Oqtff3e99mxVnJr8AXSGi02ni0+YAAAAASUVORK5CYII='\n    elif (type == 'Commit'):\n        formatted['image'] += 'HhJREFUKJHl0LEKwkAQBNCH3yIaf05S+VUqmh8ykFoUYn8WbnEc8a7XgYVlmNkdhv/EDgNmvHDFtmXq8ETCiFvsD2xqxksI9xnXB3cqxamYceHgVOpWC6JUi/QNQxj7jDsEd6wZ83KmLOId69bXzqekOeas0eiv4g3q4SY7NY1R2gAAAABJRU5ErkJggg=='\n        formatted['templateImage'] = formatted.pop('image')\n    elif (type == 'Release'):\n        formatted['image'] += 'JdJREFUKJGl0DsKwkAUBdDTRgvFHbgmNyLY+QWzKxM/kK2kSKc70MIIQ0ziqBceA/dxinn8mSkKVMGUmH+CBWaNboQjdn2wqt97Pa8kNd5+C0O86YNdSZC34RLjCJxhHZYLXDCIxKuwTHGOwBNcm2WKUw9OcMCybZl6XjHpQOs30cB5gKNQiDPPP0WjV/a4aVwxNsNfUGce7P8k4XgVPSYAAAAASUVORK5CYII='\n        formatted['templateImage'] = formatted.pop('image')\n    return formatted\n\nif len(sys.argv) \u003e 1:\n    command = sys.argv[1]\n    args = sys.argv[2:]\n    enterprise=False\n    if ('--enterprise' in args):\n        enterprise=True\n        args.remove( '--enterprise' )\n    if command == 'readrepo':\n        url = '%s/repos/%s/notifications' % (enterprise_api_url if enterprise else 'https://api.github.com', args[0])\n        print 'Marking %s as read' % url\n        make_github_request( url=url, method='PUT', data={}, enterprise=enterprise )\n    elif command == 'readthread':\n        url = args[0]\n        print 'Marking %s as read' % url\n        make_github_request( url=url, method='PATCH', data={}, enterprise=enterprise )\n\nelse:\n    is_github_defined = len( github_api_key ) == 40\n    is_github_enterprise_defined = len( enterprise_api_key ) == 40\n    github_notifications = get_notifications( enterprise=False ) if is_github_defined else []\n    enterprise_notifications = get_notifications( enterprise=True ) if is_github_enterprise_defined else []\n    has_notifications = len( github_notifications ) + len( enterprise_notifications )\n    color = active if has_notifications else inactive\n\n    if (has_notifications):\n        print_bitbar_line(\n            title=u'\\u25CF'.encode( 'utf-8' ),\n            color=color\n        )\n        print '---'\n    else:\n        print ''\n        exit(0)\n\n    print_bitbar_line( title='Refresh', refresh='true' )\n\n    if is_github_defined:\n        if len( github_notifications ):\n            print_bitbar_line(\n                title=( u'GitHub \\u2014 %s' % plural( 'notification', len( github_notifications ) ) ).encode( 'utf-8' ),\n                color=active,\n                href='https://github.com/notifications',\n            )\n            print_notifications( github_notifications )\n        else:\n            print_bitbar_line(\n                title=u'GitHub \\u2014 No new notifications'.encode( 'utf-8' ),\n                color=inactive,\n                href='https://github.com',\n            )\n\n    if is_github_enterprise_defined:\n        if len( enterprise_notifications ):\n            if is_github_defined:\n                print '---'\n            print_bitbar_line(\n                title=( u'GitHub:Enterprise \\u2014 %s' % plural( 'notification', len( enterprise_notifications ) ) ).encode( 'utf-8' ),\n                color=active,\n                href='%s/notifications' % re.sub( '/api/v3', '',  enterprise_api_url ),\n            )\n            print_notifications( enterprise_notifications, enterprise=True )\n        else:\n            print '---'\n            print_bitbar_line(\n                title=u'GitHub:Enterprise \\u2014 No new notifications',\n                color=inactive,\n            )\n"
				}
			],
			"path": "Dev/GitHub/notifications.30s.py",
			"filename": "notifications.30s.py",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/notifications.30s.py.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "GitHub Notifications",
			"version": "v3.0.2",
			"author": "Matt Sephton,  Keith Cirkel,  John Flesch",
			"authors": [
				{
					"name": "John Flesch",
					"githubUsername": "flesch",
					"imageURL": "https://avatars.githubusercontent.com/u/13259?v=4",
					"bio": "ùï± ‚Ä¢ Insatiable curiosity for technologies that make life better.",
					"primary": true
				},
				{
					"name": "Keith Cirkel",
					"githubUsername": "",
					"imageURL": "",
					"bio": "",
					"primary": false
				},
				{
					"name": "John Flesch",
					"githubUsername": "",
					"imageURL": "",
					"bio": "",
					"primary": false
				}
			],
			"desc": "GitHub (and GitHub:Enterprise) notifications in your menu bar!",
			"imageURL": "https://i.imgur.com/hW7dw9E.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.655336Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github_watch.1h.rb",
					"filename": "github_watch.1h.rb",
					"content": "#!/usr/bin/env ruby\n\n# \u003cbitbar.title\u003eGitHub Watch\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eD. Khamsing\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003edkhamsing\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eShow GitHub stars ‚≠êÔ∏è for a list of repos\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttp://i.imgur.com/z1qhSun.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003eruby\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/dkhamsing\u003c/bitbar.abouturl\u003e\n\nrequire 'open-uri'\nrequire 'json'\n\nREPOS = [\n  'matryer/bitbar',\n  'dkhamsing/awesome_bot'\n]\n\nVERSION = '0.1.0'\n\nCONFIG_GITHUB_WATCH = 'stargazers_count'\n\nCONFIG_SYMBOL = '‚òÖ'\n\nGITHUB_REPO_API = 'https://api.github.com/repos'\n\ndef get_stars(repos)\n  s = []\n  repos.each do |r|\n    repo_url = \"#{GITHUB_REPO_API}/#{r}\"\n    c = open repo_url\n    j = JSON.parse c.read\n    s.push j[CONFIG_GITHUB_WATCH]\n  end\n  s\nend\n\ndef line(r, s)\n  repo_url = \"https://github.com/#{r}\"\n  puts \"#{r} #{CONFIG_SYMBOL} #{s} | href=#{repo_url}\"\nend\n\n# bitbar output\nbegin\nget_stars(REPOS).each_with_index { |s, i| line REPOS[i], s.to_s }\nrescue =\u003e e\n  puts \"#{CONFIG_SYMBOL} | color=red\"\n  puts \"Error: #{e}\"\n  exit\nend\n"
				}
			],
			"path": "Dev/GitHub/github_watch.1h.rb",
			"filename": "github_watch.1h.rb",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github_watch.1h.rb.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "GitHub Watch",
			"version": "v0.1.0",
			"author": "D. Khamsing",
			"authors": [
				{
					"name": "D. Khamsing",
					"githubUsername": "dkhamsing",
					"imageURL": "https://avatars.githubusercontent.com/u/4723115?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Show GitHub stars ‚≠êÔ∏è for a list of repos",
			"imageURL": "http://i.imgur.com/z1qhSun.png",
			"dependencies": [
				"ruby"
			],
			"aboutURL": "https://github.com/dkhamsing",
			"lastUpdated": "2021-03-08T15:21:48.615508Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github_status.10m.py",
					"filename": "github_status.10m.py",
					"content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n# \u003cbitbar.title\u003eGitHub status\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.2\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eBrett Jones\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eblockloop\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttps://cloud.githubusercontent.com/assets/3022496/12325555/a4b2bd9a-ba90-11e5-8254-9de54c2c6847.png\u003c/bitbar.image\u003e\n# \u003cbitbar.desc\u003eShows the current status of www.githubstatus.com. Find out if Github is having DDOS problems which will affect pushes/pulls.\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n#\n\nimport json\nimport time\nfrom datetime import datetime\n\ntry:\n    # For Python 3.0 and later\n    from urllib.request import urlopen\nexcept ImportError:\n    # Fall back to Python 2's urllib2\n    from urllib2 import urlopen\n\n# See https://www.githubstatus.com/api\nbody = urlopen(\"https://kctbh9vrtdwd.statuspage.io/api/v2/status.json\").read()\nobj = json.loads(body.decode('utf-8'))\n\nif obj[\"status\"][\"indicator\"] == \"none\":\n    # print(\"GH: ‚úî | color=green\")\n    print(\"‚úì | font='PilGi Regular' image=iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAF7I48DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAARgSURBVHjaYt6/fz+Dr68vw9WrVw8xMDExfYqMjGRgYGD4DwAAAP//BMFBAQAwEMKwSprBU8MPbXjoEu7utUWFJGxD5QMAAP//Yrhw4QJECRL+//8/A9OVK1e079+/z/j48WNGBgYGBmZm5j8MDAwMAAAAAP//ZM2hEYAgGIDRj4PACtxJoHksYeNgNBormYkE7VSSC/wGowu8p5xzd61111rTez9SSmcphR8zxvgOQOac5JxprWGtfUQEE0K4vPey1lLGGGKMG8ALAAD//zyPsQqCUBiFv1sQxnWopF4hArdewAcQfIkGX8DBuUdoC+7uIAhtzvkU3gYX15ZwutLfUHamwwfng0NVVX+d1voJiFLq7Xnea+JlWSIiiAjzYRiubdseAZxzS75R4zgufh2ttUuS5A4ws9Yeoii6GGO2AE3TKGutAqjrWoVheOu6bj+N6fueOI7PQRA88jzfFEWxMsassyzb+b7/TNP0ND0WET58UTFLhlAUve8RKA0fukboM9pc1N8gNApOD/+ASzj7A5z6CTUIIoiTgwQNLraJS5A4tUUgTjaloLwWX0hEZzmXwz2He7hQFMWJEFLFcQxRFEHXdRCGISRJArIsv1ZV9bPMGAOglN7ycpIkfez8zrUgCG6OBjzP8xU/b5qmi50vubZt2zUcgPakf8EYQ3zGAAC2bT+0bYvSNEWu66Isy1DTNMiyrKc/A+q6BkEQvnzf9/M8B0rpnaIob/ypxw5nAACEENB1/dnzvEoURXAc53FZlnNN0/DvdDyOI1JVlZmmeV+W5ee6rqe+7zuM8YthGNswDOho+Cad/EGXCKA4/u64K/HuB78KlAYbft0ZaaAYLQ7XkIODiy5CDeogSU5tNgiC8VsaRA3iQBdBxEVQ4kQQEc7JQ7RB0YQLlKgO/1CYoHd6LfmD0iUa3vJ4jy/f9/08hOd5aDabj6PRaPPQpGm6FgwGnymKMsdx/I7BYLguiuJ6s9l8xnGcYlm2OJ1ObYf5VCp1QdP0J6fTeWw4kUiAw+GI/c3/v5TH43kaj8f/AOIKDI7jHiAIov6PgF6vlwRBOD8lgOh0urEkSVewaLXar2az+QOKoqgoijdlWT7b7/fYfr/fkiT5w2g0LpfLJTYYDB7udrvzw57Vam10u90nR6GtVqszAACKovrj8Rjp9Xq3TSZTgSCIj4IgPEomk/d8Pt/dQqFwv9FoOCVJ+ub3+98oinKj1WrdIknyOwDAYrHQn6Q2EAhcAoDKMEya53nIZDIXB+sul+tVqVSCbDYLlUoF7HZ79vdvzYvF4rVarQYWi+U9AKiRSOT5yQxmsxmEQqHXAKCGw+GXo9EIcrkcsCwL/X4f6vU6tNttKJfL0Ol0IJ1OA8dxMBwOwe12vwUANRaLBSaTycmQkdFoBLIsw3w+h2q1asrn8+8Wi4VVVdUVhmErgiB+4ji+22632Hq9JmVZJhEE0VIU1fB6vS8Yhvmi0WgARVGw2WxHF/o1AOIORIB/vrb+AAAAAElFTkSuQmCC\")\nelse:\n    print(\"‚úï | color=red image=iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAF7I48DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAJOSURBVHjaYvzPAAeHGP4zMHz6z8DA8J+B4T8AAAD//2L4z8Bg8J+BgeH///8MjHBl//8zAAAAAP//gnGQtDIwMPz/z8jEwMCgzcDAwAjFDAwMDH8YGBgYAAAAAP//ZMwxDQAgEMDAPgKwhH8DBB0YKMvzIWHo0OUQVsIIQy33YwBablQR+1JT8OG6ygEAAP//gnH+Q/E7KP3vPwPDZ7g41F6YhllIGnDhKpgGJgYGBk0GBobJDAwMomjug7E3MTAwqCM8A8HN/xkY7vxnYBD6z8Ag8J+BQfA/A4MY1IkpyE4CAAAA//9s0rEJAmEMhuEHucrCAcRKdBYXcAcbJ3EF5xAsbgvdQBzAykrOwuh9egZCQvhDvuT9X8vQxnLpp3z8btiG1mvFS9RW2TDCPM49rTiL2iJ5DAn9s6KW5PZf9Ho/Dpt7mveOTeW7uppfcI38s7SVHzAOBR9ranSHNW6Y4IwlHqkfnozTsUpDUQwG4K+LgyjUOgqCoos4CJ0cxaGPIU6Cm6O7+AIWnBx8hw6d+gYdBDcHR4soiugiSBwMej3cqz2QITkJyZ/8/w9Pf1NhGCzm33KwHiylvxaMi/yV8l4lhJ1i0h4eTP+2cVt/ETanIPd/dh+06xC0gpuCLBNc5QE6mM/dv+MFT+l30a7UjUTs1iGY5BTXFQ3sBf34ImZVGwvBZdBLvxM8f9fXIBCcZsJZFq1WoB8XDS4y/hjMZGyQsYOmBoKTTDpqUHWT9bNuv4lFrUKYGzjHFl7T3vCRe59Lm8UIhyLu/qLX5wCSNr11XIiJWQAAAABJRU5ErkJggg==\")\n\nprint(\"---\")\nprint(obj[\"status\"][\"description\"] + \" | href=\" + obj[\"page\"][\"url\"])\n\n# convert UTC to local\nutc_date = datetime.strptime(obj[\"page\"][\"updated_at\"], '%Y-%m-%dT%H:%M:%S.%fZ')\nnow = time.time()\noffset = datetime.fromtimestamp(now) - datetime.utcfromtimestamp(now)\nlocal_time = utc_date + offset\n\nprint(\"Last Change: %s\" % local_time.strftime(\"%D %r\"))\n"
				}
			],
			"path": "Dev/GitHub/github_status.10m.py",
			"filename": "github_status.10m.py",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github_status.10m.py.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "GitHub status",
			"version": "v0.2",
			"author": "Brett Jones",
			"authors": [
				{
					"name": "Brett Jones",
					"githubUsername": "blockloop",
					"imageURL": "https://avatars.githubusercontent.com/u/3022496?v=4",
					"bio": "I think I am a Pyrrhonist, but I‚Äôm not sure",
					"primary": true
				}
			],
			"desc": "Shows the current status of www.githubstatus.com. Find out if Github is having DDOS problems which will affect pushes/pulls.",
			"imageURL": "https://cloud.githubusercontent.com/assets/3022496/12325555/a4b2bd9a-ba90-11e5-8254-9de54c2c6847.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.502168Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Gitlab/gitlab_merge_requests.js",
					"filename": "gitlab_merge_requests.js",
					"content": "#!/usr/bin/env /usr/local/bin/node\n// jshint asi:true\n// jshint esversion: 8\n// \u003cbitbar.title\u003eGitLab Merge Requests\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eSimeon Cheeseman\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003esimeonc\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003eList of your assigned and created merge requests.\n// The menu bar shows a count of MRs requiring your approval (üîé), WIP MRs (üõ†Ô∏è), Un-mergable MRs (‚õî), MRs with failed pipelines (‚ö†Ô∏è), MRs with unresolved discussions (üöß), MRs with running pipeline (üöÄ), MRs pending approval (üí¨) and Approved/Ready to Merge (‚ùáÔ∏è).\n// Each MR in the dropdown is grouped by project and displays `\u003cUnmergable\u003e \"Title\"; \"Pipeline Status\" : \"Approval Status\"`, clicking on an MR opens it in the browser\u003c/bitbar.desc\u003e\n// \u003cbitbar.dependencies\u003enode.js\u003c/bitbar.dependencies\u003e\n// \u003cbitbar.image\u003ehttps://i.imgur.com/t0TtQXO.png\u003c/bitbar.image\u003e\n\n/**\n * Information\n *\n * This was inspired by the work of Shelton Koskie (@eightygrit), who made the\n * first version of the \"GITLAB Projects\" for API v4.\n *\n * @see   GitLab API Documentation    https://docs.gitlab.com/ee/api/README.html\n * @see   Create GitLab Access Token  https://gitlab.com/profile/personal_access_tokens\n * @see   BitBar Node Module Docs     https://github.com/sindresorhus/bitbar\n */\n\n/**\n * The domain your instance is hosted on. Leave the default if using gitlab.com\n *\n * @const       {string}\n */\nconst gitlab_domain = 'gitlab.com';\n\n/**\n * Your private access token.\n *\n * @const       {string}\n * @see       Create a token  https://gitlab.com/profile/personal_access_tokens\n */\nconst private_token = '7Tkm2aLMxk8q-M9TaJz1';\n\n/**\n * Font size of the project list\n *\n * @const       {string}\n */\nconst font_size = '15';\n\n/**\n * Change this array to choose which statuses show and in what order on the menu bar.\n *\n * @type {string[]}\n */\nconst MENU_BAR_ORDER = [\n  'newMR',\n  'reviewer',\n  'wip',\n  'unmergable',\n  'failed',\n  'unresolved',\n  'ciRunning',\n  'pending',\n  'approved'\n];\n\n/**\n * MAX length of the title string in the toolbar\n *\n * @type {number}\n */\nconst MAX_LENGTH = 60;\n\n/////////////////////////////////////////////////////////////////////////\n// Do not edit below this line unless you know what you're doing. :)  //\n///////////////////////////////////////////////////////////////////////\nlet bitbar;\nconst fs = require('fs');\nconst path = require('path');\nconst SETTINGS_FILE_PATH = path.resolve(\n  __dirname,\n  './.gitlab_merge_requests.settings.json'\n);\n\n// Verify bitbar node module is available or try to install it globally.\ntry {\n  bitbar = require('bitbar');\n} catch (e) {\n  try {\n    bitbar = globalRequire('bitbar');\n  } catch (e) {\n    installBitbarModule();\n\n    // Not catching error if one is thrown.\n    bitbar = globalRequire('bitbar');\n  }\n}\n\n// Converts the gitlab status to emoji\n// see https://emojipedia.org/ for customisation\nfunction stateIcon(status) {\n  return {\n    created: 'üí§',\n    pending: 'üí§',\n    running: 'üöÄ',\n    failed: '‚ö†Ô∏è',\n    success: '‚úÖ',\n    skipped: 'üöÄ',\n    manual: '‚èØÔ∏è'\n  }[status];\n}\n\nconst gitlabIconBase64 =\n  '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';\n\nfunction request(path) {\n  const httpTransport = require('https');\n  const responseEncoding = 'utf8';\n  const httpOptions = {\n    hostname: gitlab_domain,\n    port: '443',\n    path,\n    method: 'GET',\n    headers: { 'PRIVATE-TOKEN': private_token }\n  };\n  httpOptions.headers['User-Agent'] =\n    'bitbar/gitlab_projects - node ' + process.version;\n\n  return new Promise((resolve, reject) =\u003e {\n    const request = httpTransport\n    .request(httpOptions, (res) =\u003e {\n      let responseBufs = [];\n      let responseStr = '';\n\n      res\n      .on('data', (chunk) =\u003e {\n        if (Buffer.isBuffer(chunk)) {\n          responseBufs.push(chunk);\n        } else {\n          responseStr = responseStr + chunk;\n        }\n      })\n      .on('end', () =\u003e {\n        if (responseBufs.length \u003e 0) {\n          responseStr = Buffer.concat(responseBufs).toString(responseEncoding);\n        } else {\n          responseStr = responseStr;\n        }\n\n        resolve(JSON.parse(responseStr));\n      });\n    })\n    .setTimeout(0)\n    .on('error', (error) =\u003e {\n      reject(error);\n    });\n    request.write('');\n    request.end();\n  });\n}\n\nconst cachedProjectNames = {};\nasync function registerProject(project_id) {\n  if (!cachedProjectNames[project_id]) {\n    const project = await request(`/api/v4/projects/${project_id}`);\n    cachedProjectNames[project_id] = project.name_with_namespace;\n  }\n}\n\nasync function getMRs() {\n  if (!fs.existsSync(SETTINGS_FILE_PATH)) {\n    const myUser = await request('/api/v4/user');\n    fs.writeFileSync(\n      SETTINGS_FILE_PATH,\n      JSON.stringify({\n        userId: myUser.id\n      })\n    );\n  }\n\n  const statusCount = {};\n  function incrementStatusCount(key) {\n    statusCount[key] = statusCount[key] || 0;\n    statusCount[key] += 1;\n  }\n\n  const mergeRequestsByProjectId = {};\n\n  const yesterday = new Date();\n  yesterday.setDate(yesterday.getDate() - 1);\n  const yesterdayParam = `${yesterday.getFullYear()}-${yesterday.getMonth() + 1}-${yesterday.getDate()}`;\n\n  const { userId, todaysUUID, todaysExcludedEvents = [] } = JSON.parse(fs.readFileSync(SETTINGS_FILE_PATH));\n  let excludedEvents = [];\n  if (todaysUUID === yesterdayParam) {\n    excludedEvents = todaysExcludedEvents;\n  }\n\n  const createdMRs = await request(\n    '/api/v4/merge_requests?scope=created_by_me\u0026state=opened'\n  );\n  const assignedMRs = await request(\n    '/api/v4/merge_requests?scope=assigned_to_me\u0026state=opened'\n  );\n  const approvalMRs = await request(\n    `/api/v4/merge_requests?scope=all\u0026state=opened\u0026approver_ids[]=${userId}`\n  );\n\n  const allMRs = assignedMRs\n  .concat(approvalMRs, createdMRs)\n  .reduce((uniqueMRs, currentMR) =\u003e {\n    if (!uniqueMRs.find(({ id }) =\u003e id === currentMR.id)) {\n      uniqueMRs.push(currentMR);\n    }\n    return uniqueMRs;\n  }, []);\n\n  const bitbar = globalRequire('bitbar');\n\n  if (allMRs.length === 0) {\n    // Hide when no open MRs\n    return bitbar([\n      {\n        image: gitlabIconBase64,\n        text: `0 MR`,\n        color: bitbar.darkMode ? 'white' : 'black',\n        dropdown: true\n      }\n    ]);\n  }\n\n\n  await Promise.all(\n    allMRs.map(async (mergeRequest) =\u003e {\n      const {\n        web_url,\n        merge_when_pipeline_succeeds,\n        merge_status,\n        title,\n        project_id,\n        iid,\n        blocking_discussions_resolved,\n        work_in_progress,\n        assignee,\n        assignees,\n        author,\n        source_branch\n      } = mergeRequest;\n      excludedEvents.push(`${project_id}_${source_branch}`);\n\n      const isReviewer =\n        (!author || author.id !== userId) \u0026\u0026\n        (!assignee || assignee.id !== userId) \u0026\u0026\n        (!assignees || !assignees.find(({ id }) =\u003e id === userId));\n\n      await registerProject(project_id);\n\n      mergeRequestsByProjectId[project_id] =\n        mergeRequestsByProjectId[project_id] || [];\n\n      const pipelines = await request(\n        `/api/v4/projects/${project_id}/merge_requests/${iid}/pipelines`\n      );\n      let pipelineStatus = '';\n      if (pipelines.length) {\n        pipelineStatus = stateIcon(pipelines[0].status);\n      }\n      const approvals = await request(\n        `/api/v4/projects/${project_id}/merge_requests/${iid}/approval_state`\n      );\n      const isApproved = approvals.rules.reduce(\n        (isApproved, { approved }) =\u003e isApproved \u0026\u0026 approved,\n        true\n      );\n      const hasCurrentUserApproved = approvals.rules.reduce(\n        (currentUserHasApproved, { approved_by }) =\u003e\n          currentUserHasApproved ||\n          !!approved_by.find(({ id }) =\u003e id === userId),\n        false\n      );\n      const canMerge = merge_status === 'can_be_merged';\n      if (isReviewer \u0026\u0026 (work_in_progress || !canMerge || isApproved || hasCurrentUserApproved))\n        return;\n      let mergeStatus = '  ';\n      if (!canMerge) {\n        mergeStatus = '‚õî ';\n      } else if (isReviewer) {\n        mergeStatus = 'üîé ';\n      }\n      let approvalStatus = 'üí¨';\n      if (work_in_progress) {\n        approvalStatus = 'üõ†Ô∏è';\n      } else if (!blocking_discussions_resolved) {\n        approvalStatus = 'üöß';\n      } else if (isApproved) {\n        approvalStatus = '‚ùáÔ∏è';\n      }\n      if (isReviewer) {\n        incrementStatusCount('reviewer');\n      } else if (work_in_progress) {\n        incrementStatusCount('wip');\n      } else if (merge_status !== 'can_be_merged') {\n        incrementStatusCount('unmergeable');\n      } else if (pipelines.length \u0026\u0026 pipelines[0].status === 'failed') {\n        incrementStatusCount('failed');\n      } else if (!blocking_discussions_resolved) {\n        incrementStatusCount('unresolved');\n      } else if (pipelines.length \u0026\u0026 pipelines[0].status === 'running') {\n        incrementStatusCount('ciRunning');\n      } else if (!isApproved) {\n        incrementStatusCount('pending');\n      } else {\n        incrementStatusCount('approved');\n      }\n\n      let statusString = '';\n      if (pipelineStatus || approvals.rules.length) {\n        const statusStrings = [];\n        if (pipelineStatus) statusStrings.push(pipelineStatus);\n        if (approvals.rules.length) statusStrings.push(approvalStatus);\n        statusString = `  ${statusStrings.join(' ')}`;\n      }\n      let trimmedTitle = title.substring(0, MAX_LENGTH);\n      if (title.length \u003e MAX_LENGTH) {\n        trimmedTitle += '...';\n      }\n      mergeRequestsByProjectId[project_id].push(\n        `${mergeStatus}!${iid}: ${trimmedTitle}${statusString} | href=\"${web_url}\" size=${font_size}`\n      );\n    })\n  );\n\n  const todaysEvents = await request(\n    `/api/v4/users/4557473/events?after=${yesterdayParam}\u0026action=pushed`\n  );\n  for (let i = 0; i \u003c todaysEvents.length; i += 1) {\n    const { project_id, push_data: {action, ref, ref_type, commit_to} } = todaysEvents[i];\n    if (excludedEvents.indexOf(`${project_id}_${ref}`) !== -1) continue;\n    if (!(action === 'created' \u0026\u0026 ref_type === 'branch')) continue;\n\n    const mrCheck = await request(`/api/v4/projects/${project_id}/repository/commits/${commit_to}/merge_requests`);\n    if (mrCheck.length) {\n      excludedEvents.push(`${project_id}_${ref}`);\n      continue;\n    }\n    await registerProject(project_id);\n    const { web_url } = await request(`/api/v4/projects/${project_id}`);\n    const params = [\n      `merge_request%5Bsource_branch%5D=${ref}`,\n      `merge_request%5Bsource_project_id%5D=${project_id}`,\n      `merge_request%5Btarget_project_id%5D=${project_id}`\n    ];\n    const createMRUrl = `${web_url}/-/merge_requests/new?${params.join('\u0026')}`;\n    mergeRequestsByProjectId[project_id] = mergeRequestsByProjectId[project_id] || [];\n    mergeRequestsByProjectId[project_id].unshift(\n      `üìù: ${ref} | href=\"${createMRUrl}\" size=${font_size}`\n    );\n    incrementStatusCount('newMR');\n  }\n\n  const content = [];\n\n  const statusMap = {\n    reviewer: 'üîé',\n    unmergable: '‚õî',\n    failed: '‚ö†Ô∏è',\n    ciRunning: 'üöÄ',\n    pending: 'üí¨',\n    approved: '‚ùáÔ∏è',\n    wip: 'üõ†Ô∏è',\n    unresolved: 'üöß',\n    newMR: 'üìù'\n  };\n  const statusString = MENU_BAR_ORDER\n  .map((key) =\u003e {\n    if (statusCount[key]) {\n      return `${statusMap[key]}[${statusCount[key]}]`;\n    }\n  })\n  .filter((s) =\u003e !!s)\n  .join(', ');\n\n  content.push({\n    image: gitlabIconBase64,\n    text: `${statusString}`,\n    color: bitbar.darkMode ? 'white' : 'black',\n    dropdown: true\n  });\n\n  Object.keys(mergeRequestsByProjectId).forEach((projectId) =\u003e {\n    if (!mergeRequestsByProjectId[projectId].length) return;\n    content.push(bitbar.separator);\n    content.push({\n      text: cachedProjectNames[projectId]\n    });\n    mergeRequestsByProjectId[projectId].forEach((text) =\u003e\n      text ? content.push({ text }) : null\n    );\n  });\n\n  // Update settings file for speed later\n  fs.writeFileSync(\n    SETTINGS_FILE_PATH,\n    JSON.stringify({\n      userId,\n      todaysUUID: yesterdayParam,\n      todaysExcludedEvents: excludedEvents.reduce((uniqueEvents, event) =\u003e {\n        if (uniqueEvents.indexOf(event) === -1) {\n          uniqueEvents.push(event);\n        }\n        return uniqueEvents;\n      }, [])\n    })\n  );\n\n  try {\n    bitbar(content);\n  } catch (error) {\n    console.log(content);\n    throw error;\n  }\n}\n\ngetMRs().catch((error) =\u003e {\n  console.error(error);\n});\n\n/**\n * Sets up the ability to require global node packages.\n *\n * @return     {object}  Returns the required node package object\n */\nfunction globalRequire(package) {\n  const childProcess = require('child_process');\n  const path = require('path');\n  const fs = require('fs');\n  const env = Object.assign({}, process.env);\n  env.PATH = path.resolve('/usr/local/bin') + ':' + env.PATH;\n\n  const globalNodeModulesDir =\n    childProcess\n    .execSync(npmBin() + ' root -g', { env: env })\n    .toString()\n    .trim() + '/';\n  let packageDir = path.join(globalNodeModulesDir, package, '/');\n\n  //find package required by older versions of npm\n  if (!fs.existsSync(packageDir)) {\n    packageDir = path.join(globalNodeModulesDir, 'npm/node_modules/', package);\n  }\n\n  // Package not found\n  if (!fs.existsSync(packageDir)) {\n    throw new Error(\"Cannot find global module '\" + package + \"'\");\n  }\n\n  const packageMeta = JSON.parse(\n    fs.readFileSync(path.join(packageDir, 'package.json')).toString()\n  );\n  const main = path.join(packageDir, packageMeta.files[0]);\n\n  return require(main);\n}\n\n/**\n * Installs Bitbar node module if it doesn't exits.\n *\n * @see    BitBar node module on github    https://github.com/sindresorhus/bitbar\n */\nfunction installBitbarModule() {\n  // Allows one to run the npm command as if on the command line.\n  const childProcess = require('child_process');\n  const execSync = childProcess.execSync;\n  const path = require('path');\n  const fs = require('fs');\n\n  const env = Object.assign({}, process.env);\n  env.PATH = path.resolve('/usr/local/bin') + ':' + env.PATH;\n\n  // Get the path to npm bin\n  const npm = npmBin();\n\n  // The install command\n  const cmd = npm + ' install -g bitbar';\n\n  console.log('Installing the BitBar Node module...');\n\n  const output = execSync(cmd, {\n    cwd: process.cwd(),\n    env: env\n  })\n  .toString('utf8')\n  .trim();\n\n  console.log('Installation complete.');\n}\n\n/**\n * Gets the path to your npm executable.\n *\n * @return  {string}  The full path to your npm executable\n */\nfunction npmBin() {\n  const path = require('path');\n  const childProcess = require('child_process');\n  const execSync = childProcess.execSync;\n  const env = Object.assign({}, process.env);\n  env.PATH = path.resolve('/usr/local/bin') + ':' + env.PATH;\n  const buffs = [];\n\n  // Get the path to npm bin\n  return execSync('which npm', { env: env })\n  .toString('utf8')\n  .trim();\n}\n"
				}
			],
			"path": "Dev/Gitlab/gitlab_merge_requests.js",
			"filename": "gitlab_merge_requests.js",
			"dir": "Dev/Gitlab",
			"docsPlugin": "Dev/Gitlab/gitlab_merge_requests.js.html",
			"docsCategory": "Dev/Gitlab.html",
			"pathSegments": [
				"Dev",
				"Gitlab"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Gitlab",
					"text": "Gitlab",
					"isLast": true
				}
			],
			"title": "GitLab Merge Requests",
			"version": "v1.0",
			"author": "Simeon Cheeseman",
			"authors": [
				{
					"name": "Simeon Cheeseman",
					"githubUsername": "simeonc",
					"imageURL": "https://avatars.githubusercontent.com/u/1085899?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "",
			"imageURL": "https://i.imgur.com/t0TtQXO.png",
			"dependencies": [
				"node.js"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.895054Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Gitlab/gitlab_projects.js",
					"filename": "gitlab_projects.js",
					"content": "#!/usr/bin/env /usr/local/bin/node\n// jshint asi:true\n// \u003cbitbar.title\u003eGitLab Projects\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev2.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eShelton Koskie\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003eeightygrit\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003eList of your last active GitLab projects. Now supports API v4\u003c/bitbar.desc\u003e\n// \u003cbitbar.dependencies\u003enode.js\u003c/bitbar.dependencies\u003e\n// \u003cbitbar.image\u003ehttp://i.imgur.com/4X40XIK.png\u003c/bitbar.image\u003e\n\n/**\n * Information\n *\n * This was inspired by the work of Sylvain Baronnet (@sylvainbaronnet), who made the\n * first version of the \"GITLAB Projects\" for API v3. What started as a couple of edits\n * became a total rewrite.\n *\n * @see   GitLab API Documentation    https://docs.gitlab.com/ee/api/README.html\n * @see   Create GitLab Access Token  https://gitlab.com/profile/personal_access_tokens\n * @see   BitBar Node Module Docs     https://github.com/sindresorhus/bitbar\n */\n\n\n\n/**\n * The domain your instance is hosted on. Leave the default if using gitlab.com\n *\n * @var       {string}\n */\nvar gitlab_domain = 'gitlab.com';\n\n/**\n * Your private access token.\n *\n * @var       {string}\n * @see       Create a token  https://gitlab.com/profile/personal_access_tokens\n */\nvar private_token = '';\n\n/**\n * When you select a project, which sub-page should it take you to?\n *\n * @var  {string}\n *\n * Options include:\n * - /issues\n * - /activity\n * - /commits\n */\nvar default_page  = '/issues';\n\n/**\n * How would you like results ordered?\n *\n * @var  {string}\n *\n * Options include:\n * - last_activity_at\n * - id\n * - name\n * - path\n * - created_at\n * - updated_at\n */\nvar order_by      = 'last_activity_at';\n\n/**\n * Total number of results you want returned\n *\n * @var       {string}\n */\nvar result_count  = '30';\n\n/**\n * Font size of the project list\n *\n * @var       {string}\n */\nvar font_size     = '15';\n\n/////////////////////////////////////////////////////////////////////////\n// Do not edit below this line unless you know what you're doing. :)  //\n///////////////////////////////////////////////////////////////////////\nvar bitbar;\n\n// Verify bitbar node module is available or try to install it globally.\ntry { bitbar = require('bitbar'); }\ncatch(e) {\n\n  try { bitbar = globalRequire('bitbar'); }\n  catch(e) {\n\n    installBitbarModule();\n\n    // Not catching error if one is thrown.\n    bitbar = globalRequire('bitbar');\n  }\n}\n\n/**\n * Performs the GET request for a projects list for authenticated user\n *\n * @param   {Function}  callback  The function to call to handle the response\n *\n * @return  {void}                Does not return anything\n */\n(function(callback) {\n    'use strict';\n\n    const httpTransport = require('https');\n    const responseEncoding = 'utf8';\n    const httpOptions = {\n        hostname: gitlab_domain,\n        port: '443',\n        path: '/api/v4/projects?order_by=' + order_by + '\u0026sort=desc\u0026archived=false\u0026per_page=' + result_count + '\u0026owned=true',\n        method: 'GET',\n        headers: {\"PRIVATE-TOKEN\":private_token}\n    };\n    httpOptions.headers['User-Agent'] = 'bitbar/gitlab_projects - node ' + process.version;\n\n    const request = httpTransport.request(httpOptions, (res) =\u003e {\n        let responseBufs = [];\n        let responseStr = '';\n\n        res.on('data', (chunk) =\u003e {\n            if (Buffer.isBuffer(chunk)) {\n                responseBufs.push(chunk);\n            }\n            else {\n                responseStr = responseStr + chunk;\n            }\n        }).on('end', () =\u003e {\n            responseStr = responseBufs.length \u003e 0 ?\n                Buffer.concat(responseBufs).toString(responseEncoding) : responseStr;\n\n            callback(null, res.statusCode, res.headers, responseStr);\n        });\n\n    })\n    .setTimeout(0)\n    .on('error', (error) =\u003e {\n        callback(error);\n    });\n    request.write(\"\")\n    request.end();\n\n\n})((error, statusCode, headers, body) =\u003e {\n    // console.log('ERROR:', error);\n    // console.log('STATUS:', statusCode);\n    // console.log('HEADERS:', JSON.stringify(headers));\n\n    const bitbar = globalRequire('bitbar');\n    var content = [];\n\n    content.push({\n      text: 'GitLab',\n      color: bitbar.darkMode ? 'white' : 'black',\n      dropdown: true\n    });\n\n    content.push(bitbar.separator);\n\n    var projects = JSON.parse(body);\n\n    for(var p in projects) {\n\n      var project = projects[p];\n      var ta = timeago();\n      var last_activity = ta.ago(project.last_activity_at);\n\n      content.push({\n        text: project.name + ' ‚§è ' + 'Last activity: ' + last_activity + ' | href=\"' + project.web_url + '/activity' + '\" size=' + font_size\n      });\n\n      content.push({\n        text: project.name + ' ‚§è ' + project.open_issues_count + ' issue' + (project.open_issues_count \u003e 1 ? 's' : '') + ' | alternate=true href=\"' + project.web_url + '/issues\" size=' + font_size\n      });\n\n      // Uncomment if you want a separator after each project.\n      //content.push(bitbar.separator);\n    }\n\n    // Execute the dispaly.\n    bitbar(content);\n\n\n});\n\n/* Source : https://github.com/digplan/time-ago */\nfunction timeago() {\n\n  var o = {\n    second: 1000,\n    minute: 60 * 1000,\n    hour: 60 * 1000 * 60,\n    day: 24 * 60 * 1000 * 60,\n    week: 7 * 24 * 60 * 1000 * 60,\n    month: 30 * 24 * 60 * 1000 * 60,\n    year: 365 * 24 * 60 * 1000 * 60\n  };\n  var obj = {};\n\n  obj.ago = function(nd) {\n    var r = Math.round,\n      pl = function(v, n) {\n        return n + ' ' + v + (n \u003e 1 ? 's' : '') + ' ago'\n      },\n      ts = new Date().getTime() - new Date(nd).getTime(),\n      ii;\n      if(ts \u003c 0) {\n        return 'Just now';\n      }\n\n    for (var i in o) {\n      if (r(ts) \u003c o[i]) return pl(ii || 'm', r(ts / (o[ii] || 1)))\n      ii = i;\n    }\n    return pl(i, r(ts / o[i]));\n  }\n  return obj;\n}\n\n/**\n * Sets up the ability to require global node packages.\n *\n * @return     {object}  Returns the required node package object\n */\nfunction globalRequire(package){\n  var childProcess = require('child_process');\n  var path = require('path');\n  var fs = require('fs');\n  var env = Object.assign({}, process.env);\n  env.PATH = path.resolve(\"/usr/local/bin\") + ':' + env.PATH;\n\n\n  var globalNodeModulesDir = childProcess.execSync(npmBin() + ' root -g', {env: env}).toString().trim() + '/';\n  var packageDir = path.join(globalNodeModulesDir, package, '/');\n\n  //find package required by older versions of npm\n  if (!fs.existsSync(packageDir)){\n    packageDir = path.join(globalNodeModulesDir, 'npm/node_modules/', package);\n  }\n\n  // Package not found\n  if (!fs.existsSync(packageDir)){\n    throw new Error('Cannot find global module \\'' + package + '\\'');\n  }\n\n  var packageMeta = JSON.parse(fs.readFileSync(path.join(packageDir, 'package.json')).toString());\n  var main = path.join(packageDir, packageMeta.files[0]);\n\n  return require(main);\n}\n\n/**\n * Installs Bitbar node module if it doesn't exits.\n *\n * @see    BitBar node module on github    https://github.com/sindresorhus/bitbar\n */\nfunction installBitbarModule() {\n\n    // Allows one to run the npm command as if on the command line.\n    var childProcess = require('child_process');\n    var execSync = childProcess.execSync;\n    var path = require('path');\n    var fs = require('fs');\n\n    var env = Object.assign({}, process.env);\n    env.PATH = path.resolve(\"/usr/local/bin\") + ':' + env.PATH;\n\n    // Get the path to npm bin\n    var npm = npmBin();\n\n    // The install command\n    var cmd = npm + ' install -g bitbar';\n\n    console.log(\"Installing the BitBar Node module...\");\n\n    var output = execSync(cmd, {\n        cwd: process.cwd(),\n        env: env\n    }).toString('utf8').trim();\n\n    console.log(\"Installation complete.\");\n\n}\n\n/**\n * Gets the path to your npm executable.\n *\n * @return  {string}  The full path to your npm executable\n */\nfunction npmBin(){\n  var path = require('path');\n  var childProcess = require('child_process');\n  var execSync = childProcess.execSync;\n  var env = Object.assign({}, process.env);\n  env.PATH = path.resolve(\"/usr/local/bin\") + ':' + env.PATH;\n  var buffs = [];\n\n  // Get the path to npm bin\n  return execSync('which npm', {env: env}).toString('utf8').trim();\n}"
				}
			],
			"path": "Dev/Gitlab/gitlab_projects.js",
			"filename": "gitlab_projects.js",
			"dir": "Dev/Gitlab",
			"docsPlugin": "Dev/Gitlab/gitlab_projects.js.html",
			"docsCategory": "Dev/Gitlab.html",
			"pathSegments": [
				"Dev",
				"Gitlab"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Gitlab",
					"text": "Gitlab",
					"isLast": true
				}
			],
			"title": "GitLab Projects",
			"version": "v2.0",
			"author": "Shelton Koskie",
			"authors": [
				{
					"name": "Eighty Grit",
					"githubUsername": "eightygrit",
					"imageURL": "https://avatars.githubusercontent.com/u/50476396?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "List of your last active GitLab projects. Now supports API v4",
			"imageURL": "http://i.imgur.com/4X40XIK.png",
			"dependencies": [
				"node.js"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.919272Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github-ci.1m.php",
					"filename": "github-ci.1m.php",
					"content": "#!/usr/bin/env php\n\u003c?php\n/**\n * \u003cbitbar.title\u003eGithub CI Status\u003c/bitbar.title\u003e\n * \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n * \u003cbitbar.author\u003eJordan Andree\u003c/bitbar.author\u003e\n * \u003cbitbar.author.github\u003ejordanandree\u003c/bitbar.author.github\u003e\n * \u003cbitbar.desc\u003eDisplays Github Pull Request CI Check statuses\u003c/bitbar.desc\u003e\n * \u003cbitbar.dependencies\u003ephp\u003c/bitbar.dependencies\u003e\n * \u003cbitbar.abouturl\u003ehttps://github.com/jordanandree/bitbar-github-ci\u003c/bitbar.abouturl\u003e\n *\n * Icon sourced from feather icons: https://feathericons.com/\n *\n * To setup, create or edit your ~/.bitbarrc file with a new section:\n *\n * [github_ci]\n * access_token=xxx # Personal Access Token\n * username=jordanandree\n * repos[]=jordanandree/bitbar-github-ci\n * repos[]=jordanandree/dotfiles\n */\n\nclass GithubCIStatus\n{\n    /**\n     * Default config values\n     *\n     * @var array\n     */\n    protected $default_config = [\n        \"hostname\" =\u003e \"github.com\",\n    ];\n\n    /**\n     * Config options sourced from ~/.bitbarrc\n     *\n     * @var stdClass\n     */\n    protected $config;\n\n    /**\n     * Status line template for each check\n     *\n     * @var string\n     */\n    protected $status_line = \"%s %s | href=%s\";\n\n    /**\n     * State of CI checks\n     *\n     * @var string\n     */\n    protected $state = \"success\";\n\n    /**\n     * Lock param for mutating state\n     *\n     * @var bool\n     */\n    protected $state_lock = false;\n\n    /**\n     * Menu bar icon\n     *\n     * @var string\n     */\n    protected $icon = \"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABDtpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjVEMzE5OTBGREQzRTExRTdCNjU1Q0M4MUYwMENBMTNDPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ODMzYTI0NjgtMjVhOC0xMTdiLTkxNzEtZjU1MDA2YWFhMDcyPC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6ODMzYTI0NjgtMjVhOC0xMTdiLTkxNzEtZjU1MDA2YWFhMDcyPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVEMzE5OTBFREQzRTExRTdCNjU1Q0M4MUYwMENBMTNDPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4K4XbDnwAAAxFJREFUWAnNl1uITlEUxweTonG/y2UYIsUUUSIP84zwIELNk9LwwpsXmhEvk8sTKZq8eBJJXqQUuV+SUJPmySXjEpM7g9//m73OrDnO/r75Lg9W/WatvfZa6+y9z977fFNVlS0NuD/BH+iAw1AHxUgNwdvhBnSDarVCHxnQp9XbOI+5qreZs1TgOLTBfJgNI2EUfIH38BwegAZ7AMaAlx80xsNH78yyVVAP7AJbCbVL4Td5r1zuSuxEBiZWrzEWc0hoXkRPhF3wIfj6qzTYNpgDO8BkqhnS1b4RbD8oFdEKHIRTsBO05Frmh9AJGthQGA1zYVGwT6BvgWRBj8r9jb32JEQB9graE295Rgvp9vr67C0/W3vEYozBoTHDnGVqbViTpWbE9BU6bLTNsaAi/ZrU91BXJ2FaLL8+BGkAes+DYoEl+HeTYxPbH8v3QY2xoBL9I8jT7DWI+7EaJ0OAgqbHgsrw3w71P1uN9CbUUTIpeFtZYBHa7hId25ykB6BbyyR9jZq/HO0nmKuTHsBLV32Ssytl2u5/bQXTA3hiHegVzq6EqbtgXCj01AqmB3DZOtBrnF0Jc60r4p/j3D3mdZSd1/X/9JbmmEDam1D3F7oWotJAjw1A34TV0cj+deg43wGreaw/aYdcghIvgL7jyfHBzie6QXX96ivqf09ojw2DgqK9cQRs1KZ1k90FzWIyeFHOXrgGXWA5pnW1T4FM2YxXH4t7sNxFrMNuByvitQboZRkN32+2BrMP7EeOz0ns01iWoFlqH5hoZlp+f00rdqMFBK1fUp1gdbQS22A4FJR5RFwFS36HPTOVtdD1a09kySacVqM1KyCfTxvnrCvwDHuWS9jg+rY6vzc1WxvAGd8Rs6tdRzf2FtDS1UMdPIZLoDMsn4leU5bofZtoQiWJrstHYDPJ0o15Klv8uTwxSZc2WFo02yWwB16kOyvdzhqAnvEVmkHnVue9Fpqg4uL3QKy4/quR6FquuMRWIOtBfoN5Ox37Mzi0igWlmJ3aQbUauAlHQacmSxT3DVrgbVbAf+X7C2311IYwO5eYAAAAAElFTkSuQmCC\";\n\n    /**\n     * Output the Pull Request checks\n     *\n     * @return string\n     */\n    public function run()\n    {\n        $lines = [];\n\n        try {\n            $pull_requests = $this-\u003esearchPullRequests();\n\n            if (empty($pull_requests)) {\n                $this-\u003esendOutput(\"No Pull Requests. Get to work!\");\n                exit;\n            }\n\n            foreach ($pull_requests as $pr) {\n                $repo_name = substr($pr-\u003erepository_url, strlen($this-\u003egetConfig()-\u003ebase_uri . \"repos/\"));\n\n                $pr_info = $this-\u003egetPullRequest($repo_name, $pr-\u003enumber);\n                $status  = $this-\u003egetCommitStatus($repo_name, $pr_info-\u003ehead-\u003esha);\n                $lines[] = $this-\u003eformatLine($status-\u003estate, $pr_info-\u003etitle, $pr_info-\u003ehtml_url);\n\n                if ($status-\u003estate !== $this-\u003estate \u0026\u0026 !$this-\u003estate_lock) {\n                    $this-\u003estate = $status-\u003estate;\n                    $this-\u003estate_lock = true;\n                }\n\n                foreach ($status-\u003estatuses as $check) {\n                    $lines[] = \"--\" . $this-\u003eformatLine($check-\u003estate, $check-\u003econtext, $check-\u003etarget_url);\n                }\n            }\n        } catch (RuntimeException $e) {\n            $this-\u003estate = \"failure\";\n            $this-\u003esendOutput($e-\u003egetMessage());\n            exit;\n        }\n\n        $this-\u003esendOutput($lines);\n    }\n\n    /**\n     * echo back output to bitbar\n     *\n     * @param string[]|string\n     *\n     * @return void\n     */\n    public function sendOutput($lines)\n    {\n        echo $this-\u003estatusIcon($this-\u003estate) . \" | templateImage=\" . $this-\u003eicon;\n        echo \"\\n---\\n\";\n\n        if (is_array($lines)) {\n            echo implode($lines, \"\\n\");\n        } else {\n            echo $lines . \"\\n\";\n        }\n    }\n\n    /**\n     * Format a line for output\n     *\n     * @param mixed ...$text\n     *\n     * @return string\n     */\n    public function formatLine(...$args)\n    {\n        $icon = $this-\u003estatusIcon($args[0]);\n        $args[0] = $icon;\n\n        return sprintf($this-\u003estatus_line, ...$args);\n    }\n\n    /**\n     * Get the memoized configuration struct or set it\n     *\n     * @return stdClass\n     *\n     * @throws RuntimeException\n     */\n    protected function getConfig()\n    {\n        if (is_null($this-\u003econfig)) {\n            $bitbarrc = getenv('HOME') . \"/.bitbarrc\";\n\n            if (!file_exists($bitbarrc)) {\n                throw new RuntimeException(\"~/.bitbarrc is missing\");\n            }\n\n            $config = parse_ini_file($bitbarrc, true);\n\n            if (!array_key_exists(\"github_ci\", $config)) {\n                throw new RuntimeException(\"[github_ci] section is missing in ~/.bitbarrc\");\n            }\n\n            $config = array_merge($this-\u003edefault_config, $config[\"github_ci\"]);\n            $config[\"base_uri\"] = \"https://\" . $config[\"hostname\"] . \"/api/v3/\";\n            $this-\u003econfig = (object) $config;\n        }\n\n        return $this-\u003econfig;\n    }\n\n    /**\n     * Send a Request to the Github API\n     *\n     * @param string $endpoint\n     * @param array $options\n     *\n     * @return stdClass\n     *\n     * @throws RuntimeException\n     */\n    protected function sendRequest($endpoint, $params = [])\n    {\n        $url = $this-\u003egetConfig()-\u003ebase_uri . $endpoint;\n        $params[\"access_token\"] = $this-\u003egetConfig()-\u003eaccess_token;\n        $url .= \"?\" . http_build_query($params);\n\n        $headers = null;\n        $body = null;\n        $ch = curl_init();\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n        curl_setopt($ch, CURLOPT_HEADER, true);\n        curl_setopt($ch, CURLOPT_URL, $url);\n        $response = curl_exec($ch);\n\n        if (!empty($response)) {\n            list($headers, $body) = explode(\"\\r\\n\\r\\n\", $response, 2);\n        }\n\n        curl_close($ch);\n\n        if (is_null($body)) {\n            throw new RuntimeException(\"Error making request to the Github API. Check your configuration.\");\n        } else {\n            return json_decode($body);\n        }\n    }\n\n    /**\n     * Get a single Pull Request\n     *\n     * @param string $repo\n     * @param int $id\n     *\n     * @return stdClass\n     */\n    protected function getPullRequest($repo, $id)\n    {\n        return $this-\u003esendRequest(\"repos/$repo/pulls/$id\");\n    }\n\n    /**\n     * Get the status of a single Commit\n     *\n     * @param string $repo\n     * @param string $sha\n     *\n     * @return stdClass\n     */\n    protected function getCommitStatus($repo, $sha)\n    {\n        return $this-\u003esendRequest(\"repos/$repo/commits/$sha/status\");\n    }\n\n    /**\n     * Perform search for open issues by the author in the repos\n     *\n     * @return stdClass\n     */\n    protected function searchPullRequests()\n    {\n        $q = \"state:open author:\" . $this-\u003egetConfig()-\u003eusername;\n        foreach ($this-\u003egetConfig()-\u003erepos as $repo) {\n          $q .= \" repo:$repo\";\n        }\n\n        return $this-\u003esendRequest(\"search/issues\", [\n            \"q\" =\u003e $q,\n        ])-\u003eitems;\n    }\n\n    /**\n     * Get the icon for the status\n     *\n     * @param string $status\n     *\n     * @return string\n     */\n    protected function statusIcon($status)\n    {\n        $map = [\n            \"success\" =\u003e \"\\033[0;32m‚óè\\033[0m\",\n            \"failure\" =\u003e \"\\033[0;31m‚óè\\033[0m\",\n            \"pending\" =\u003e \"\\033[0;34m‚óè\\033[0m\",\n            \"warning\" =\u003e \"\\033[0;33m‚óè\\033[0m\",\n        ];\n\n        return $map[$status];\n    }\n}\n\necho (new GithubCIStatus())-\u003erun();\n"
				}
			],
			"path": "Dev/GitHub/github-ci.1m.php",
			"filename": "github-ci.1m.php",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github-ci.1m.php.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github CI Status",
			"version": "v1.0",
			"author": "Jordan Andree",
			"authors": [
				{
					"name": "Jordan Andree",
					"githubUsername": "jordanandree",
					"imageURL": "https://avatars.githubusercontent.com/u/235503?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Displays Github Pull Request CI Check statuses",
			"imageURL": "https://xbarapp.com/public/img/xbar-2048.png",
			"dependencies": [
				"php"
			],
			"aboutURL": "https://github.com/jordanandree/bitbar-github-ci",
			"lastUpdated": "2021-03-08T15:21:48.293876Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github-contribution.10m.rb",
					"filename": "github-contribution.10m.rb",
					"content": "#!/usr/bin/env ruby\n# frozen_string_literal: true\n\n# \u003cbitbar.title\u003eGithub Contribution\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.0.2\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003emizoR\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003emizoR\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttps://user-images.githubusercontent.com/1257116/34550684-37da7286-f156-11e7-9299-5873b6bb2fd7.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003eruby\u003c/bitbar.dependencies\u003e\n#\n# To setup, create or edit your ~/.bitbarrc file with a new section:\n#\n# [github_contribution]\n# username = mizoR\n# max_contributions = 10\n\nrequire 'erb'\nrequire 'date'\nrequire 'open-uri'\n\nmodule BitBar\n  class INIFile\n    Error = Class.new(StandardError)\n\n    INIFileNotFound = Class.new(Error)\n\n    SectionNotFound = Class.new(Error)\n\n    def self.load(file = \"#{ENV['HOME']}/.bitbarrc\")\n      raise INIFileNotFound if !File.exist?(file)\n\n      parse(open(file) { |f| f.read })\n    end\n\n    def self.parse(source)\n      # XXX: This implementation isn't correct, but will work in most cases.\n      #      (Probably `StringScanner` will make code correct and clean.)\n      sections = {}\n\n      section = nil\n\n      source.each_line do |line|\n        if line =~ /^ *;/\n          # comment\n          next\n        end\n\n        if line =~ /^\\[(.+)\\]$/\n          section = sections[$1.to_sym] = {}\n          next\n        end\n\n        next unless section\n\n        if line =~ /(.+)=(.+)/\n          name  = $1.strip.to_sym\n          value = $2.strip\n\n          section[name] = value[/^\"(.*)\"$/, 1] || value[/^'(.*)'$/, 1] || value\n          next\n        end\n      end\n\n      new(sections: sections)\n    end\n\n    def initialize(sections:)\n      @sections = sections\n    end\n\n    def fetch(name)\n      @sections.fetch(name.to_sym)\n    rescue KeyError\n      raise SectionNotFound\n    end\n  end\n\n  module GitHubContribution\n    ConfigurationError = Class.new(StandardError)\n\n    class Contribution \u003c Struct.new(:username, :contributed_on, :count)\n      RE_CONTRIBUTION = %r|\u003crect .+ class=\"ContributionCalendar-day\" .+ data-count=\"(\\d+)\" data-date=\"(\\d\\d\\d\\d-\\d\\d-\\d\\d)\" .+\u003e|\n      def self.find_all_by(username:)\n        [].tap do |contributions|\n          today = Date.parse(DateTime.now.to_s).to_s\n          year = today.split(\"-\")[0];\n          html = URI.send(:open, \"https://github.com/users/#{username}/contributions?to=#{today}#year-link-#{year}\") { |f| f.read };\n          html.scan(RE_CONTRIBUTION) do |count, date|\n            contributions \u003c\u003c Contribution.new(username, Date.parse(date), count.to_i)\n            break if Date.parse(date) == Date.parse(DateTime.now.to_s)\n          end\n        end\n      end\n\n      def color\n        count \u003c= 0 ? 'brown' : 'green'\n      end\n\n      def icon\n        case count\n        when 0    then ':poop:'\n        when 1..3 then ':seedling:'\n        when 4..9 then ':herb:'\n        else           ':deciduous_tree:'\n        end\n      end\n    end\n\n    class View\n      TEMPLATE = \u003c\u003c-EOT.gsub(/^ */, '')\n        \u003c%= @contribution.icon %\u003e\u003c%= @contribution.count %\u003e | color=\u003c%= @contribution.color %\u003e\n        ---\n        \u003c% @contributions.each do |c| -%\u003e\n        \u003c%= @helper.link_to(@helper.contribution_text_for(c), @helper.contribution_activity_for(c)) %\u003e\n        \u003c% end -%\u003e\n      EOT\n\n      class Helper\n        def link_to(text, href)\n          if text =~ / | /\n            \"#{text} href=#{href}\"\n          else\n            \"#{text} | href=#{href}\"\n          end\n        end\n\n        def contribution_text_for(contribution)\n          \"#{contribution.icon} #{contribution.contributed_on.strftime('%Y-%m-%d (%a)')}   \\t#{contribution.count} | color=#{contribution.color}\"\n        end\n\n        def contribution_activity_for(contribution)\n          query    = \"to=#{contribution.contributed_on}\"\n          fragment = \"year-link-#{contribution.contributed_on.year}\"\n          \n          \"https://github.com/#{contribution.username}?#{query}##{fragment}\"\n        end\n      end\n\n      def initialize(contributions:)\n        @contribution  = contributions.fetch(0)\n        @contributions = contributions\n        @helper        = Helper.new\n      end\n\n      def render\n        puts ERB.new(TEMPLATE, nil, '-').result(binding)\n      end\n    end\n\n    class App\n      DEFAULT_CONFIG = { max_contributions: 10 }\n\n      def initialize(config = {})\n        config = cast_config(DEFAULT_CONFIG.merge(config))\n\n        @username, @max_contributions = config.values_at(:username, :max_contributions)\n      end\n\n      def run\n        # (DateTime.now-7).to_s\n        contributions = Contribution.find_all_by(username: @username)\n                                    .sort_by(\u0026:contributed_on)\n                                    .select{|l| l.contributed_on \u003c DateTime.now}\n                                    .reverse\n                                    .slice(0, @max_contributions)\n        View.new(contributions: contributions).render\n      end\n\n      private\n\n      def cast_config(config)\n        username          = config[:username].to_s\n        max_contributions = config[:max_contributions].to_i\n\n        if username.empty?\n          raise ConfigurationError, 'GitHub username is not given.'\n        end\n\n        if !max_contributions.positive?\n          raise ConfigurationError,\n            \"Max contributions should be positive integer, but it was #{max_contributions}\"\n        end\n\n        { username: username, max_contributions: max_contributions }\n      end\n    end\n  end\nend\n\nif __FILE__ == $0\n  begin\n    config = BitBar::INIFile.load.fetch(:github_contribution)\n\n    BitBar::GitHubContribution::App.new(config).run\n  rescue BitBar::INIFile::Error\n    puts \u003c\u003c-EOM.gsub(/^ */, '')\n      ‚ö†Ô∏è\n      ---\n      To setup, create or edit your ~/.bitbarrc file with a new section:\n      |\n      ;# ~/.bitbarrc\n      [github_contribution]\n      username = \u003cGITHUB_USERNAME\u003e\n      max_contributions = 10\n    EOM\n  rescue BitBar::GitHubContribution::ConfigurationError =\u003e e\n    puts \u003c\u003c-EOM.gsub(/^ */, '')\n      ‚ö†Ô∏è\n      ---\n      #{e.message}\n    EOM\n  end\nend"
				}
			],
			"path": "Dev/GitHub/github-contribution.10m.rb",
			"filename": "github-contribution.10m.rb",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github-contribution.10m.rb.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github Contribution",
			"version": "v0.0.2",
			"author": "mizoR",
			"authors": [
				{
					"name": "Ryutaro Mizokami",
					"githubUsername": "mizoR",
					"imageURL": "https://avatars.githubusercontent.com/u/1257116?v=4",
					"bio": "Software developer",
					"primary": true
				}
			],
			"desc": "",
			"imageURL": "https://user-images.githubusercontent.com/1257116/34550684-37da7286-f156-11e7-9299-5873b6bb2fd7.png",
			"dependencies": [
				"ruby"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.298112Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/pull-requests.5m.js",
					"filename": "pull-requests.5m.js",
					"content": "#!/usr/bin/env node\n// jshint esversion: 6, asi: true\n\n// \u003cbitbar.title\u003eGithub Pull requests\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev2.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eNoam Knispel\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003enoamknispel\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003eGet list of pull requests from Github for multiple repositories\u003c/bitbar.desc\u003e\n// \u003cbitbar.dependencies\u003enode.js request co bluebird\u003c/bitbar.dependencies\u003e\n\n// EDIT YOUR INFO BELOW:\nconst username = ''\nconst token = ''\nvar repos = [\n//owner/repo\n]\n// DO NOT EDIT BELOW THIS POINT\n\nvar bluebird = require(\"bluebird\")\nvar request = bluebird.promisifyAll(require(\"request\"))\nvar co = require(\"co\")\n\nco(function* () {\n  var results = yield repos.map(function(repo) { //jshint ignore:line\n    var options = {\n      url: 'https://api.github.com/repos/' + repo + '/pulls',\n      headers: {\n        'User-Agent': username + ' - bitbar'\n      },\n      auth: {\n        user: username,\n        password: token\n      }\n    }\n    return request.getAsync(options);\n  })\n\n  var totalCount = 0\n  var strings = results.reduce( (acc, response) =\u003e {\n    var info = JSON.parse(response.body)\n    if(info.length \u003e 0) {\n      totalCount += info.length\n      acc.push(info[0].base.repo.name + \" | color=#0000ff\")\n      info.forEach(function(pr) {\n        acc.push(\"#\" + pr.number + \" \" + pr.title + \" (\" + pr.user.login + \") | href=\" + pr.html_url)\n      })\n    }\n    return acc\n  }, ['---'] )\n\n  strings.unshift(`${totalCount} Pull Request`)\n  for( var string of strings)\n    console.log(string)\n}).catch(function() {});\n"
				}
			],
			"path": "Dev/GitHub/pull-requests.5m.js",
			"filename": "pull-requests.5m.js",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/pull-requests.5m.js.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github Pull requests",
			"version": "v2.0",
			"author": "Noam Knispel",
			"authors": [
				{
					"name": "Noam Knispel",
					"githubUsername": "noamknispel",
					"imageURL": "https://avatars.githubusercontent.com/u/6729694?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Get list of pull requests from Github for multiple repositories",
			"imageURL": "https://xbarapp.com/public/img/xbar-2048.png",
			"dependencies": [
				"node.js request co bluebird"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.661976Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/repo-issues.5m.js",
					"filename": "repo-issues.5m.js",
					"content": "#!/usr/bin/env /usr/local/bin/node\n\n// \u003cbitbar.title\u003eGithub Repository Issues\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eTom Genoni\u003c/bitbar.author\u003e\n// \u003cbitbar.desc\u003eLists all pull requests and issues, up to 100 total.\u003c/bitbar.desc\u003e\n// \u003cbitbar.author.github\u003etomgenoni\u003c/bitbar.author.github\u003e\n// \u003cbitbar.dependencies\u003enode.js\u003c/bitbar.dependencies\u003e\n\n$HOSTNAME = \"\"; // For enterprise Github accounts, e.g., github.tinderforcats.com/api/v3\n$ORG = \"matryer\";\n$REPOSITORY = \"bitbar\";\n$BITBAR_TITLE = \"bitbar\";\n$GITHUB_ACCESS_TOKEN = \"\";\n\n// ----------- Ignore below this line ---------------\n\nvar https = require('https');\n\nvar options = {\n  host: $HOSTNAME || 'api.github.com',\n  headers: {'user-agent': 'Mozilla/5.0'},\n  path: '/repos/'+$ORG+'/'+$REPOSITORY+'/issues?GITHUB_ACCESS_TOKEN=' + $GITHUB_ACCESS_TOKEN + '\u0026per_page=100'\n};\n\nhttps.get(options, function(res) {\n  var body = '';\n  res.on('data', function(data) {\n    body += data;\n  });\n  res.on('end', function() {\n    handleResponse(JSON.parse(body));\n  });\n});\n\nfunction fixedIssues(body) {\n\n  var arr = [];\n\n  var closeTerms = ['close', 'closes', 'closed', 'fix', 'fixes', 'fixed', 'resolve', 'resolves', 'resolved'];\n\n  body.map(function(issues){\n    if ( issues.pull_request ) {\n      var comments = issues.body;\n\n      closeTerms.forEach(function(term) {\n        var regex = new RegExp(term + \" #([0-9]+)\", \"ig\");\n        var matches = comments.match(regex);\n        if (matches) {\n          matches.forEach(function(match) {\n            var num = match.split(\"#\")[1];\n            arr.push(num);\n          });\n        }\n      });\n    }\n  });\n\n  return arr;\n}\n\nfunction allIssues(body) {\n\n  var fixed = fixedIssues(body);\n\n  var issues = body.map(function(issues){\n    if ( issues.pull_request ) {\n      return [issues.title, ' - #', issues.number, ' | href=', issues.html_url,'\\n'].join('');\n    }\n  }).join('\\n');\n\n  var prs = body.map(function(issues){\n    var color = \"\";\n    if ( !issues.pull_request ) {\n      if ( fixed.indexOf(issues.number.toString()) \u003e -1 ) {\n        color = \"color=#aaaaaa\";\n      }\n      return [issues.title, ' - #', issues.number,' (', issues.user.login, ') | href=', issues.html_url, ' ', color, '\\n'].join('');\n    }\n  }).join('\\n');\n\n  return [issues, prs];\n}\n\nfunction issueCount(body) {\n  var p = 0;\n  body.map(function(issues){\n    if ( issues.pull_request ) {\n      p++;\n    }\n  });\n  var i = body.length - p;\n  return [i, p];\n}\n\nfunction handleResponse(body) {\n  var countPRs = issueCount(body)[1];\n  var countIssues = issueCount(body)[0];\n  var listIssues = allIssues(body)[1];\n  var listPRs = allIssues(body)[0];\n\n  console.log($BITBAR_TITLE + \" \" + countPRs + \"/\" + countIssues);\n\n  console.log(\"---\");\n  console.log(\"Pull Requests \" + countPRs);\n  console.log(listPRs);\n\n  console.log(\"---\");\n  console.log(\"Issues \" + countIssues);\n  console.log(listIssues);\n\n}\n"
				}
			],
			"path": "Dev/GitHub/repo-issues.5m.js",
			"filename": "repo-issues.5m.js",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/repo-issues.5m.js.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github Repository Issues",
			"version": "v1.0",
			"author": "Tom Genoni",
			"authors": [
				{
					"name": "Tom Genoni",
					"githubUsername": "tomgenoni",
					"imageURL": "https://avatars.githubusercontent.com/u/1171072?v=4",
					"bio": "Design Systems at Thumbtack",
					"primary": true
				}
			],
			"desc": "Lists all pull requests and issues, up to 100 total.",
			"imageURL": "https://xbarapp.com/public/img/xbar-2048.png",
			"dependencies": [
				"node.js"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.689832Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github-trending.1h.rb",
					"filename": "github-trending.1h.rb",
					"content": "#!/usr/bin/env ruby\n# -*- coding: utf-8 -*-\n\n# \u003cbitbar.title\u003eGithub Trending\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.1.2\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003emfks17\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003emfks17\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eGithub Daily Trending Viewer\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/mfks17/bitbar-plugin-github-trending/Screenshots/01.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003eruby, nokogiri\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/mfks17/bitbar-plugins-github-trending\u003c/bitbar.abouturl\u003e\n\nrequire 'open-uri'\nrequire 'json'\nrequire 'nokogiri'\n\nLANG = 'swift'.freeze # your favorite language\n# LANG = 'java'.freeze\n\nurl = 'https://github.com/trending/' + LANG + '?since=daily'\nBASE_URL = 'https://github.com/'.freeze\n\ncharset = nil\nhtml = open(url) do |f|\n  charset = f.charset\n  f.read\nend\n\nhash = {}\n\nputs LANG.capitalize\nputs '---'\n\ndoc = Nokogiri::HTML.parse(html, nil, charset)\ndoc.xpath('//li[@class=\"repo-list-item\"]').each do |node|\n  node.xpath('./h3[@class=\"repo-list-name\"]/a').attribute('href').value.each_line do |s|\n    s.slice!(0)\n    hash = { name: s, url: BASE_URL + s }\n\n    api = 'https://api.github.com/repos/' + s\n    begin\n      res = open(api)\n      code, message = res.status\n    rescue =\u003e _\n      puts 'üôÖGithub Api LimitsüôÖ'\n      exit\n    end\n\n    if code == '200'\n      result = JSON.parse(res.read)\n      puts hash.fetch(:name) + ' ‚≠êÔ∏è Daily: ' + node.xpath('./p[@class=\"repo-list-meta\"]').text.split(\"\\n\")[5].split(' ')[0] + ' - Total: ' + result.fetch('stargazers_count').to_s + '| sizes=14 href=' + hash.fetch(:url)\n    else\n      puts \"OMG!! #{code} #{message}\"\n    end\n  end\nend\n"
				}
			],
			"path": "Dev/GitHub/github-trending.1h.rb",
			"filename": "github-trending.1h.rb",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github-trending.1h.rb.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github Trending",
			"version": "v0.1.2",
			"author": "mfks17",
			"authors": [
				{
					"name": "mfks17",
					"githubUsername": "mfks17",
					"imageURL": "https://avatars.githubusercontent.com/u/1155040?v=4",
					"bio": "programmer üì± ",
					"primary": true
				}
			],
			"desc": "Github Daily Trending Viewer",
			"imageURL": "https://raw.githubusercontent.com/mfks17/bitbar-plugin-github-trending/Screenshots/01.png",
			"dependencies": [
				"ruby",
				"nokogiri"
			],
			"aboutURL": "https://github.com/mfks17/bitbar-plugins-github-trending",
			"lastUpdated": "2021-03-08T15:21:48.533463Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/github-review-requests.5m.py",
					"filename": "github-review-requests.5m.py",
					"content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# \u003cbitbar.title\u003eGithub review requests\u003c/bitbar.title\u003e\n# \u003cbitbar.desc\u003eShows a list of PRs that need to be reviewed\u003c/bitbar.desc\u003e\n# \u003cbitbar.version\u003ev0.1\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eAdam Bogda≈Ç\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ebogdal\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttps://github-bogdal.s3.amazonaws.com/bitbar-plugins/review-requests.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n\n# ----------------------\n# ---  BEGIN CONFIG  ---\n# ----------------------\n\n# https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/\nACCESS_TOKEN = ''\n\nGITHUB_LOGIN = ''\n\n# (optional) PRs with this label (e.g 'in progress') will be grayed out on the list\nWIP_LABEL = ''\n\n# (optional) Filter the PRs by an organization, labels, etc. E.g 'org:YourOrg -label:dropped'\nFILTERS = ''\n\n# --------------------\n# ---  END CONFIG  ---\n# --------------------\n\nimport datetime\nimport json\nimport os\nimport sys\ntry:\n    # For Python 3.x\n    from urllib.request import Request, urlopen\nexcept ImportError:\n    # For Python 2.x\n    from urllib2 import Request, urlopen\n\n\nDARK_MODE = os.environ.get('BitBarDarkMode')\n\nquery = '''{\n  search(query: \"%(search_query)s\", type: ISSUE, first: 100) {\n    issueCount\n    edges {\n      node {\n        ... on PullRequest {\n          repository {\n            nameWithOwner\n          }\n          author {\n            login\n          }\n          createdAt\n          number\n          url\n          title\n          labels(first:100) {\n            nodes {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n}'''\n\n\ncolors = {\n    'inactive': '#b4b4b4',\n    'title': '#ffffff' if DARK_MODE else '#000000',\n    'subtitle': '#586069'}\n\n\ndef execute_query(query):\n    headers = {\n        'Authorization': 'bearer ' + ACCESS_TOKEN,\n        'Content-Type': 'application/json'}\n    data = json.dumps({'query': query}).encode('utf-8')\n    req = Request(\n        'https://api.github.com/graphql', data=data, headers=headers)\n    body = urlopen(req).read()\n    return json.loads(body)\n\n\ndef search_pull_requests(login, filters=''):\n    search_query = 'type:pr state:open review-requested:%(login)s %(filters)s' % {\n        'login': login, 'filters': filters}\n    response = execute_query(query % {'search_query': search_query})\n    return response['data']['search']\n\n\ndef parse_date(text):\n    date_obj = datetime.datetime.strptime(text, '%Y-%m-%dT%H:%M:%SZ')\n    return date_obj.strftime('%B %d, %Y')\n\n\ndef print_line(text, **kwargs):\n    params = ' '.join(['%s=%s' % (key, value) for key, value in kwargs.items()])\n    print('%s | %s' % (text, params) if kwargs.items() else text)\n\n\nif __name__ == '__main__':\n    if not all([ACCESS_TOKEN, GITHUB_LOGIN]):\n        print_line('‚ö† Github review requests', color='red')\n        print_line('---')\n        print_line('ACCESS_TOKEN and GITHUB_LOGIN cannot be empty')\n        sys.exit(0)\n\n    response = search_pull_requests(GITHUB_LOGIN, FILTERS)\n\n    print_line('#%s' % response['issueCount'])\n    print_line('---')\n\n    for pr in [r['node'] for r in response['edges']]:\n        labels = [l['name'] for l in pr['labels']['nodes']]\n        title = '%s - %s' % (pr['repository']['nameWithOwner'], pr['title'])\n        title_color = colors.get('inactive' if WIP_LABEL in labels else 'title')\n        subtitle = '#%s opened on %s by @%s' % (\n            pr['number'], parse_date(pr['createdAt']), pr['author']['login'])\n        subtitle_color = colors.get('inactive' if WIP_LABEL in labels else 'subtitle')\n\n        print_line(title, size=16, color=title_color, href=pr['url'])\n        print_line(subtitle, size=12, color=subtitle_color)\n        print_line('---')\n"
				}
			],
			"path": "Dev/GitHub/github-review-requests.5m.py",
			"filename": "github-review-requests.5m.py",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/github-review-requests.5m.py.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Github review requests",
			"version": "v0.1",
			"author": "Adam Bogda≈Ç",
			"authors": [
				{
					"name": "Adam Bogda≈Ç",
					"githubUsername": "bogdal",
					"imageURL": "https://avatars.githubusercontent.com/u/1451824?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Shows a list of PRs that need to be reviewed",
			"imageURL": "https://github-bogdal.s3.amazonaws.com/bitbar-plugins/review-requests.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.311914Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Gitlab/gitlab_ci.1m.py",
					"filename": "gitlab_ci.1m.py",
					"content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# \u003cbitbar.title\u003eGitlab CI\u003c/bitbar.title\u003e\n# \u003cbitbar.desc\u003eShows currently running pipelines from your GitLab in your bar. Interested in more advanced GitLab bar integration? Let me know (martin@kluska.cz). This implementation is just quick solution.\u003c/bitbar.desc\u003e\n# \u003cbitbar.version\u003ev0.21\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eMartin Kluska\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003epionl\u003c/bitbar.author.github\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/pionl/bitbar-gitlab-ci/master/gitlab_ci.png\u003c/bitbar.image\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/pionl/bitbar-gitlab-ci\u003c/bitbar.abouturl\u003e\n#\n\nimport json\n\ntry:\n    # For Python 3.0 and later\n    from urllib.request import urlopen\nexcept ImportError:\n    # Fall back to Python 2's urllib2\n    from urllib2 import urlopen\n\n# Your private key for accessing gitlab: User -\u003e Settings -\u003e Access tokens -\u003e add personal access token with api scope\nPRIVATE_TOKEN = 'token'\n# Gitlab URL\nURL = 'https://gitlab.example.com'\n# Define your server and projects (name: id)\n# To get id go to project -\u003e Settings -\u003e General -\u003e General project settings\nPROJECTS ={\"React\": 3}\n\npipelines = []\n\n# Converts the gitlab status to emoji\ndef stateIcon(status):\n    return {\n        \"created\": \"üí§\",\n        \"pending\": \"üí§\",\n        \"running\": \"üöÄ\",\n        \"failed\": \"‚ùó\",\n        \"success\": \"‚úîÔ∏è\",\n        \"skipped\": \"üöÄ\",\n        \"manual\": \"üí§\"\n    }[status]\n\n# Calls gitlab API endpoint with private_token\ndef api (method):\n    url = URL + \"/api/v4/\" + method\n    param = 'private_token=' + PRIVATE_TOKEN\n    # Detect if method has query string (we need to append private token)\n    url = url + (('\u0026') if \"?\" in url else ('?')) + param\n    body = urlopen(url).read()\n    return json.loads(body.decode('utf-8'))\n\n# Project details\nclass Project:\n    def __init__ (self, name, id):\n        self.name = name\n        self.id = id\n\n# Pipile job\nclass Job:\n    def __init__ (self, json):\n        self.name = json[\"stage\"] + (\": \" + json[\"name\"] if json[\"name\"] != json[\"stage\"] else \"\" )\n        self.status = json[\"status\"]\n        self.duration = 0 if json[\"duration\"] is None or self.status == 'running' else int(json[\"duration\"])\n        self.commit = json['commit']['title']\n\n    # Jobs name with duration\n    def displayName(self):\n        return self.name + (' ' + str(self.duration) + 's' if self.duration \u003e 0 else '')\n    \n# Pipile\nclass Pipeline:\n    def __init__ (self, projectName, projectId, json):\n        self.project = Project(projectName, projectId)\n        self.id = json[\"id\"]\n        self.jobs = []\n        self.runningJobs = []\n        self.ref = str(json[\"ref\"])\n        self.commit = None\n\n    # Display name with current running jobs\n    def displayName(self):\n        jobsString = 'üí§'\n\n        # Get running jobs and append the name\n        if len(self.runningJobs) \u003e 0:\n            strings = []\n            for job in self.runningJobs:\n                strings.append(job.displayName()) \n\n            jobsString = ', '.join(strings)\n\n        return self.project.name + ' - ' + self.ref + ' (' + jobsString + ')'\n\n    # Add jobs array json\n    def addJobs(self, jobsArray):\n        for jobJson in jobsArray:\n            # Parse the job\n            job = Job(jobJson)\n            # Add the jobs array\n            self.jobs.append(job)\n\n            # Get the commit from the first job\n            if self.commit is None:\n                self.commit = job.commit\n\n            # Check if the job is running for running jobs array\n            if job.status == 'running':\n                self.runningJobs.append(job)\n\n\n# Loop the projects and get thy jobs\nfor name, project in PROJECTS.iteritems():\n    runningPipelines = api(\"projects/\"+str(project)+\"/pipelines?scope=running\")\n\n    for pipelineJson in runningPipelines:\n        pipeline = Pipeline(name, project, pipelineJson)\n        jobsArray = api(\"projects/\"+str(project)+\"/pipelines/\"+str(pipeline.id)+\"/jobs\")\n        if jobsArray.count \u003e 0:\n            pipeline.addJobs(jobsArray)\n            pipelines.append(pipeline)\n\npipelineCount = len(pipelines)\nif pipelineCount == 0:\n    print \"üí§\"\n    exit\n\n\n## Render the pipelines names (bitbar will loop)\nfor index, pipeline in enumerate(pipelines):\n    print 'üöÄ ',\n\n    if pipelineCount \u003e 1:\n        print str(index + 1) + '/' + str(pipelineCount) + ' ',\n\n    print pipeline.displayName()\n\n\n## Start menu\nprint \"---\"\n\nfor pipeline in pipelines:\n    print 'üöÄ ' + pipeline.project.name + ' - ' + pipeline.ref + '| color=black'\n    print '-- commit: ' + pipeline.commit + '| color=black'\n    print '---'\n    for job in pipeline.jobs:\n        print stateIcon(job.status) + \" \",\n\n        style = ''\n        if job.status == 'success':\n            style = '| color=green'\n        elif job.status == 'running':\n            style = '| color=blue'\n\n        print job.displayName() + style\n\n        "
				}
			],
			"path": "Dev/Gitlab/gitlab_ci.1m.py",
			"filename": "gitlab_ci.1m.py",
			"dir": "Dev/Gitlab",
			"docsPlugin": "Dev/Gitlab/gitlab_ci.1m.py.html",
			"docsCategory": "Dev/Gitlab.html",
			"pathSegments": [
				"Dev",
				"Gitlab"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Gitlab",
					"text": "Gitlab",
					"isLast": true
				}
			],
			"title": "Gitlab CI",
			"version": "v0.21",
			"author": "Martin Kluska",
			"authors": [
				{
					"name": "Martin Kluska",
					"githubUsername": "pionl",
					"imageURL": "https://avatars.githubusercontent.com/u/1878831?v=4",
					"bio": "I make stuff (web, mobile, apps and ‚òïÔ∏è )",
					"primary": true
				}
			],
			"desc": "Shows currently running pipelines from your GitLab in your bar. Interested in more advanced GitLab bar integration? Let me know (martin@kluska.cz). This implementation is just quick solution.",
			"imageURL": "https://raw.githubusercontent.com/pionl/bitbar-gitlab-ci/master/gitlab_ci.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "https://github.com/pionl/bitbar-gitlab-ci",
			"lastUpdated": "2021-03-08T15:21:48.698363Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Gitlab/gitlab_status.10m.sh",
					"filename": "gitlab_status.10m.sh",
					"content": "#!/usr/bin/env bash\n# \u003cbitbar.title\u003eGitlab status plugin\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.1\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eBrett Jones\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eblockloop\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttps://dl.dropbox.com/s/r4st2fnfhy7tcsv/gitlab-status-screenshot-bitbar.png\u003c/bitbar.image\u003e\n# \u003cbitbar.desc\u003eShows the current status of status.gitlab.com. Find out if Gitlab is having DDOS problems which will affect pushes/pulls.\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n#\n\nrawfeed=\"$(curl -SsL https://status.gitlab.com/ | grep OK)\"\nfeed=\"$(echo \"$rawfeed\" | sed 's/\u003ch5\u003e\u003cspan class=\"label label-.*\"\u003e//g' | sed 's/\u003c\\/span\u003e//g' | sed 's/\u003c\\/h5\u003e//g')\"\n\nif [[ $rawfeed == *\"label-error\"* ]]; then\n    echo \"‚úï | color=red image=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\"\nelif [[ $rawfeed == *\"label-warning\"* ]]; then\n    echo \"‚úï | color=orange image=iVBORw0KGgoAAAANSUhEUgAAABgAAAAQCAYAAAF7I48DAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAgdJREFUeNpi/P//PwMMsDAwMDC8Wqn5n4GB4R4AAAD//2J4uULD/v///wz///9nYGJgYDgAlWEAAAAA//9i+P//P8PLFRr/oXQhsioGBgYG+VcrNf8xMDAkwgwGAAAA//9igKmA6nCA63i1UrOCAQH2wxiML1do/GdgYIA7Tiz8OhMDAwMD4////2FuZBALv84IUwAAAAD//0I2/xeyfVCxP+hiyCb9Z2Bg2MbAwPAbalYAVExNLPz6HZTgYWBgWMbAwBDFwMDgDbMYihkZGBgeMyADLM74/3KFhj+6OAwDAAAA//+CKbLFotEWmwZYiG9jwASbsYjBNfC8WqlZiSbH/2qlZiO6BsaXKzRkGBgYHkE9uAEqzszAwODDwMDAiBIH0FDajcT3h2qEhRBWJ+kiKYLbDKXXYDgJlmZfrdQ8w8DAYIxkuopY+PW7GFagBaUnLPHiwgAAAAD//5yTIQ7CYAyFvxESBL4SJOwahDvU4hAkUwiuQFAEh0GR8BsM4SwNKLA7BWai+bN/G3uqfUn78vrSzH9FGfInMBK1JQ0oQ/4AxqK2oAXewhT4VPxM1N6J5RPgW7VzUXs1CQxcfXd1aJi5JWbSDsqQF8CRftiJ2r7NQeFzjD6Omt7zm04ZVPddAZdoaVZTA6xF7dw55JowD8A2ok+iVvxzv6SAE1JgKGrXPgH9BgBr8TrluXZFrgAAAABJRU5ErkJggg==\"\nelse\n    echo \"‚úì | font='PilGi Regular' image=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\"\nfi\n\necho \"---\"\nwhile read -r l; do\n    echo \"$l\"\ndone \u003c\u003c\u003c \"$feed\"\necho \"status.gitlab.com | href=https://status.gitlab.com/\"\n"
				}
			],
			"path": "Dev/Gitlab/gitlab_status.10m.sh",
			"filename": "gitlab_status.10m.sh",
			"dir": "Dev/Gitlab",
			"docsPlugin": "Dev/Gitlab/gitlab_status.10m.sh.html",
			"docsCategory": "Dev/Gitlab.html",
			"pathSegments": [
				"Dev",
				"Gitlab"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Gitlab",
					"text": "Gitlab",
					"isLast": true
				}
			],
			"title": "Gitlab status plugin",
			"version": "v0.1",
			"author": "Brett Jones",
			"authors": [
				{
					"name": "Brett Jones",
					"githubUsername": "blockloop",
					"imageURL": "https://avatars.githubusercontent.com/u/3022496?v=4",
					"bio": "I think I am a Pyrrhonist, but I‚Äôm not sure",
					"primary": true
				}
			],
			"desc": "Shows the current status of status.gitlab.com. Find out if Gitlab is having DDOS problems which will affect pushes/pulls.",
			"imageURL": "https://dl.dropbox.com/s/r4st2fnfhy7tcsv/gitlab-status-screenshot-bitbar.png",
			"dependencies": [
				"python"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:49.003745Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/Git/get_pull_requests_bitbar.1h.rb",
					"filename": "get_pull_requests_bitbar.1h.rb",
					"content": "#!/usr/bin/env ruby\n# frozen_string_literal: true\n\n# \u003cbitbar.title\u003ePR Counts for Github and Bitbucket\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.1.1\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eMarco Cabazal\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eMarcoCabazal\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eGets Pull Request Counts for Github and Bitbucket Repos\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://marcocabazal.github.io/images/gpr_snap.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003eruby \u003e= 2\u003c/bitbar.dependencies\u003e\n\n###### README\n# Please secure the app-specific password/personal access token from either Bitbucket or Github.\n# These tokens are necessary to raise request limits and for the script to have read access to\n# private repositories.\n#\n# For Bitbucket: From your profile page, click on Bitbucket Settings -\u003e App Passwords\n# For Github: Click on your avatar, then go to Settings -\u003e Personal Access Tokens\n#\n#\n# Run frequency of this script is defined by the filename, i.e., for\n# the default get_pull_requests_bitbar.1h.rb, frequency is every hour.\n#\n# You may rename this script with the following options to fine-tune.\n# Options: {n}s for seconds\n#          {n}m for minutes\n#          {n}h for hours\n#          {n}d for days\n#\n#\n###### EXTRA\n# When run from bitbar or if filename contains the word bitbar, output is\n# multiline (click menu item to see details), otherwise, it just outputs\n# the total PR counts (good for use with BetterTouchTool). To use with BetterTouchTool,\n# just create a symlink to this script without the word bitbar and refer to that link instead.\n\n###### BEGIN_CONFIG\nREPOS_YAML = File.expand_path \"~/.repos.yaml\"\n###### Sample YAML config\n# repos:\n#   - name: \"Bitbar Plugins\"\n#     service: \"github\"\n#     repo: \"matryer/bitbar-plugins\"\n#\n#   - name: \"Bitbar Plugins\"\n#     service: \"github\"\n#     repo: \"matryer/bitbar-plugins\"\n#     username: \"your-github-username-not-your-email\"\n#     app_password: \"personal-access-token\"\n#\n# should_monitor_on_weekends: true\n\n###### END_CONFIG\n\nSERVICES = {\n  bitbucket: {\n    api_prefix: \"https://api.bitbucket.org/2.0/repositories\",\n    api_suffix: \"pullrequests\",\n    human_prefix: \"https://bitbucket.org\",\n    human_suffix: \"pull-requests\"\n  },\n  github: {\n    api_prefix: \"https://api.github.com/repos\",\n    api_suffix: \"pulls?state=open\u0026type=pr\u0026per_page=1\",\n    human_prefix: \"https://github.com\",\n    human_suffix: \"pulls\"\n  }\n}.freeze\n\nrequire \"net/http\"\nrequire \"net/https\"\nrequire \"json\"\nrequire \"base64\"\nrequire \"yaml\"\n\nclass GetPullRequests\n  def do_it!\n    return if $PROGRAM_NAME != __FILE__\n    parse_yaml_config\n    if !should_monitor_on_weekends? \u0026\u0026 its_a_weekend?\n      puts \"0 PRs.\"\n      return\n    end\n\n    retrieve_pr_counts\n  end\n\n  private\n\n  def should_monitor_on_weekends?\n    @should_monitor_on_weekends\n  end\n\n  def its_a_weekend?\n    now = Time.now\n    now.saturday? || now.sunday?\n  end\n\n  def called_by_bitbar?\n    $PROGRAM_NAME =~ /bitbar/i\n  end\n\n  def parse_yaml_config\n    if !File.exist? REPOS_YAML\n      puts \"Please configure at least one repo in ~/.repos.yaml. See source for example.\"\n      exit\n    end\n    config = YAML.load_file REPOS_YAML\n    @should_monitor_on_weekends = config[\"should_monitor_on_weekends\"] || false\n\n    @repos = []\n    config[\"repos\"].each do |repo|\n      repo_hash = { name: repo[\"name\"], service: repo[\"service\"], repo: repo[\"repo\"] }\n      repo_hash[:username] = repo[\"username\"] if !repo[\"username\"].nil?\n      repo_hash[:app_password] = repo[\"app_password\"] if !repo[\"app_password\"].nil?\n      @repos \u003c\u003c repo_hash\n    end\n  end\n\n  def call_api(http_method, endpoint, token = nil)\n    uri = URI endpoint\n\n    begin\n      http = Net::HTTP.new(uri.host, uri.port)\n      http.use_ssl = true\n      http.verify_mode = OpenSSL::SSL::VERIFY_PEER\n\n      request = Net::HTTP.const_get(http_method.downcase.capitalize).new(uri)\n      request.add_field \"Authorization\", \"Basic #{token}\" if !token.nil?\n      request.add_field \"Content-Type\", \"application/json\"\n      response = http.request(request)\n\n      yield(response)\n    rescue StandardError =\u003e error\n      puts \"? PRs\"\n      if called_by_bitbar?\n        puts \"---\"\n        puts \"Got Error: #{error.message}\"\n      end\n    end\n  end\n\n  def retrieve_pr_counts\n    total_pr_count = 0\n    repo_counts = [\"---\"]\n\n    @repos.each do |repo|\n      if repo[:app_password]\n        token = Base64.encode64(\"#{repo[:username]}:#{repo[:app_password]}\").chomp if repo[:service] == \"bitbucket\"\n        token = repo[:app_password] if repo[:service] == \"github\"\n      end\n\n      service = SERVICES[repo[:service].to_sym]\n      endpoint = \"#{service[:api_prefix]}/#{repo[:repo]}/#{service[:api_suffix]}\"\n      human_url = \"#{service[:human_prefix]}/#{repo[:repo]}/#{service[:human_suffix]}\"\n\n      call_api 'GET', endpoint, token do |response|\n        pr_count = pr_count_for_bitbucket(response) if repo[:service] == \"bitbucket\"\n        pr_count = pr_count_for_github(response) if repo[:service] == \"github\"\n        total_pr_count += pr_count\n\n        repo_counts \u003c\u003c \"#{repo[:name]}: #{pr_count} | href=#{human_url}\" if called_by_bitbar?\n      end\n    end\n\n    if total_pr_count.positive?\n      puts \"#{total_pr_count} PR#{total_pr_count \u003e 1 ? 's' : ''}\"\n    else\n      puts called_by_bitbar? ? \"0 PRs | color=lightgray size=12\" : \"0 PRs\"\n    end\n    puts repo_counts.join(\"\\n\") if called_by_bitbar?\n  end\n\n  def pr_count_for_github(response)\n    links = {}\n    if response[\"Link\"]\n      header_links = response[\"Link\"].split(',')\n      header_links.each do |link|\n        (page, rel) = link.match(/\u0026page=(.*)\u003e; rel=\"(.*)\"/).captures\n        links[rel] = page\n      end\n      links[\"last\"].to_i\n    else\n      result = JSON.parse(response.body)\n      result.count.to_i\n    end\n  end\n\n  def pr_count_for_bitbucket(response)\n    result = JSON.parse(response.body)\n    result[\"size\"].to_i\n  end\nend\n\nGetPullRequests.new.do_it!\n"
				}
			],
			"path": "Dev/Git/get_pull_requests_bitbar.1h.rb",
			"filename": "get_pull_requests_bitbar.1h.rb",
			"dir": "Dev/Git",
			"docsPlugin": "Dev/Git/get_pull_requests_bitbar.1h.rb.html",
			"docsCategory": "Dev/Git.html",
			"pathSegments": [
				"Dev",
				"Git"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/Git",
					"text": "Git",
					"isLast": true
				}
			],
			"title": "PR Counts for Github and Bitbucket",
			"version": "v1.1.1",
			"author": "Marco Cabazal",
			"authors": [
				{
					"name": "Marco Cabazal",
					"githubUsername": "MarcoCabazal",
					"imageURL": "https://avatars.githubusercontent.com/u/918909?v=4",
					"bio": "swift (ios, macos), ruby (rails), js (react, react-native, express)",
					"primary": true
				}
			],
			"desc": "Gets Pull Request Counts for Github and Bitbucket Repos",
			"imageURL": "https://marcocabazal.github.io/images/gpr_snap.png",
			"dependencies": [
				"ruby \u003e= 2"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:21:48.227994Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Dev/GitHub/swift-trending.15m.swift",
					"filename": "swift-trending.15m.swift",
					"content": "#!/usr/bin/swift\n\n// # \u003cbitbar.title\u003eTrending Swift on GitHub\u003c/bitbar.title\u003e\n// # \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n// # \u003cbitbar.author\u003eReda Lemeden\u003c/bitbar.author\u003e\n// # \u003cbitbar.author.github\u003ekaishin\u003c/bitbar.author.github\u003e\n// # \u003cbitbar.desc\u003eList Swift repositories tending on GitHub in a given period.\u003c/bitbar.desc\u003e\n// # \u003cbitbar.image\u003ehttps://github.com/kaishin/swift-trending-bitbar/raw/master/screenshot.png\u003c/bitbar.image\u003e\n// # \u003cbitbar.dependencies\u003eswift\u003c/bitbar.dependencies\u003e\n// # \u003cbitbar.abouturl\u003ehttps://github.com/kaishin/swift-trending-bitbar\u003c/bitbar.abouturl\u003e\n\nimport Foundation\n\n// PREFERENCES (Feel free to change these to your liking)\n\nvar displayCount = 15 // Min: 10, Max: 25\nvar maxSubtitleLineLength = 70\nvar trendingPeriod = \"daily\" // Possible values: \"daily\", \"weekly\", \"monthly\"\n\n// Try not to edit the code below.\n\nlet icon = \"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAuBJREFUWAm1l1uITlEUx8c9GmmIKR4UXsjtgZGaeHBLlEYpD0p5EZLMA0nJg0TzRKI8KJ6IlHiYKKE0D5PEvEgyLil3ocn98vvrW1/Lts85+3zzWfWbvfbaa62zzv725UxDQ32liXRLy6QcWMY5wfcdPvNhZ4Lvf3MZSeZX0JHyhEEFTpMY11uVka84N8KuSnulTPCAwHka/ZWBLaU7HicV8gu2pQSYTyuKptDLbjpt3pCon8FPBfyA5IU5GOfj0AwmQ1C6YbUZEttV+KkA8RzGQZJMxasHpjjv2eh9sMbZitQRONjPoCLOFwX48S10XsAcZ9yD/h3WOluRegcHmwW1C4sC/PhFOh9hWcWon6cLVMT6iq2oOYeDL0A/ZbKMwfMpfAN74ET0t/ATNEtFchIHX4D0lqIgP76Ajt5YgftB23QFqADZ9kKeHGMwLOBoXkBsTL+9JbmAPgr2Odsp9KEQkyMYLdba19jC8yYWW7XpvugES3AffRZcdrYb6LFtdtb5WLza6VBKRuPdC5ZEW7IdHjub1ss88HKTjsX4dpN3StVn4qhd4ROF2+wL4z75m8DfYrU2ahLdC7YoLVmsPY3fXIiNyXYVapYNRGYl9vbPOX73an56JXBHTnJfRJb+rL8FKP5gP4rQ4q2KTrxapYPArLfMs9/yD9TlshlKHQ4uwQH0vIfFxk64+D/qJf52Q2s4kNgvuya2h3nHYngEqlbfcIshdUZ0S26ETxB725hNV30T/CUz6H0AC3iIrulVMToJvUygo2taC/EJWEyZ9jBx/8hyLLp+Y4m0r99DykEUiw9tmrHm8LP8AcYeaANNrRf1h4Eup3qI8r3MSqRjtBfCquvd78wqQPZGOAT6rK7Hg/UdoBnWhWX5MmcAn6q0oF0HCyrbXiPWb2990NgpqmKSZRGemjL/BnnF3MVX/xtkyToG+lL3uk+in2YJ6K0mg47y4aBVrfv/NuhrqQuKZOtv52B4+dBxxIcAAAAASUVORK5CYII=\"\nlet templateImage = \"|templateImage=\\(icon)\"\n\n// Mark: - Regex\n\ninfix operator =~\n\nfunc =~ (value: String, pattern: String) -\u003e RegexResult {\n  var error: NSError?\n  let string = value as NSString\n  let options = NSRegularExpression.Options(rawValue: 0)\n  let regex: NSRegularExpression?\n\n  do {\n    regex = try NSRegularExpression(pattern: pattern, options: options)\n  } catch let error1 as NSError {\n    error = error1\n    regex = nil\n  }\n\n  if error != nil { return RegexResult(results: []) }\n\n  let all = NSRange(location: 0, length: string.length)\n  let matchingOptions = NSRegularExpression.MatchingOptions(rawValue: 0)\n  var matches: [String] = []\n\n  regex?.enumerateMatches(in: value, options: matchingOptions, range: all) { result, _, _ in\n    guard let result = result else { return }\n    let subString = string.substring(with: result.range)\n    matches.append(subString)\n  }\n\n  return RegexResult(results: matches)\n}\n\nstruct RegexResult {\n  let isMatching: Bool\n  let matches: [String]\n\n  init(results: [String]) {\n    matches = results\n    isMatching = matches.count \u003e 0\n  }\n}\n\n// Mark: - Foundation Extensions\n\nextension String {\n  func matches(pattern: String) -\u003e [String] {\n    let regexResult = (self =~ pattern)\n\n    if regexResult.isMatching {\n      return regexResult.matches\n    } else {\n      return []\n    }\n  }\n\n  func condenseWhitespace() -\u003e String {\n    let components = self.components(separatedBy: NSCharacterSet.whitespacesAndNewlines)\n    return components.filter { !$0.isEmpty }.joined(separator: \" \")\n  }\n\n  func trunc(length: Int, trailing: String = \"‚Ä¶\") -\u003e String {\n    return (self.count \u003e length) ? self.prefix(length) + trailing : self\n  }\n}\n\nextension Array {\n  func chunk(_ chunkSize: Int) -\u003e [[Element]] {\n    return stride(from: 0, to: self.count, by: chunkSize).map({ (startIndex) -\u003e [Element] in\n      let endIndex = (startIndex.advanced(by: chunkSize) \u003e self.count) ? self.count-startIndex : chunkSize\n      return Array(self[startIndex..\u003cstartIndex.advanced(by: endIndex)])\n    })\n  }\n}\n\n// Mark: - Repository\n\nstruct Repository {\n  let authorName: String\n  let projectName: String\n  let description: String\n  let starCount: Int\n  let newStarCount: Int\n\n  init?(string: String) {\n    let properties = string.split(separator: \"|\")\n    if properties.count != 4 { return nil }\n\n    self.authorName = String(describing: properties[0].split(separator: \"/\").first ?? \"\").trimmingCharacters(in: .whitespacesAndNewlines)\n    self.projectName = String(describing: properties[0].split(separator: \"/\").last ?? \"\").trimmingCharacters(in: .whitespacesAndNewlines)\n    self.description = String(describing: properties[1])\n      .trimmingCharacters(in: .whitespacesAndNewlines)\n      .replacingOccurrences(of: \"\u0026amp;\", with: \"\u0026\")\n\n    let stars = String(describing: properties[2]\n      .split(separator: \" \").first?.replacingOccurrences(of: \",\", with: \"\") ?? \"0\")\n    self.starCount = Int(stars) ?? 0\n\n    let newStarsString = String(describing: properties[3]\n      .split(separator: \" \").first?.replacingOccurrences(of: \",\", with: \"\") ?? \"0\")\n\n    self.newStarCount = Int(newStarsString) ?? 0\n  }\n\n  var gitHubURL: String {\n    return \"https://github.com/\\(authorName)/\\(projectName)/\"\n  }\n\n  var firstLine: String {\n    return \"\\(projectName) (by \\(authorName))\" + \"| href=\\(gitHubURL)\"\n  }\n\n  var secondLine: String {\n    return \"‚òÖ\\(starCount) (+\\(newStarCount)) ‚Äî \\(description)\" + \"| size=12 length=\\(maxSubtitleLineLength)\"\n  }\n\n  func multiLineDescription(wordCount count: Int) -\u003e String {\n    let fullDescriptionWords = description.split(separator: \" \")\n    let chunkedDescription = fullDescriptionWords.chunk(count).map { chunk in\n      return chunk.joined(separator: \" \")\n    }\n\n    return  chunkedDescription.joined(separator: \"| size=12 \\n\")\n  }\n}\n\nenum Period: String {\n  case daily, weekly, monthly\n\n  var title: String {\n    switch self {\n    case .daily:\n      return \"today\"\n    case .weekly:\n      return \"this week\"\n    default:\n      return \"this month\"\n    }\n  }\n}\n\n// Mark: - Free Functions\n\nfunc trendingRepositories(html: String) -\u003e [Repository] {\n  let repos = html.matches(pattern: \"\u003col class=\\\"repo-list\\\"\u003e(.|\\n)*?\u003c/ol\u003e\")[0]\n  let repoList = repos.matches(pattern: \"\u003cli class=(.|\\n)*?\u003c/li\u003e\")\n\n  return repoList.flatMap { repo in\n    let sanitizedString = repo.replacingOccurrences(of: \"\u003c[^\u003e]+\u003e\", with: \"\", options: .regularExpression)\n      .replacingOccurrences(of: \"\\n    Star|Built by\\n|\\n          Swift\", with: \"|\", options: .regularExpression)\n      .condenseWhitespace()\n\n    return Repository(string: sanitizedString)\n  }\n}\n\nfunc printOutput(responseHTML html: String) {\n  print(templateImage)\n  print(\"---\")\n\n  guard let period = Period(rawValue: trendingPeriod) else {\n    fatalError(\"Frequency specified should be one of the following options: 'daily', 'weekly', 'monthly'.\")\n  }\n\n  print(\"Trending Swift \\(period.title.capitalized)\")\n  print(\"---\")\n\n  let count = max(min(displayCount, 25), 10)\n\n  for repo in trendingRepositories(html: html)[0..\u003ccount] {\n    print(repo.firstLine)\n    print(repo.secondLine)\n  }\n}\n\n// Mark: - Output\n\nlet url = URL(string: \"https://github.com/trending/swift?since=\\(trendingPeriod)\")!\nlet html = try? String(contentsOf: url)\n\nprintOutput(responseHTML: html!)\n\n"
				}
			],
			"path": "Dev/GitHub/swift-trending.15m.swift",
			"filename": "swift-trending.15m.swift",
			"dir": "Dev/GitHub",
			"docsPlugin": "Dev/GitHub/swift-trending.15m.swift.html",
			"docsCategory": "Dev/GitHub.html",
			"pathSegments": [
				"Dev",
				"GitHub"
			],
			"categoryPathSegments": [
				{
					"path": "Dev",
					"text": "Dev",
					"isLast": false
				},
				{
					"path": "Dev/GitHub",
					"text": "GitHub",
					"isLast": true
				}
			],
			"title": "Trending Swift on GitHub",
			"version": "v1.0",
			"author": "Reda Lemeden",
			"authors": [
				{
					"name": "Reda Lemeden",
					"githubUsername": "kaishin",
					"imageURL": "https://avatars.githubusercontent.com/u/519433?v=4",
					"bio": "Developer/Designer based in Stockholm.",
					"primary": true
				}
			],
			"desc": "List Swift repositories tending on GitHub in a given period.",
			"imageURL": "https://github.com/kaishin/swift-trending-bitbar/raw/master/screenshot.png",
			"dependencies": [
				"swift"
			],
			"aboutURL": "https://github.com/kaishin/swift-trending-bitbar",
			"lastUpdated": "2021-03-08T15:21:48.691601Z",
			"vars": null
		}
	]
}