{
	"plugin": {
		"files": [
			{
				"path": "Dev/GitHub/pull-requests.5m.js",
				"filename": "pull-requests.5m.js",
				"content": "#!/usr/bin/env node\n// jshint esversion: 6, asi: true\n\n// \u003cbitbar.title\u003eGithub Pull requests\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev2.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eNoam Knispel\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003enoamknispel\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003eGet list of pull requests from Github for multiple repositories\u003c/bitbar.desc\u003e\n// \u003cbitbar.dependencies\u003enode.js request co bluebird\u003c/bitbar.dependencies\u003e\n\n// EDIT YOUR INFO BELOW:\nconst username = ''\nconst token = ''\nvar repos = [\n//owner/repo\n]\n// DO NOT EDIT BELOW THIS POINT\n\nvar bluebird = require(\"bluebird\")\nvar request = bluebird.promisifyAll(require(\"request\"))\nvar co = require(\"co\")\n\nco(function* () {\n  var results = yield repos.map(function(repo) { //jshint ignore:line\n    var options = {\n      url: 'https://api.github.com/repos/' + repo + '/pulls',\n      headers: {\n        'User-Agent': username + ' - bitbar'\n      },\n      auth: {\n        user: username,\n        password: token\n      }\n    }\n    return request.getAsync(options);\n  })\n\n  var totalCount = 0\n  var strings = results.reduce( (acc, response) =\u003e {\n    var info = JSON.parse(response.body)\n    if(info.length \u003e 0) {\n      totalCount += info.length\n      acc.push(info[0].base.repo.name + \" | color=#0000ff\")\n      info.forEach(function(pr) {\n        acc.push(\"#\" + pr.number + \" \" + pr.title + \" (\" + pr.user.login + \") | href=\" + pr.html_url)\n      })\n    }\n    return acc\n  }, ['---'] )\n\n  strings.unshift(`${totalCount} Pull Request`)\n  for( var string of strings)\n    console.log(string)\n}).catch(function() {});\n"
			}
		],
		"path": "Dev/GitHub/pull-requests.5m.js",
		"filename": "pull-requests.5m.js",
		"dir": "Dev/GitHub",
		"docsPlugin": "Dev/GitHub/pull-requests.5m.js.html",
		"docsCategory": "Dev/GitHub.html",
		"pathSegments": [
			"Dev",
			"GitHub"
		],
		"categoryPathSegments": [
			{
				"path": "Dev",
				"text": "Dev",
				"isLast": false
			},
			{
				"path": "Dev/GitHub",
				"text": "GitHub",
				"isLast": true
			}
		],
		"title": "Github Pull requests",
		"version": "v2.0",
		"author": "Noam Knispel",
		"authors": [
			{
				"name": "Noam Knispel",
				"githubUsername": "noamknispel",
				"imageURL": "https://avatars.githubusercontent.com/u/6729694?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Get list of pull requests from Github for multiple repositories",
		"imageURL": "https://xbarapp.com/public/img/xbar-2048.png",
		"dependencies": [
			"node.js request co bluebird"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:21:48.661976Z",
		"vars": null
	}
}