{
	"plugin": {
		"files": [
			{
				"path": "Finance/stock-ticker.30s.py",
				"filename": "stock-ticker.30s.py",
				"content": "#!/usr/bin/python\n# \u003cbitbar.title\u003eStock Ticker\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003e1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eRobert Kanter\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003erkanter\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eProvides a rotating stock ticker in your menu bar, with color and percentage changes\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/Nf4jiRd.png\u003c/bitbar.image\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/rkanter\u003c/bitbar.abouturl\u003e\nimport urllib2\nimport json\n\n#-----------------------------------------------------------------------------\n# IMPORTANT: You will need an API Token.  Follow these steps\n# 1. Create a free account at https://iexcloud.io/cloud-login#/register/\n# 2. Select the free \"START\" tier\n# 3. Verify your email address\n# 4. Click \"API Tokens\" in the left menu\n# 5. Enter the \"Publishable\" Token in the quotes below (it should start with \"pk_\")\napi_token = \"\"\n\n# Enter your stock symbols here in the format: [\"symbol1\", \"symbol2\", ...]\nstock_symbols = [\"MSFT\", \"AAPL\", \"AMZN\"]\n#-----------------------------------------------------------------------------\n\nresponse = urllib2.urlopen(\"https://cloud.iexapis.com/stable/stock/market/batch?symbols=\" + ','.join(stock_symbols) + \"\u0026types=quote\u0026filter=symbol,latestPrice,change,changePercent\u0026displayPercent=true\u0026token=\" + api_token)\njson_data = json.loads(response.read())\n\nfor stock_symbol in stock_symbols:\n    stock_quote = json_data[stock_symbol][\"quote\"]\n    price_current = stock_quote[\"latestPrice\"]\n    price_changed = stock_quote[\"change\"]\n    price_percent_changed = stock_quote[\"changePercent\"]\n\n    if price_changed is not None:\n        color = \"red\" if float(price_changed) \u003c 0 else \"green\"\n        print(\"{} {:.2f} {:.2f} ({:.2f}%) | color={}\".format(stock_symbol, price_current, price_changed, price_percent_changed, color))\n    else:\n        color = \"black\"\n        print(\"{} {:.2f} | color={}\".format(stock_symbol, price_current, color))\n"
			}
		],
		"path": "Finance/stock-ticker.30s.py",
		"filename": "stock-ticker.30s.py",
		"dir": "Finance",
		"docsPlugin": "Finance/stock-ticker.30s.py.html",
		"docsCategory": "Finance.html",
		"pathSegments": [
			"Finance"
		],
		"categoryPathSegments": [
			{
				"path": "Finance",
				"text": "Finance",
				"isLast": true
			}
		],
		"title": "Stock Ticker",
		"version": "1.0",
		"author": "Robert Kanter",
		"authors": [
			{
				"name": "Robert Kanter",
				"githubUsername": "rkanter",
				"imageURL": "https://avatars.githubusercontent.com/u/3588587?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Provides a rotating stock ticker in your menu bar, with color and percentage changes",
		"imageURL": "https://i.imgur.com/Nf4jiRd.png",
		"dependencies": [
			"python"
		],
		"aboutURL": "https://github.com/rkanter",
		"lastUpdated": "2021-03-08T15:21:53.857816Z",
		"vars": null
	}
}