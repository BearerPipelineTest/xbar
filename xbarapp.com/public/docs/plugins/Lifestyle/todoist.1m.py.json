{
	"plugin": {
		"files": [
			{
				"path": "Lifestyle/todoist.1m.py",
				"filename": "todoist.1m.py",
				"content": "#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n# \u003cbitbar.title\u003eTodoist Today\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev2.1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eK.Kobayashi, et al\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ekobayashi,gingerbeardman\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eToday's task in your menu bar!\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.image\u003ehttp://i.imgur.com/f37VtAg.png\u003c/bitbar.image\u003e\n\nimport sys\nif sys.version_info[0] \u003c 3:\n    from urllib2 import urlopen, Request\n    from urllib import urlencode\nelse:\n    from urllib.request import urlopen, Request\n    from urllib.parse import urlencode\nimport json\nimport datetime\n\napi_key = ''\nurl = 'https://api.todoist.com/sync/v8/sync'\nvalue = { 'token': api_key, 'sync_token': '*', 'resource_types': '[\"all\"]' }\ndata = urlencode(value).encode('utf-8')\n\nd = datetime.datetime.today()\ntoday = d.strftime(\"%Y-%m-%d\")\ncomment = \"Today's task: \"\n\nif len(api_key) == 0:\n    print(\"set api first\")\nelse:\n    try:\n        request = Request(url, data)\n        r = urlopen(request)\n        j = json.loads(r.read())\n        items = j['items']\n        for item in items:\n            if (item['due']): \n                due = item['due']['date'] # due date of a task\n                if (due.startswith(today)):\n                    if (\"T\" in due): \n                        time = \"@%s \" % due[-8:-3]\n                    else:\n                        time = \"\"\n                    print((comment + time + item['content']).encode('utf-8'))\n    finally:\n        r.close()\n\n"
			}
		],
		"path": "Lifestyle/todoist.1m.py",
		"filename": "todoist.1m.py",
		"dir": "Lifestyle",
		"docsPlugin": "Lifestyle/todoist.1m.py.html",
		"docsCategory": "Lifestyle.html",
		"pathSegments": [
			"Lifestyle"
		],
		"categoryPathSegments": [
			{
				"path": "Lifestyle",
				"text": "Lifestyle",
				"isLast": true
			}
		],
		"title": "Todoist Today",
		"version": "v2.1.0",
		"author": "K.Kobayashi,  et al",
		"authors": [
			{
				"name": "K.Kobayashi",
				"githubUsername": "kobayashi",
				"imageURL": "https://avatars.githubusercontent.com/u/8712070?v=4",
				"bio": "",
				"primary": true
			},
			{
				"name": "Matt Sephton",
				"githubUsername": "gingerbeardman",
				"imageURL": "https://avatars.githubusercontent.com/u/49612?v=4",
				"bio": "Former Apple Technology Evangelist. \r\n\r\nI type stuff into computers to make them do cool things. ✌️",
				"primary": false
			}
		],
		"desc": "Today's task in your menu bar!",
		"imageURL": "http://i.imgur.com/f37VtAg.png",
		"dependencies": [
			"python"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:21:56.350489Z",
		"vars": null
	}
}