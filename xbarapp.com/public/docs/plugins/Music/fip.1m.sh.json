{
	"plugin": {
		"files": [
			{
				"path": "Music/fip.1m.sh",
				"filename": "fip.1m.sh",
				"content": "#!/bin/bash\n#\n# \u003cbitbar.title\u003eFip - Now Playing\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.2\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eBastien L.\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eBehel\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eWhat's playing currently on FIP french radio\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://attentionphilippelepara.pet/img/images/2021/01/18/bitbar.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003ejq\u003c/bitbar.dependencies\u003e\n#\n\nexport PATH=\"/usr/local/bin:$PATH\"\n\nFIP_NOWPLAYING_URL='https://api.radiofrance.fr/livemeta/pull/7'\n\nJSON=\"$(curl -s ${FIP_NOWPLAYING_URL})\"\njson_length=\"$(echo $JSON | jq '[.steps[]] | length')\"\n\nNOW_PLAYING_STEP=\"$(expr $json_length - 2)\"\nPREVIOUS_STEP=\"$(expr $json_length - 3)\"\nNEXT_STEP=\"$(expr $json_length - 1)\"\n\necho '| templateImage=iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAEhQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAq4SsmwAAABh0Uk5TADCv3/9g7yCAQJDQwFDgED/Pb19/8LBwGpMSKgAAAMZJREFUeJzNkssSgyAMRaEGEtQWtEL//09LqMg4gq6caRYBwhFvHkL8iclHBwBKRqdr96iBjQz7GtDzxTA+m8DIn8eVgVcLME2B1rkpArNzNm6dFBg9CvteZpcAgmzmp4EDo+G0YLItQK8hHQlJ5OM2EGEBIBhUftVeRBZg4LDa6nYE+hSHnN0R2L98CtAVoM4Af/EL5CPWgVTCsPXuCEC3zA/IEiqAX0sd9u2W6c2kATnmP9X+Z5EGGwNS0rwNiANC7Qm9w75xIgrxpBUclgAAAABJRU5ErkJggg=='\necho '---'\n\necho \":notes: Go to FIP website | href=https://www.fip.fr\"\n\necho \"---\"\necho \":sound: Now Playing | color=#e20179\"\n\ntitle=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].title' | sed 's/\\\"//g')\"\ntitleSlug=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].titleSlug' | sed 's/\\\"//g' | sed 's/-/ /g')\"\nartist=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].authors' | sed 's/\\\"//g')\"\nalbum=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].titreAlbum' | sed 's/\\\"//g')\"\nyear=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].anneeEditionMusique')\"\nitunes=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].path' | sed 's/\\\"//g')\"\nvisual=\"$(echo $JSON | jq '[.steps[]]['$NOW_PLAYING_STEP'].visual' | sed 's/\\\"//g' | sed 's/400x400/200x200/g')\"\nbase64_img=\"$(curl -s $visual --output - | base64)\"\n\necho \"| image=\"$base64_img\necho $title\" - \"$artist\" | href=\"$itunes\necho \"Album : \"$album\" (\"$year\")\" \necho \"Search on Spotify | href=https://open.spotify.com/search/$(echo $artist | sed 's/ /%20/g')\"\"%20\"\"$(echo $titleSlug | sed 's/ /%20/g')\"\n\necho \"---\"\necho \":point_left: Last Title | color=red\"\n\nptitle=\"$(echo $JSON | jq '[.steps[]]['$PREVIOUS_STEP'].title' | sed 's/\\\"//g')\"\nptitleSlug=\"$(echo $JSON | jq '[.steps[]]['$PREVIOUS_STEP'].titleSlug' | sed 's/\\\"//g' | sed 's/-/ /g')\"\npartist=\"$(echo $JSON | jq '[.steps[]]['$PREVIOUS_STEP'].authors' | sed 's/\\\"//g')\"\npyear=\"$(echo $JSON | jq '[.steps[]]['$PREVIOUS_STEP'].anneeEditionMusique')\"\npitunes=\"$(echo $JSON | jq '[.steps[]]['$PREVIOUS_STEP'].path' | sed 's/\\\"//g')\"\n\necho $ptitle\" - \"$partist\" (\"$pyear\")\" \"| href=\"$pitunes\necho \"Search on Spotify | href=https://open.spotify.com/search/$(echo $partist | sed 's/ /%20/g')\"\"%20\"\"$(echo $ptitleSlug | sed 's/ /%20/g')\"\n\n\necho \"---\"\necho \":point_right: Next Title | color=green\"\n\nntitle=\"$(echo $JSON | jq '[.steps[]]['$NEXT_STEP'].title' | sed 's/\\\"//g')\"\nnartist=\"$(echo $JSON | jq '[.steps[]]['$NEXT_STEP'].authors' | sed 's/\\\"//g')\"\nnyear=\"$(echo $JSON | jq '[.steps[]]['$NEXT_STEP'].anneeEditionMusique')\"\nnitunes=\"$(echo $JSON | jq '[.steps[]]['$NEXT_STEP'].path' | sed 's/\\\"//g')\"\n\necho $ntitle\" - \"$nartist\" (\"$nyear\")\" \"| href=\"$nitunes"
			}
		],
		"path": "Music/fip.1m.sh",
		"filename": "fip.1m.sh",
		"dir": "Music",
		"docsPlugin": "Music/fip.1m.sh.html",
		"docsCategory": "Music.html",
		"pathSegments": [
			"Music"
		],
		"categoryPathSegments": [
			{
				"path": "Music",
				"text": "Music",
				"isLast": true
			}
		],
		"title": "Fip - Now Playing",
		"version": "v1.2",
		"author": "Bastien L.",
		"authors": [
			{
				"name": "Behel",
				"githubUsername": "Behel",
				"imageURL": "https://avatars.githubusercontent.com/u/8793448?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "What's playing currently on FIP french radio",
		"imageURL": "https://attentionphilippelepara.pet/img/images/2021/01/18/bitbar.png",
		"dependencies": [
			"jq"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:21:56.957147Z",
		"vars": null
	}
}