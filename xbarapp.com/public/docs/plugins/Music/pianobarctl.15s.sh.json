{
	"plugin": {
		"files": [
			{
				"path": "Music/pianobarctl.15s.sh",
				"filename": "pianobarctl.15s.sh",
				"content": "#!/bin/bash\n# \u003cbitbar.title\u003ePianoBar Control\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003edanlogan\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003edanlogan\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eSimple pianobar controls from the menu bar.\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/xWjlIDr.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003e\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003e\u003c/bitbar.abouturl\u003e\n\n# pianobar should not already be running when you start this script\n\n# pianobar must be installed and updated for this script to run\n#   brew install pianobar \n# you must have logged in to pianobar at least once outside this script and set the start station so it autoplays on launch\n# user and password must be set in your pianobar config (~/.config/pianobar/config)\n# your pianobar config must have the fifo line enabled and set to file \"ctl\" file path set below.  The fifo file will be created if it doesnt exist\n#   e.g. fifo = ~/.config/pianobar/ctl\n#\n# if you want to get the current song to display in the pianobar menu you must do two things.  \n# First, create a file called nowplaying in the pianobar config directory\n#   touch ~/.config/pianobar/nowplaying\n# Second uncomment the eventcmd in your pianobar config \n#   e.g. event_command = ~/.config/pianobar/eventcmd.sh\n# and create eventcmd.sh a file with the following contents in to your config folder.  \n# make it executable \"chmod +x ~/.config/pianobar/eventcmd.sh\" \n#\n#  touch ~/.config/pianobar/eventcmd.sh\n#  chmod +x ~/.config/pianobar/eventcmd.sh\n#\n##--eventcmd.sh start--\n#  #!/bin/bash\n#\n#  # create variables\n#  while read L; do\n#  \tk=\"`echo \"$L\" | cut -d '=' -f 1`\"\n#  \tv=\"`echo \"$L\" | cut -d '=' -f 2`\"\n#  \texport \"$k=$v\"\n#  done \u003c \u003c(grep -e '^\\(title\\|artist\\|album\\|stationName\\|songStationName\\|pRet\\|pRetStr\\|wRet\\|wRetStr\\|songDuration\\|songPlayed\\|rating\\|coverArt\\|stationCount\\|station[0-9]*\\)=' /dev/stdin) # don't overwrite $1...\n#  \n#  case \"$1\" in\n#  \tsongstart)\n#     echo \"$title -- $artist\" \u003e ~/.config/pianobar/nowplaying\n#    ;;\n#  \n#    *)\n#      echo \"nothing yet\" \u003e ~/.config/pianobar/nowplaying\n#    ;;\n#  esac\n##--eventcmd.sh end--\n\n# troubleshooting\n# - make sure pianobar is up to date\n# - make sure this file is executable\n#     chmod +x pianobarctl.15s.sh\n# - if you are not getting results in the script double check your config\n# - check your running prcesses for \"pianobar\" and \"screen\" and kill them if they are running\n\n# create the fifo file for pianobar if it doesnt exist\n# allow for pause/unpause, next, quit, and launch\n# read nowplaying if eventcmd is configured\n# refresh every 15s\n[ ! -e ~/.config/pianobar/ctl ] \u0026\u0026 mkfifo ~/.config/pianobar/ctl\necho \"$1\"\n\ncase \"$1\" in\n\n  togglepause)\n    echo -n 'p' \u003e ~/.config/pianobar/ctl\n    ;;\n\n  next)\n    echo -n 'n' \u003e ~/.config/pianobar/ctl\n    ;;\n\n  quit)\n    echo -n 'q' \u003e ~/.config/pianobar/ctl\n    sleep 2\n    ;;\n\n  launch)\n    \n    num=$(pgrep \"pianobar\")\n    \n    if [ -z \"$num\" ] \n      then\n        screen -dmS pb /usr/local/bin/pianobar\n    fi\n    sleep 5\n    ;;\n\n  *)\n    #echo -n \"unknown\"\n    ;;\nesac\n\n[ -e ~/.config/pianobar/nowplaying ] \u0026\u0026 nowplaying=$(\u003c~/.config/pianobar/nowplaying)\n\nnum=$(pgrep \"pianobar\")\n# (ps aux | grep -v grep | grep -v pianobarctl.15s.sh | grep -ci \"pianobar\") \n# echo $num\nif [ -z \"$num\" ] \n  then\n    state=\"off\";\nelse\n    state=\"on\";\nfi\n\necho pianobar #$state\n\necho ---\n[ $state = \"on\" ] \u0026\u0026 echo \"$nowplaying\" \n[ $state = \"off\" ] \u0026\u0026 echo \"Launch | bash=\\\"$0\\\" param1=launch terminal=false refresh=true\"\n[ $state = \"on\" ] \u0026\u0026 echo \"Pause / Unpause | bash=\\\"$0\\\" param1=togglepause terminal=false\"\n[ $state = \"on\" ] \u0026\u0026 echo \"Next | bash=\\\"$0\\\" param1=next terminal=false\"\n[ $state = \"on\" ] \u0026\u0026 echo \"Quit | bash=\\\"$0\\\" param1=quit terminal=false refresh=true\"\n"
			}
		],
		"path": "Music/pianobarctl.15s.sh",
		"filename": "pianobarctl.15s.sh",
		"dir": "Music",
		"docsPlugin": "Music/pianobarctl.15s.sh.html",
		"docsCategory": "Music.html",
		"pathSegments": [
			"Music"
		],
		"categoryPathSegments": [
			{
				"path": "Music",
				"text": "Music",
				"isLast": true
			}
		],
		"title": "PianoBar Control",
		"version": "v1.0",
		"author": "danlogan",
		"authors": [
			{
				"name": "danlogan",
				"githubUsername": "danlogan",
				"imageURL": "https://avatars.githubusercontent.com/u/1816584?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Simple pianobar controls from the menu bar.",
		"imageURL": "https://i.imgur.com/xWjlIDr.png",
		"dependencies": [],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:21:57.598294Z",
		"vars": null
	}
}