{
	"plugin": {
		"files": [
			{
				"path": "Music/spotctl.10s.sh",
				"filename": "spotctl.10s.sh",
				"content": "#!/bin/bash\n\n# Display current Spotify status with play/pause/skip buttons\n#\n# by Igor Borges (igor@borges.me)\n# heavily inspired by Jason Tokoph's spotify.10s.sh\n#\n# Shows current track information from Spotify\n# Make sure you have spotctl installed and configured.\n\n# metadata\n# \u003cbitbar.title\u003eSpotify Now Playing (via spotctl)\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eIgor Borges\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eIgor1201\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eDisplay currently playing Spotify song using spotctl. Play/pause, skip forward, skip backward.\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/zAGFguy.png\u003c/bitbar.image\u003e\n\n# That's \"$(brew --prefix)/bin\" path, but we don't have brew on the $PATH to run it ¯\\_(ツ)_/¯\nexport PATH=\"$PATH:/usr/local/bin\"\n\nfunction shorten {\n  length=20\n  ellipsis='…'\n  read -r string\n  echo \"$string\" | sed -E \"s/(.{${length}}).*$/\\\\1${ellipsis}/\"\n}\n\ncase \"$1\" in\n  'play' | 'pause' | 'prev' | 'next')\n    spotctl \"$1\"\n    sleep 1\n    exit\nesac\n\nstate=$(spotctl status 2\u003e /dev/null | sed -n 1p | grep -o playing || echo paused)\n\nif [ \"$state\" = \"playing\" ]; then\n  status=$(spotctl status)\n  track=$(echo \"$status\" | sed -n 4p | cut -c 8-)\n  artist=$(echo \"$status\" | sed -n 2p | cut -c 9-)\n  album=$(echo \"$status\" | sed -n 3p | cut -c 8-)\n  shortened_track=$(echo \"$track\" | shorten)\n  shortened_artist=$(echo \"$artist\" | shorten)\n\n  echo \"▶ $shortened_track - $shortened_artist\"\n  echo \"---\"\n  echo \"Track: $track | color=#666666\"\n  echo \"Artist: $artist | color=#666666\"\n  echo \"Album: $album | color=#666666\"\n  echo '---'\n  echo \"❚❚ Pause | bash='$0' param1=pause terminal=false refresh=true\"\n  echo \"↩ Previous | bash='$0' param1=prev terminal=false refresh=true\"\n  echo \"↪ Next | bash='$0' param1=next terminal=false refresh=true\"\nelse\n  echo \"♫\"\n  echo '---'\n  echo \"▶ Play | bash='$0' param1=play terminal=false refresh=true\"\nfi\n"
			}
		],
		"path": "Music/spotctl.10s.sh",
		"filename": "spotctl.10s.sh",
		"dir": "Music",
		"docsPlugin": "Music/spotctl.10s.sh.html",
		"docsCategory": "Music.html",
		"pathSegments": [
			"Music"
		],
		"categoryPathSegments": [
			{
				"path": "Music",
				"text": "Music",
				"isLast": true
			}
		],
		"title": "Spotify Now Playing (via spotctl)",
		"version": "v1.0",
		"author": "Igor Borges",
		"authors": [
			{
				"name": "Igor Borges",
				"githubUsername": "Igor1201",
				"imageURL": "https://avatars.githubusercontent.com/u/52727902?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Display currently playing Spotify song using spotctl. Play/pause, skip forward, skip backward.",
		"imageURL": "https://i.imgur.com/zAGFguy.png",
		"dependencies": null,
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:21:57.866222Z",
		"vars": null
	}
}