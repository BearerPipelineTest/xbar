{
	"plugin": {
		"files": [
			{
				"path": "System/Battery/battery-status.20s.py",
				"filename": "battery-status.20s.py",
				"content": "#!/usr/bin/env PYTHONIOENCODING=UTF-8 /usr/local/bin/python3\n# -*- coding: utf-8 -*-\n# \u003cbitbar.title\u003eBattery remaining (Python)\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eEric Ripa\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eeripa\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eShow battery charge percentage and time remaining\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttp://i.imgur.com/P6aNey5.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n\nfrom __future__ import print_function\nimport re\nimport sys\nimport subprocess\n\ndef parse_pmset():\n    output = subprocess.check_output([\"/usr/bin/pmset\", \"-g\", \"batt\"])\n    output = output.decode(\"utf-8\").split('\\n')\n    regex = re.compile(r'^.*\\s(?P\u003ccharge\u003e\\d+%);\\s((?P\u003cstatus\u003edischarging|'\n                       r'charging|finishing charge|charged);\\s(?P\u003cremain\u003e\\(no estimate\\)|\\d+:\\d+) '\n                       r'(remaining )?present|AC attached; not charging present): true$')\n\n    battery = {\n        \"charge\": \"unknown\",\n        \"status\": \"unknown\",\n        \"remaining\": \"unknown\",\n    }\n\n    battery_match = regex.match(output[1])\n    if not battery_match:\n        return battery\n\n    battery[\"charge\"] = battery_match.group(\"charge\")\n    battery[\"status\"] = battery_match.group(\"status\")\n    battery[\"remaining\"] = battery_match.group(\"remain\")\n    if battery[\"remaining\"] == \"(no estimate)\":\n        battery[\"remaining\"] = \"calculating..\"\n    if battery[\"remaining\"] == \"0:00\" and battery[\"status\"] == \"charged\":\n        battery[\"remaining\"] = \"âˆž\"\n    return battery\n\ndef main():\n    battery = parse_pmset()\n    refresh_interval = sys.argv[0].split('.')[1]\n    print(\"{}| size=12\".format(battery[\"charge\"]))\n    print(\"---\")\n    print(\"Status: {}\".format(battery[\"status\"]))\n    print(\"Remaining: {}\".format(battery[\"remaining\"]))\n    print(\"Refresh (current interval: {}) | refresh=true\".format(refresh_interval))\n\nif __name__ == '__main__':\n    main()\n"
			}
		],
		"path": "System/Battery/battery-status.20s.py",
		"filename": "battery-status.20s.py",
		"dir": "System/Battery",
		"docsPlugin": "System/Battery/battery-status.20s.py.html",
		"docsCategory": "System/Battery.html",
		"pathSegments": [
			"System",
			"Battery"
		],
		"categoryPathSegments": [
			{
				"path": "System",
				"text": "System",
				"isLast": false
			},
			{
				"path": "System/Battery",
				"text": "Battery",
				"isLast": true
			}
		],
		"title": "Battery remaining (Python)",
		"version": "v1.0.0",
		"author": "Eric Ripa",
		"authors": [
			{
				"name": "Eric Ripa",
				"githubUsername": "eripa",
				"imageURL": "https://avatars.githubusercontent.com/u/1429673?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Show battery charge percentage and time remaining",
		"imageURL": "http://i.imgur.com/P6aNey5.png",
		"dependencies": [
			"python"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:22:01.707844Z",
		"vars": null
	}
}