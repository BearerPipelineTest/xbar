{
	"plugin": {
		"files": [
			{
				"path": "System/adobe-flash-update-check.60m.py",
				"filename": "adobe-flash-update-check.60m.py",
				"content": "#!/usr/bin/python\n# -*- coding: utf-8 -*-\n#\n# \u003cbitbar.title\u003eAdobe Flash Versions\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eParvez\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eparvez\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eDisplays current Adobe Flash Version for Mac\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttp://i.imgur.com/kxWNcl4.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003epython\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/parvez/bitbar-plugins\u003c/bitbar.abouturl\u003e\n#\n# by Parvez\n\nfrom urllib import urlopen\nfrom xml.dom import minidom\nimport json\n\n# Check current version of Adobe Flash using online API from Adobe.\n# Platform: Macintosh\n# Arch: x86-64\n# Returns JSON with download information for PPAPI and NPAPI\nadobeCheckJsonUrl = urlopen('https://get.adobe.com/flashplayer/webservices/json/?platform_type=Macintosh\u0026platform_dist=\u0026platform_arch=x86-64\u0026platform_misc=\u0026browser_arch=\u0026browser_type=\u0026browser_vers=\u0026browser_dist=\u0026eventname=flashplayerotherversions').read()\nadobeCheckJson = json.loads(adobeCheckJsonUrl)\n\n# To check Current version of NPAPI, read plist file stored in plugins directory\ncurrentVersionNPAPIxml = minidom.parse('/Library/Internet Plug-Ins/Flash Player.plugin/Contents/version.plist').getElementsByTagName('string')\n# Store NPAPI versions for future comparison\ncurrentVersionNPAPI = currentVersionNPAPIxml[0].childNodes[0].nodeValue\nnewVersionNPAPI = adobeCheckJson[0]['Version']\n\n# To check Current version of PPAPI (PepperFlash), read json stored in plugins directory\nwith open('/Library/Internet Plug-Ins/PepperFlashPlayer/manifest.json') as json_file:\n    currentVersionPPAPIjson = json.load(json_file)\n# Store PPAPI versions for future comparison\ncurrentVersionPPAPI = currentVersionPPAPIjson['version']\nnewVersionPPAPI = adobeCheckJson[1]['Version']\n\n# Compare with installed version to show appropriate alert icon\nif currentVersionNPAPI == newVersionNPAPI and currentVersionPPAPI == newVersionPPAPI:\n    print (\"✓\")\nelse:\n    print (\"⚡️\")\nprint (\"---\")\n# Show current NPAPI installed version and online available version with link to the dmg\nprint ('Current NPAPI: ' + currentVersionNPAPI)\nprint (adobeCheckJson[0]['Name'] + ': ' + adobeCheckJson[0]['Version'] + '| href:' + adobeCheckJson[0]['download_url'])\nprint (\"---\")\n# Show current PPAPI installed version and online available version with link to the dmg\nprint ('Current PPAPI: ' + currentVersionPPAPI)\nprint (adobeCheckJson[1]['Name'] + ': ' + adobeCheckJson[1]['Version'] + '| href:' + adobeCheckJson[1]['download_url'])\n"
			}
		],
		"path": "System/adobe-flash-update-check.60m.py",
		"filename": "adobe-flash-update-check.60m.py",
		"dir": "System",
		"docsPlugin": "System/adobe-flash-update-check.60m.py.html",
		"docsCategory": "System.html",
		"pathSegments": [
			"System"
		],
		"categoryPathSegments": [
			{
				"path": "System",
				"text": "System",
				"isLast": true
			}
		],
		"title": "Adobe Flash Versions",
		"version": "v1.0",
		"author": "Parvez",
		"authors": [
			{
				"name": "Parvez",
				"githubUsername": "parvez",
				"imageURL": "https://avatars.githubusercontent.com/u/126749?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Displays current Adobe Flash Version for Mac",
		"imageURL": "http://i.imgur.com/kxWNcl4.png",
		"dependencies": [
			"python"
		],
		"aboutURL": "https://github.com/parvez/bitbar-plugins",
		"lastUpdated": "2021-03-08T15:22:02.512886Z",
		"vars": null
	}
}