{
	"plugin": {
		"files": [
			{
				"path": "System/macos-proxy-switcher.1m.sh",
				"filename": "macos-proxy-switcher.1m.sh",
				"content": "#!/usr/bin/env bash\n\n# \u003cbitbar.title\u003eMacOS Proxy Switcher\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.1\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eglowinthedark\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eglowinthedark\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eSet http and socks5 proxy settings on MacOS.\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/glowinthedark/bitbar-plugins/macos-proxy-switcher/images/mac-proxy-switcher.png.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003e\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/glowinthedark/bitbar-plugins/System/macos-proxy-switcher.1m.sh\u003c/bitbar.abouturl\u003e\n\n# CONFIGURATION\nINTERFACE=Wi-Fi\n\nSOCKS_PROXY_HOST=localhost\nSOCKS_PROXY_PORT=1080\n\nHTTP_PROXY_HOST=localhost\nHTTP_PROXY_PORT=8080\n\nPAC_PROXY=\"file://$HOME/pac_file_proxy.pac\"\n\n# END CONFIGURATION\n\nif [[ \"$1\" = \"enable_socks5_proxy\" ]]; then\n  networksetup -setsocksfirewallproxy $INTERFACE $SOCKS_PROXY_HOST $SOCKS_PROXY_PORT\n  networksetup -setsocksfirewallproxystate $INTERFACE on\n  exit\nfi\n\nif [[ \"$1\" = \"disable_socks5_proxy\" ]]; then\n  networksetup -setsocksfirewallproxystate $INTERFACE off\n  exit\nfi\n\nif [[ \"$1\" = \"enable_http_proxy\" ]]; then\n  networksetup -setwebproxy $INTERFACE $HTTP_PROXY_HOST $HTTP_PROXY_PORT\n  networksetup -setwebproxystate $INTERFACE on\n  exit\nfi\n\nif [[ \"$1\" = \"disable_http_proxy\" ]]; then\n  networksetup -setwebproxystate $INTERFACE off\n  exit\nfi\n\nif [[ \"$1\" = \"enable_pac_proxy\" ]]; then\n  networksetup -setautoproxyurl  $INTERFACE $PAC_PROXY\n  networksetup -setautoproxystate $INTERFACE on\n  exit\nfi\n\nif [[ \"$1\" = \"disable_pac_proxy\" ]]; then\n  # networksetup -setautoproxyurl $INTERFACE \"\"\n  networksetup -setautoproxystate $INTERFACE off\n  exit\nfi\n\n\nif [[ \"$1\" = \"edit_this_script\" ]]; then\n  # use default editor for .sh extension\n  # open \"$0\";\n  # explicitly use sublimetext3\n  open -b com.sublimetext.3 \"$0\";\n  exit\nfi\n\ncurrent_socks5_proxy_status=$(networksetup -getsocksfirewallproxy $INTERFACE | awk 'NR=1{print $2; exit}')\ncurrent_http_proxy_status=$(networksetup -getwebproxy $INTERFACE | awk 'NR=1{print $2; exit}')\ncurrent_pac_proxy_status=$(networksetup -getautoproxyurl $INTERFACE | grep Enabled | awk 'NR=1{print $2; exit}')\n\n# SOCK5 PROXY\nif [[ $current_socks5_proxy_status == \"Yes\" ]] || [[ $current_http_proxy_status == \"Yes\" ]] || [[ $current_pac_proxy_status == \"Yes\" ]] ; then\n\n  if [[ $current_socks5_proxy_status == \"Yes\" ]]; then\n    echo 'üá¨üáß'\n    # networksetup -getsocksfirewallproxy $INTERFACE\n  fi\n\n  if [[ $current_http_proxy_status == \"Yes\" ]]; then\n    echo 'üåç'\n    # networksetup -getwebproxy $INTERFACE\n  fi\n\n  if [[ $current_pac_proxy_status == \"Yes\" ]]; then\n    echo 'üì°'\n    # networksetup -getautoproxyurl $INTERFACE\n  fi\n  echo '---'\n\nelse\n  echo \"üá™üá∏\"\n  echo '---'\nfi\n\necho '---'\n\nif [[ $current_socks5_proxy_status == \"Yes\" ]]; then\n  echo \"‚úÖ SOCKS PROXY is ON! Click to stop socks5://$SOCKS_PROXY_HOST:$SOCKS_PROXY_PORT | bash='$0' color=indianred param1=disable_socks5_proxy refresh=true terminal=false\"\nelse\n  echo \"‚ùå SOCKS PROXY is OFF! Click to start socks5://$SOCKS_PROXY_HOST:$SOCKS_PROXY_PORT | bash='$0' param1=enable_socks5_proxy refresh=true terminal=false\"\nfi\n\nif [[ $current_http_proxy_status == \"Yes\" ]]; then\n  echo \"‚úÖ HTTP PROXY is ON! Click to stop http://$HTTP_PROXY_HOST:$HTTP_PROXY_PORT | bash='$0' color=indianred param1=disable_http_proxy refresh=true terminal=false\"\nelse\n  echo \"‚ùå HTTP PROXY is OFF! Click to start http://$HTTP_PROXY_HOST:$HTTP_PROXY_PORT | bash='$0' param1=enable_http_proxy refresh=true terminal=false\"\nfi\n\n\nif [[ $current_pac_proxy_status == \"Yes\" ]]; then\n  echo \"‚úÖ PAC PROXY is ON! Click to stop $PAC_PROXY | bash='$0' color=indianred param1=disable_pac_proxy refresh=true terminal=false\"\nelse\n  echo \"‚ùå PAC PROXY is OFF! Click to start $PAC_PROXY | bash='$0' param1=enable_pac_proxy refresh=true terminal=false\"\nfi\n\necho '---'\necho \"‚úèÔ∏è Edit this file | bash='$0' param1=\"edit_this_script\" terminal=false\"\n\necho '---'\necho \"üîÉ Refresh... | refresh=true\"\n"
			}
		],
		"path": "System/macos-proxy-switcher.1m.sh",
		"filename": "macos-proxy-switcher.1m.sh",
		"dir": "System",
		"docsPlugin": "System/macos-proxy-switcher.1m.sh.html",
		"docsCategory": "System.html",
		"pathSegments": [
			"System"
		],
		"categoryPathSegments": [
			{
				"path": "System",
				"text": "System",
				"isLast": true
			}
		],
		"title": "MacOS Proxy Switcher",
		"version": "v0.1",
		"author": "glowinthedark",
		"authors": [
			{
				"name": "glowinthedark",
				"githubUsername": "glowinthedark",
				"imageURL": "https://avatars.githubusercontent.com/u/48893368?v=4",
				"bio": "SSLError: [SSL: UNKNOWN_PROTOCOL] unknown protocol (_ssl.c:1056)",
				"primary": true
			}
		],
		"desc": "Set http and socks5 proxy settings on MacOS.",
		"imageURL": "https://raw.githubusercontent.com/glowinthedark/bitbar-plugins/macos-proxy-switcher/images/mac-proxy-switcher.png.png",
		"dependencies": [],
		"aboutURL": "https://github.com/glowinthedark/bitbar-plugins/System/macos-proxy-switcher.1m.sh",
		"lastUpdated": "2021-03-08T15:22:03.959894Z",
		"vars": null
	}
}