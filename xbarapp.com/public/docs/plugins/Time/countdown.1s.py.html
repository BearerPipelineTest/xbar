
<!doctype html>
<html lang='en' style='background: #111;'>
	<head>
		<meta charset='utf-8' />
		<meta name='viewport' content='width=device-width' />
		<meta http-equiv='X-UA-Compatible' content='ie=edge'>
		<title>Countdown in your macOS menu bar</title>
		<link rel='stylesheet' href='/public/css/xbar.css?cb=08%20Mar%2021%2015%3a22%20GMT'>
		<link rel='preconnect' href='https://fonts.gstatic.com'>
		<link rel='preconnect' href='https://fonts.googleapis.com'>
		<link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Bodoni+Moda:wght@500&display=swap'>
		
	<meta name='description' content='Shows countdown of established date. - install xbar for free to get started.'>
	<meta name='author' content='Pere Albujer'>
	<meta name='keywords' content='macos,menubar,xbar,bitbar'>
	<meta itemprop='image' content='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<meta itemprop='name' content='Countdown in your macOS menu bar'>
	<meta itemprop='description' content='Shows countdown of established date. - install xbar for free to get started.'>
	<meta name='twitter:card' content='summary_large_image'>
	<meta name='twitter:title' content='Countdown in your macOS menu bar'>
	<meta name='twitter:description' content='Shows countdown of established date. - install xbar for free to get started.'>
	<meta name='twitter:image' content='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<meta name='twitter:creator' content='matryer'>
	<meta property='og:title' content='Countdown in your macOS menu bar'>
	<meta property='og:description' content='Shows countdown of established date. - install xbar for free to get started.'>
	<meta property='og:url' content='https://xbarapp.com/plugins/Time/countdown.1s.py.html'>
	<meta property='og:site_name' content='xbar lets you put anything into your macOS menu bar'>
	<meta property='og:type' content='article'>
	<meta property='og:image' content='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<link rel='apple-touch-icon' sizes='180x180' href='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<link rel='icon' type='image/png' sizes='32x32' href='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<link rel='shortcut icon' href='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png'>
	<meta name='msapplication-TileColor' content='#ffffff'>
	<meta name='msapplication-config' content='/public/browserconfig.xml'>
	<meta name='theme-color' content='#ffffff'>
	<style>
		.code-background {
			background: rgb(255,255,255);
			background: linear-gradient(to right, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
		}
		.plugin-app-link {
			margin-left: -32px;
		}
	</style>

	</head>
	<body>
		<header class='flex flex-col'>
			<div class='container mx-auto'>
				<div class='flex items-center space-x-8 p-8 text-white'>
					<a href='/' class='inline-block py-2 text-2xl flex items-center space-x-2 font-bold'>
						<img alt='xbar logo: a circle with three dots inside it' src='/public/img/xbar-2048.png' style='width:48px;height:48px;' />
						<span>xbar</span>
					</a>
					<div class='flex-grow'></div>
					<div>
						<a 
							target='github'
							href='https://github.com/sponsors/matryer' 
							class='text-white px-4 py-2 whitespace-nowrap'
						><span class='mr-1'>ðŸ’œ</span> Sponsor</a>
					</div>
					<div class='hidden md:block'>
						<a 
							target='github'
							href='/dl' 
							class='rounded bg-white text-gray-800 hover:text-black px-4 py-2 shadow hover:shadow-lg whitespace-nowrap'
						>Coming soon</a>
					</div>
				</div>
			</div>
		</header>
		<div id='menubar' class='text-white whitespace-nowrap overflow-hidden flex flex-wrap justify-end items-center text-right'>
			
			
				<a 
					
					href='/docs/plugins/AWS.html'
				>
					AWS
				</a>
			
				<a 
					
					href='/docs/plugins/Cryptocurrency.html'
				>
					Cryptocurrency
				</a>
			
				<a 
					
					href='/docs/plugins/Dev.html'
				>
					Dev
				</a>
			
				<a 
					
					href='/docs/plugins/E-Commerce.html'
				>
					E-Commerce
				</a>
			
				<a 
					
					href='/docs/plugins/Email.html'
				>
					Email
				</a>
			
				<a 
					
					href='/docs/plugins/Environment.html'
				>
					Environment
				</a>
			
				<a 
					
					href='/docs/plugins/Finance.html'
				>
					Finance
				</a>
			
				<a 
					
					href='/docs/plugins/Games.html'
				>
					Games
				</a>
			
				<a 
					
					href='/docs/plugins/IoT.html'
				>
					IoT
				</a>
			
				<a 
					
					href='/docs/plugins/Lifestyle.html'
				>
					Lifestyle
				</a>
			
				<a 
					
					href='/docs/plugins/Music.html'
				>
					Music
				</a>
			
				<a 
					
					href='/docs/plugins/Network.html'
				>
					Network
				</a>
			
				<a 
					
					href='/docs/plugins/Politics.html'
				>
					Politics
				</a>
			
				<a 
					
					href='/docs/plugins/Science.html'
				>
					Science
				</a>
			
				<a 
					
					href='/docs/plugins/Sports.html'
				>
					Sports
				</a>
			
				<a 
					
					href='/docs/plugins/System.html'
				>
					System
				</a>
			
				<a 
					 class='rounded selected' 
					href='/docs/plugins/Time.html'
				>
					Time
				</a>
			
				<a 
					
					href='/docs/plugins/Tools.html'
				>
					Tools
				</a>
			
				<a 
					
					href='/docs/plugins/Travel.html'
				>
					Travel
				</a>
			
				<a 
					
					href='/docs/plugins/Weather.html'
				>
					Weather
				</a>
			
				<a 
					
					href='/docs/plugins/Web.html'
				>
					Web
				</a>
			
		</div>
		
	<div class='container mx-auto flex flex-wrap space-x-8 justify-start items-start mt-16'>
		<div class='flex flex-col justify-start'>
			<div class='px-8 py-2 max-w-3xl'>
				<h1 class='fancy-font text-white text-6xl'>Countdown</h1>
			</div>
			<div class='p-8 text-sm'>
				
					
						
							<div class='flex space-x-4 pb-8'>
								<div class='tiny-photo'>
									<a 
										href='/docs/contributors/P4R.html'
									>
										<img class='rounded shadow primary' src='https://avatars.githubusercontent.com/u/7404532?v=4'>
									</a>
								</div>
								<div>
									<a 
										href='/docs/contributors/P4R.html'
										class='light-background rounded-sm shadow-md px-4 py-2 text-white' 
										style='text-decoration: none;'
									>
										Pere Albujer (<code style='color:white;'>@P4R</code> on GitHub)
									</a>
								</div>
							</div>
						
					
				
				
					<p class='my-8 text-white opacity-75 text-lg max-w-lg'>
						Shows countdown of established date.
					</p>
				
				<div class='plugin-app-link hidden md:flex items-end p-8 m-8 mb-16 bg-black bg-opacity-25 rounded-lg shadow max-w-md'>
					<div>
						<a 
							href='xbar://app.xbarapp.com/openPlugin?path=Time%2fcountdown.1s.py'
							class='rounded bg-white text-gray-800 hover:text-black px-4 py-2 shadow hover:shadow-lg whitespace-nowrap'
						><span class='mr-1'>ðŸ–¥</span> Open in xbar app</a>
					</div>
					<div class='opacity-50 text-sm text-white ml-3'>Requires <a target='github' href='/dl' class='underline'>xbar app</a></div>
				</div>
				
			</div>
		</div>
		<div 
			class='flex flex-col justify-center mb-16'
		>
			<img 
				class='max-w-md w-full'
				src='https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png' 
				alt='Image preview of Countdown plugin.'
				onerror='this.onerror=null;this.src="/public/img/xbar-2048.png";'
			/>
		</div>
	</div>

	
		<div class='code-background text-white p-8 pb-24'>
			<div class='container mx-auto'>
				<div class='flex flex-wrap py-8 space-x-4 justify-end'>
					<div>
						<h2 class='md:text-2xl text-bold'>
							<code>countdown.1s.py</code>
						</h2>
					</div>
					<div class='flex-grow'></div>
					<div>
						<a class='text-sm text-white hover:text-black hover:bg-white px-4 py-2 rounded' target='github' href='https://github.com/matryer/bitbar-plugins/edit/master/Time/countdown.1s.py'>Edit</a>
					</div>
					<div>
						<a class='text-sm text-gray-700 bg-white hover:bg-gray-100 active:text-black px-4 py-2 rounded' target='github' href='https://github.com/matryer/bitbar-plugins/blob/master/Time/countdown.1s.py'>Open on GitHub</a>
					</div>
				</div>
				<div>
					<pre class='text-sm whitespace-pre-wrap'><code class='break-all '>#!/usr/bin/env python

# &lt;bitbar.title&gt;Countdown&lt;/bitbar.title&gt;
# &lt;bitbar.version&gt;v2.0&lt;/bitbar.version&gt;
# &lt;bitbar.author&gt;Pere Albujer&lt;/bitbar.author&gt;
# &lt;bitbar.author.github&gt;P4R&lt;/bitbar.author.github&gt;
# &lt;bitbar.desc&gt;Shows countdown of established date.&lt;/bitbar.desc&gt;
# &lt;bitbar.image&gt;https://cloud.githubusercontent.com/assets/7404532/12356787/ae62636c-bba4-11e5-8ff8-6a1eaffcbfc2.png&lt;/bitbar.image&gt;
# &lt;bitbar.dependencies&gt;python&lt;/bitbar.dependencies&gt;


from datetime import datetime
import sys
from exceptions import ValueError


def dateDiffInSeconds(date1, date2):
    timedelta = date2 - date1
    return timedelta.days * 24 * 3600 &#43; timedelta.seconds


def daysHoursMinutesSecondsFromSeconds(seconds):
    minutes, seconds = divmod(seconds, 60)
    hours, minutes = divmod(minutes, 60)
    days, hours = divmod(hours, 24)
    return (days, hours, minutes)


def main():

    if &#34;--help&#34; in sys.argv:
        print(
            &#34;&#34;&#34;
To pass arguments to this script, you can create a separate sh file and execute the main script with it.

Available Args:
    --bar-title: This will appear as the first line in the output. The default is &#39;Countdown Timer&#39;.
    --date-format: You can provide a custom date format. The default is &#39;%d-%m-%Y %H:%M&#39;
    --no-cycle: If this is present in the arguments, the times will not cycle.
    --help: Prints this message and exits.

Example:
    countdown.py &#34;--bar-title&#34; &#34;Custom Bar Title&#34; &#34;--no-cycle&#34; &#34;--date-format&#34; &#34;%d-%m-%Y&#34; &#34;Time #1&#34; &#34;17-07-2017&#34; &#34;Time #2&#34; &#34;15-08-2017&#34;
Script Example:
    chmod &#43;x /Path/to/countdown.py &amp;&amp; /Path/to/countdown.py &#34;--bar-title&#34; &#34;Custom Bar Title&#34; &#34;--no-cycle&#34; &#34;--date-format&#34; &#34;%d-%m-%Y&#34; &#34;Time #1&#34; &#34;17-07-2017&#34; &#34;Time #2&#34; &#34;15-08-2017&#34;
            &#34;&#34;&#34;
        )
        return

    arg_count = len(sys.argv)
    now = datetime.now()
    date_format = &#39;%d-%m-%Y %H:%M&#39;
    bar_title = &#34;Countdown Timer&#34;

    label = &#34;&#34;
    time = None

    if &#34;--bar-title&#34; in sys.argv:
        found_index = sys.argv.index(&#34;--bar-title&#34;)
        if len(sys.argv) &gt; found_index &#43; 1:
            bar_title = sys.argv[found_index &#43; 1]

    if &#34;--date-format&#34; in sys.argv:
        found_index = sys.argv.index(&#34;--date-format&#34;)
        if len(sys.argv) &gt; found_index &#43; 1:
            date_format = sys.argv[found_index &#43; 1]

    print(bar_title &#43; &#34; | font=\&#39;Monospace\&#39;&#34;)
    if &#34;--no-cycle&#34; in sys.argv:
        print(&#34;---&#34;)

    if arg_count == 1:
        print(&#34;&#34;&#34;
            Please pass the correct arguments for this plugin to work.
            You can create an sh file that executes the main Python
            script file with the appropriate arguments.
            For examples, see the script file.
        &#34;&#34;&#34;)

    for index in range(1, arg_count):
        arg = sys.argv[index].strip()
        if arg == &#34;--no-cycle&#34;:
            continue

        if arg == &#34;--bar-title&#34;:
            continue

        if index &gt; 0 and sys.argv[index - 1] == &#34;--date-format&#34;:
            continue

        try:
            time = datetime.strptime(arg, date_format)
            print(label &#43; &#34;: %d d, %d h, %d m | font=\&#39;Monospace\&#39;&#34; % daysHoursMinutesSecondsFromSeconds(dateDiffInSeconds(now, time)))
        except ValueError:
            label = arg


if __name__ == &#34;__main__&#34;:
    main()
</code></pre>
				</div>
			</div>
		</div>
	

		<footer class='container mx-auto text-white text-lg opacity-75 mt-8'>
			<div class='text-center p-16'>
				<p>
					<div>
						<a target='github' class='underline hover:text-white' href='https://github.com/matryer/xbar'>GitHub project</a>
						â€¢
						<a target='github' class='underline hover:text-white' href='https://github.com/matryer/xbar#writing-plugins'>Writing plugins guide</a>
					</div>
					<div class='mt-8'>
						Copyright &copy;2021 Mat Ryer + contributors â€¢ <a target='twitter' class='underline hover:text-white' href='https://twitter.com/matryer'>@matryer</a>
					</div>
					<div class='opacity-50 mt-2'>
						Last updated on 08 Mar 21 15:22 GMT
					</div>
				</p>
			</div>
		</footer>
	</body>
</html>
