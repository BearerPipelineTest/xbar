
<!doctype html>
<html lang='en' style='background: #111;'>
	<head>
		<meta charset='utf-8' />
		<meta name='viewport' content='width=device-width' />
		<meta http-equiv='X-UA-Compatible' content='ie=edge'>
		<title>Shift Stats in your macOS menu bar</title>
		<link rel='stylesheet' href='/public/css/xbar.css?cb=08%20Mar%2021%2015%3a22%20GMT'>
		<link rel='preconnect' href='https://fonts.gstatic.com'>
		<link rel='preconnect' href='https://fonts.googleapis.com'>
		<link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Bodoni+Moda:wght@500&display=swap'>
		
	<meta name='description' content='Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave - install xbar for free to get started.'>
	<meta name='author' content='Jan GroÃŸ'>
	<meta name='keywords' content='macos,menubar,xbar,bitbar'>
	<meta itemprop='image' content='http://i.imgur.com/6VTobzU.png'>
	<meta itemprop='name' content='Shift Stats in your macOS menu bar'>
	<meta itemprop='description' content='Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave - install xbar for free to get started.'>
	<meta name='twitter:card' content='summary_large_image'>
	<meta name='twitter:title' content='Shift Stats in your macOS menu bar'>
	<meta name='twitter:description' content='Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave - install xbar for free to get started.'>
	<meta name='twitter:image' content='http://i.imgur.com/6VTobzU.png'>
	<meta name='twitter:creator' content='matryer'>
	<meta property='og:title' content='Shift Stats in your macOS menu bar'>
	<meta property='og:description' content='Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave - install xbar for free to get started.'>
	<meta property='og:url' content='https://xbarapp.com/plugins/Time/shiftstats.30s.py.html'>
	<meta property='og:site_name' content='xbar lets you put anything into your macOS menu bar'>
	<meta property='og:type' content='article'>
	<meta property='og:image' content='http://i.imgur.com/6VTobzU.png'>
	<link rel='apple-touch-icon' sizes='180x180' href='http://i.imgur.com/6VTobzU.png'>
	<link rel='icon' type='image/png' sizes='32x32' href='http://i.imgur.com/6VTobzU.png'>
	<link rel='shortcut icon' href='http://i.imgur.com/6VTobzU.png'>
	<meta name='msapplication-TileColor' content='#ffffff'>
	<meta name='msapplication-config' content='/public/browserconfig.xml'>
	<meta name='theme-color' content='#ffffff'>
	<style>
		.code-background {
			background: rgb(255,255,255);
			background: linear-gradient(to right, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
		}
		.plugin-app-link {
			margin-left: -32px;
		}
	</style>

	</head>
	<body>
		<header class='flex flex-col'>
			<div class='container mx-auto'>
				<div class='flex items-center space-x-8 p-8 text-white'>
					<a href='/' class='inline-block py-2 text-2xl flex items-center space-x-2 font-bold'>
						<img alt='xbar logo: a circle with three dots inside it' src='/public/img/xbar-2048.png' style='width:48px;height:48px;' />
						<span>xbar</span>
					</a>
					<div class='flex-grow'></div>
					<div>
						<a 
							target='github'
							href='https://github.com/sponsors/matryer' 
							class='text-white px-4 py-2 whitespace-nowrap'
						><span class='mr-1'>ðŸ’œ</span> Sponsor</a>
					</div>
					<div class='hidden md:block'>
						<a 
							target='github'
							href='/dl' 
							class='rounded bg-white text-gray-800 hover:text-black px-4 py-2 shadow hover:shadow-lg whitespace-nowrap'
						>Coming soon</a>
					</div>
				</div>
			</div>
		</header>
		<div id='menubar' class='text-white whitespace-nowrap overflow-hidden flex flex-wrap justify-end items-center text-right'>
			
			
				<a 
					
					href='/docs/plugins/AWS.html'
				>
					AWS
				</a>
			
				<a 
					
					href='/docs/plugins/Cryptocurrency.html'
				>
					Cryptocurrency
				</a>
			
				<a 
					
					href='/docs/plugins/Dev.html'
				>
					Dev
				</a>
			
				<a 
					
					href='/docs/plugins/E-Commerce.html'
				>
					E-Commerce
				</a>
			
				<a 
					
					href='/docs/plugins/Email.html'
				>
					Email
				</a>
			
				<a 
					
					href='/docs/plugins/Environment.html'
				>
					Environment
				</a>
			
				<a 
					
					href='/docs/plugins/Finance.html'
				>
					Finance
				</a>
			
				<a 
					
					href='/docs/plugins/Games.html'
				>
					Games
				</a>
			
				<a 
					
					href='/docs/plugins/IoT.html'
				>
					IoT
				</a>
			
				<a 
					
					href='/docs/plugins/Lifestyle.html'
				>
					Lifestyle
				</a>
			
				<a 
					
					href='/docs/plugins/Music.html'
				>
					Music
				</a>
			
				<a 
					
					href='/docs/plugins/Network.html'
				>
					Network
				</a>
			
				<a 
					
					href='/docs/plugins/Politics.html'
				>
					Politics
				</a>
			
				<a 
					
					href='/docs/plugins/Science.html'
				>
					Science
				</a>
			
				<a 
					
					href='/docs/plugins/Sports.html'
				>
					Sports
				</a>
			
				<a 
					
					href='/docs/plugins/System.html'
				>
					System
				</a>
			
				<a 
					 class='rounded selected' 
					href='/docs/plugins/Time.html'
				>
					Time
				</a>
			
				<a 
					
					href='/docs/plugins/Tools.html'
				>
					Tools
				</a>
			
				<a 
					
					href='/docs/plugins/Travel.html'
				>
					Travel
				</a>
			
				<a 
					
					href='/docs/plugins/Weather.html'
				>
					Weather
				</a>
			
				<a 
					
					href='/docs/plugins/Web.html'
				>
					Web
				</a>
			
		</div>
		
	<div class='container mx-auto flex flex-wrap space-x-8 justify-start items-start mt-16'>
		<div class='flex flex-col justify-start'>
			<div class='px-8 py-2 max-w-3xl'>
				<h1 class='fancy-font text-white text-6xl'>Shift Stats</h1>
			</div>
			<div class='p-8 text-sm'>
				
					
						
							<div class='flex space-x-4 pb-8'>
								<div class='tiny-photo'>
									<a 
										href='/docs/contributors/JanGross.html'
									>
										<img class='rounded shadow primary' src='https://avatars.githubusercontent.com/u/13641301?v=4'>
									</a>
								</div>
								<div>
									<a 
										href='/docs/contributors/JanGross.html'
										class='light-background rounded-sm shadow-md px-4 py-2 text-white' 
										style='text-decoration: none;'
									>
										Jan GroÃŸ (<code style='color:white;'>@JanGross</code> on GitHub)
									</a>
								</div>
							</div>
						
					
				
				
					<p class='my-8 text-white opacity-75 text-lg max-w-lg'>
						Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave
					</p>
				
				<div class='plugin-app-link hidden md:flex items-end p-8 m-8 mb-16 bg-black bg-opacity-25 rounded-lg shadow max-w-md'>
					<div>
						<a 
							href='xbar://app.xbarapp.com/openPlugin?path=Time%2fshiftstats.30s.py'
							class='rounded bg-white text-gray-800 hover:text-black px-4 py-2 shadow hover:shadow-lg whitespace-nowrap'
						><span class='mr-1'>ðŸ–¥</span> Open in xbar app</a>
					</div>
					<div class='opacity-50 text-sm text-white ml-3'>Requires <a target='github' href='/dl' class='underline'>xbar app</a></div>
				</div>
				
			</div>
		</div>
		<div 
			class='flex flex-col justify-center mb-16'
		>
			<img 
				class='max-w-md w-full'
				src='http://i.imgur.com/6VTobzU.png' 
				alt='Image preview of Shift Stats plugin.'
				onerror='this.onerror=null;this.src="/public/img/xbar-2048.png";'
			/>
		</div>
	</div>

	
		<div class='code-background text-white p-8 pb-24'>
			<div class='container mx-auto'>
				<div class='flex flex-wrap py-8 space-x-4 justify-end'>
					<div>
						<h2 class='md:text-2xl text-bold'>
							<code>shiftstats.30s.py</code>
						</h2>
					</div>
					<div class='flex-grow'></div>
					<div>
						<a class='text-sm text-white hover:text-black hover:bg-white px-4 py-2 rounded' target='github' href='https://github.com/matryer/bitbar-plugins/edit/master/Time/shiftstats.30s.py'>Edit</a>
					</div>
					<div>
						<a class='text-sm text-gray-700 bg-white hover:bg-gray-100 active:text-black px-4 py-2 rounded' target='github' href='https://github.com/matryer/bitbar-plugins/blob/master/Time/shiftstats.30s.py'>Open on GitHub</a>
					</div>
				</div>
				<div>
					<pre class='text-sm whitespace-pre-wrap'><code class='break-all '>#!/usr/bin/python
# -*- coding: utf-8 -*-

# &lt;bitbar.title&gt;Shift Stats&lt;/bitbar.title&gt;
# &lt;bitbar.version&gt;v2.0&lt;/bitbar.version&gt;
# &lt;bitbar.author&gt;Jan GroÃŸ&lt;/bitbar.author&gt;
# &lt;bitbar.author.github&gt;JanGross&lt;/bitbar.author.github&gt;
# &lt;bitbar.desc&gt;Shows the remaining time of today&#39;s work shift as well as the time of arrival and when its time to leave&lt;/bitbar.desc&gt;
# &lt;bitbar.image&gt;http://i.imgur.com/6VTobzU.png&lt;/bitbar.image&gt;
# &lt;bitbar.dependencies&gt;python&lt;/bitbar.dependencies&gt;


#----- About ---------------------------------------#
#   This plugin shows the remaining time
#   of today&#39;s work shift as well as the
#   time of arrival and when its time to
#   leave. Tested on Yosemite only!
#
#   Written by Jan M. GroÃŸ
#   Icons from http://icons8.com
#
#----- Settings -------------------------------------#
#                                                    # Use decimal values to represent minutes (0.5 = 30 min etc.)
shift_length = 8                                     # Shift length in hours
lunch_break = 1                                      # Length of the lunch break in hours
log_path = &#39;/var/log/accountpolicy.log&#39;              # Path to the file containing information about logins - Standard is &#34;/var/log/accountpolicy.log&#34;
lunchsave_path = &#39;/.lunchbreak.sst&#39;                  # File that the lunchtime is being saved to (relative to the current directory)
#----------------------------------------------------#

import os, sys
dir_path = os.path.dirname(os.path.realpath(__file__))
from datetime import datetime, timedelta

lunchsave_path = dir_path &#43; lunchsave_path
if(len(sys.argv) &gt;= 2):
    print &#34;Parameters &#34; &#43; str(sys.argv)
    if(sys.argv[1] == &#34;--start-lunch&#34;):
        with open(lunchsave_path, &#39;w&#39;) as file_:
            file_.write(datetime.now().strftime(&#39;%Y-%m-%d %H:%M:%S&#39;))
            print &#34;Lunchfile has been saved!&#34;
            sys.exit(1)

# Images
bitBarDarkMode = os.getenv(&#39;BitBarDarkMode&#39;, 0)

if (bitBarDarkMode==0) :
    cool_img = &#34;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUElEQVQ4T32TAVEDQRAEiQJAARcFxAFBAXFAogBQwKOAoIBHAaAgcUBQwKMAcMB0aubr60jYqqnbu9udnd&#43;9Hx38tSMdXQozAR/7Fl6EJ/t91qjKb7S/En6c0Pm&#43;mPBQ61K4S96QoHXQtVb8XTY3wbPWBQEhoDKJU2GzJznHEzlrEzUQ8J0fws0/lWtOlNwLYwiQS2VA82KdHJoHipE7momKFQQEntQlvH/3errn/hMCvpkRQfRYBZ57v6rOaSCqphAgBQLGAxgj9irwFjBizuw/aKXhYBYCVHCA0VTQeZ&#43;lyElPOKPYBAISqTquEuotpChqfUGBZcbIZviAmPWbA1HHnk&#43;aWwUrCkoeEsm3Ak3LQ6Iiidh6IIczmspz3iqItXIurIQ57zIq84Cipn/KCUZJI3wJGS13ReD7j32P/K3VfyNnSKdSRphYCFuBSfT2C22RSmAfHmuiAAAAAElFTkSuQmCC&#34;
    desk_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABPUlEQVRYR&#43;2U4RHBQBCFkwrQQXRABXSADnRgVCAqoAQdoAMqoAPpABXw3szdzEnuxiY5kh&#43;3MzuSS&#43;z7bl/24qjhiBvWjwJAmQ4ksGuDHCjbrvhdIrM6NkoBKH5BdnNiD9wP60BIAQ4QmSDPyKmC4NoIeTTWSjdDCsCddpA9JK8Z7MZd7b5fWln9QQrwUu&#43;bALTlVrJOgVMKoC04ocJMVdnjd/wvC7hbfvW0wYwnbjgV2a8tSCGwcoissc7nlUJiAb96tpvBuacdjLkBRVv0Op9tkZwaxg5JSGtIALT/FGdhM1IFYY4i31nk3nN2SQJgmwBdP8FFfhL0yPKAYvAAy5DWUZUAuLrnZd0GoHfsRcBS5EOzlQCE1l3wZZGznksgAIQOhA60pgO&#43;T8PC2H87BxoD8C3srOfrqK0MHADeV1FAIfPgToUAAAAASUVORK5CYII=&#34;
    exit_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB70lEQVRYR92X4TEEQRBGXQRkYEWACBABGVgRIAKXASJwIkAETgSEcDIgAr5XNa36pmZOb&#43;3u/bipmtrd0df9&#43;uvemTXZWh6NHl81uY4xFnJ6qPllzidZlOMEMEZw83mim3kE4FFGEA8xUPQ8OQoDLBn2pPDKbi7AlVS60dxJNb7W9SMpN7oCZwr0lJXJd/zoAM8KflroE6v35gOUSvApRQ402XRGVwD1acKp5rbmW3oetAnncnpU2Q9oOILdpzcgN&#43;utQCuPD5Xg&#43;fKFFmbZYm8AMtzVpK7mHMmRuzRyiF4APntz7B3WhPEQvQB89k2KNte11A80H51vypSAO50FBLTaR7Lfk71txbXydAJAfo5Rav9f9i&#43;yYT9goAIqlSA6AfBqAYEz7n0tU6y/S358A8xvGdwP8j1wJ0eXeWQ9U3vgasODd1KAzP3gudR8pXff/24wgJ9KioCR2agK&#43;CwI9K3pm2zVJ1xYgUZO25TGTNeFS4md7zY9E5xOpzENYpUKYQD8Y1yqM&#43;tMBocOQPkxXFMhDEBW7y7r2i0bjqlD5gZcUyEM4A1rwS17&#43;3uTlaKkQhggkHzRZKpVvogZ/EPTZlZhAEpgjeY/qyNgNOR&#43;MvQlYikMUDUMEPj&#43;yVVYCwCMfqv2KqwNwI5iSuFVqAL8AnfXxCEwgBYZAAAAAElFTkSuQmCC&#34;
    timespan_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACyElEQVRYR8WXjZHUMAyFuQqADkIFQAWECoAKCBUAFRAqACpgqeCgAkIFQAWEDqACeF/G70brc2JvZhk0o8nGkaWnJ/lnL278Z7nYEf&#43;x5tyVdklxMSf9puenU3y2Aujl9LmU4C3yUUbvpFPNuAaALF9Jh4KjnylrPt1KrORmBw28DnbX3GwBuCfrz8k5E39LycxaSg6mYAnAN5PBLz0fSilPMwAcvC9NaPQBI2&#43;lT4P9M/2GkSMpMUDmX5MVWQOGLNZk2vgGGwQ1G/dzJnIAXQpOBgh0F6kLQanxlpAQIAFBIoCYPSEHAFrTRhdvZW4fYwUAn2HiMtl90HMoAeg1SNMhILZjasnvNTBfGgBgEpO7KkVkALofSV33F/r9oMF5bSnbBWWdpZSCzWrZU&#43;LkP8kS6gmODFIYcBPBDN2Moz2CLzY02LwdAcQa5Z3ayRB22H4RJsfGZI3nwhzYpN6xdDHOE/yagVEv7HgRVO7U6D2OYwKYLQcdNEbnI6W1b6ZZPaMBHPRC99NQ/fWErkb4BhsuyazfsEFwB43TYzk9jj1sLt8MYNILDVcDgBOaCcBQXJLv6TtAAZjLUaw9AOzQjnjnYKJEa0EjiCIAMqIE0EMTtgiUj8mQZ2zMrfnFEuCg1oQtoFpsik0YlwfLCpr&#43;hawuQ4KVNqJzg/BSZrelmY92QhqIzmZ930nPcwIg4I8UuLgV9/row&#43;joxDoTioP8&#43;KQtHkbEiUbLVnmm4LH2q8cxsTopy8SXh9W73AnAWK6&#43;W1J73mfPr13J6Af2871MkDl3y6XhJNUrmYENaaLfKc1LKYBahIBvpPixNF9KPQGqJmm8XgOEsbV/P2TMmUJgZw3tvbS4U9ZuM50mjtJ4vTZAHJoRggE4FxqO&#43;XPh2zJUA&#43;B53vfJxIys&#43;STjKQWung&#43;tAGIwaAYQ7KAIGaIEPKlh9wBYy3zX&#43;F&#43;K66UhhM4TEQAAAABJRU5ErkJggg==&#34;
    watch_img =&#34;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABBElEQVQ4T7WTaxHCQAyEqQNwUByAAoqDSqgEJCABCZWAA4oCcEAdgAT2u8l1QntX&#43;MPNZBLy2N3LlWIxPaVSfSJPalIrEo2tck0G4KT8wddSAJ0aLrKtUwLzTbaXVXMAGxVhwXaytTU/5K/GjoJ7BPEKlkoiP16Bxt4aUQBorDWKX9Q8wNGQKdZepmLAAaHn7OIPAAowwhSZwWE4Lg8QCPCBxCugaSiYgkqeqzAUJJsCYoDrXwAYBuQrwNwVeJ1Ohs9e4agiz0PDeImmPiwwu8TxM0ZAhmHmd2sEw07GXyKN8b2JS6PunTr2gdJwcp9yZ6xP61vZUCWPDecvfyZkIzl1JrU3QEtCEdpZuxAAAAAASUVORK5CYII=&#34;
    coffee_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABjUlEQVRYR&#43;2W600DQQyESQeUcHQAFRAqACogVEA6gBKgAlICVECoADrIlZAOyHxoHW2OZO92T16EhCX/uIft8Xj2MTkab1dKsZSvS1JNSoI6MV96vgggstONBdCo4kp&#43;Im&#43;zqytgLIAX5QDEaSh&#43;nDuKMQAeVexOfib/DADQAqD4NshKATwo&#43;zz4IuqecdwGEG4Apsr8Jo&#43;FB/XPcrRg43ADQMcUZPmZQTuFeWfjcAOwVGacMWAU/pDHWhhUnJ9KNDALXVqnUz3DAKxkWwmAfUVgIYt6S5ICQNLL7JZ2A177gKUAMGOWWlFnimvkrZwRHbQ&#43;AAQnEyRy00Bv/D8AbwbuoxGhpYX8KR6bNwB2RoSMoYfu&#43;ZHciAaJKFOEnJIs762wvRnoroIfTdUGgAaa32QAIXJuwMS31WTATs3rAKI6ALszMIKt1WAAurk7coNClDtnizcA24jeVXjvweYNgI2Irtcx7bVHAICD5s0Axf82gBt1MEtRmPjGvm/iKxoBt1zW7nkhAIoDvk3FbwCAylwh1H8uYQAAAABJRU5ErkJggg==&#34;
else:
    cool_img = &#34;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP&#43;gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBBhwWxiKe6QAAASZJREFUOMuNk9FRxDAMRFcM/4QKSAekhNABHVyogHRAqIBcBZfr4KiAXAVABYQKEip4/Mjg8cRw&#43;tFYu7JkeWVKDCgkbSTdSio8vEg6SNqb2RLzLUnuJN1L&#43;vKEyaHSL7yQ1JvZo1YqD8ACNMoY0DhnlwKdA5X&#43;MaBybvfzZmD&#43;q3KmkxkoziX1/uYReIh4kw9v8RmUEbb3nCcDJklXmWLv7q8z&#43;KcBb9HEdwnhxv1LEr/zjuqz0KaZDZK2EenZzEYzGyUdo/jWuUsYyAj0sZCAcmVwpYssnHtgFNACHydMvoh/CpiANgBLAlb82qv7Q&#43;ggElQRElr/1yqpWAP1ipBmoF2T8gxsThDQkFumVlInac4s06Wkzsz61QuidW48IbaDpCFd52/RjRADacgLxAAAAABJRU5ErkJggg==&#34;
    desk_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP&#43;gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBBh0oHliyAwAAANBJREFUWMPtldENgzAMREnVfxghI3QURugIbFBG6CawAWzCCLDB648rWWlaUAOpVPkk/1wgPvtsKAqDYSMAD3TAJNEBPmfymVfMWUQAvSQcgUpiFK7PIWCRZJXiKuGmlLtPG58rI9xTTFYLBmXBkNMCr2zQWFKHcKsF1zc2lHJ2aPW1qriRbnigVXwdvHNX34vbXv43kbM2nANJHqJNEUC4gsFsABBZ2YtE8qoeCher&#43;NCEzrlvtiD7n489O/Hpvp93wASYABNwXtvfv&#43;&#43;AwfAAuelGAznB3AUAAAAASUVORK5CYII=&#34;
    exit_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP&#43;gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBBh4QHXdZXgAAAcJJREFUWMPFV9FxgzAMfcrlv9mgjMAGZQQ2iEdIJyidoMkEpROknQC6AZ0gZIKGCV5/7DuVYoIJUN1xh42MpadnSQaUkIxInjifnEhu9J4r/JbIPnNJBCDWE&#43;se5TcA9YQbb69qkUwUXMlUbvf9d4V/ltWEXu5IflsvC5LxYgaQTAG8AHAMTwAc24yfEwEzhPGzhuC/OZB3zJ0BVIsYICLvAB4BNHbqE0AqIpdra9cBRCsBPHg&#43;19bbVETKyUNA0vRs7giXAiis7mAZikCm4urivQNw16H7ShIikk&#43;CgPXo3hkiIhmA0rO5NsKMSSh/cjbJ2o5rzQdPuS1JXtTYBNWYtiJJc&#43;VnbYlIxi0j2hJUjJzyWcU08&#43;h&#43;iEgtIpVd10xBwp09XqXzvuc07FVeqGwxMpP2AyT3vtgv1Q/EAal4llrgg387uwEdIdEkS8a2cOuOnP6s3n3wN3ZcqYT05Mg62gARqVXR2ZLsOpIAkFtdA&#43;CoUQgtRm2Y44EXjMiTFYtbT8FmgJ0HEalb7VhzKxdubUoz5WE&#43;&#43;r5hQ1CEtNVqbdUVojEhSOyzCQTCdPQPy11MbBE6uMTURmGptjwD8BWCwg9iV3&#43;aGz6VPAAAAABJRU5ErkJggg==&#34;
    timespan_img = &#34;iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP&#43;gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBBh0DsuRLQwAAAhJJREFUWMPVV&#43;2R00AMfcvcf1xCOjhTAdcB7oB0ACWECs5UEHdwSwUxFXipgFBBlgoeP9DO6Hz76UuGQTM7ifdLsvSeJAP/WEzrAZIDgHsAOxkAcJbhjDHfrm4lyQeST6yXJ5IP11C8I3lMKDmTnGW4xJ4jyd1W5T3Ji7rMk5wkBDlPjbI3yIVk36p8X&#43;vrxPlOjNWyrwKhWLvI428AewA&#43;iWJj5gJgJwBvZeqdMcYlDZB4LQA6mbIAXJZGxnwphRLALEZ4MeIc1t&#43;s9h&#43;U8q8AfoiRuYGCgU68CLn7EPWA0OYkj7PaOMp/n1DwvRJXE4CPqVCApFVoH4Rem0CYAWZgh41tCDKu2KApddrM67/3jYGaL9CqlPSRZORWvD6FkUlgn0h2GT2DXjiUXKqs14aMEaVLjvtq7fAMIDI5V9QEHZKfkveXBETGyB3uxZoC3FwJJpvBpSP5OYWVta675vptjAcwyAXvZfqX0NXqJNOCzhCCpbFYWRl9w7lnIbhTDQUA9A2ecACGDWy8l1&#43;vU7FbZcSbyKqUu2IiuoEBgco&#43;tmgVv7sbKO9Ug2NTHA8y3cCAKZVtU5uGa8a&#43;6uUknfrNvVy5t/TFYiYHdL4fXvnml6LrK5rSYwswBXDHmqa05Il1e/1I8kPhjR8j7Xy/1YW7SHsdZFF9QaoaTq9pYGJ531d0ab6lPmz9OO0zH6cW/5P8ARJNcwtJJuvFAAAAAElFTkSuQmCC&#34;
    watch_img = &#34;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP&#43;gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AcBBhs1KwR5XAAAAO9JREFUOMutk9FtwzAMRN8FHcAjaAR1g4yQETJCNqhH8AgZoSNkgyoTVBvUG7A/FEAosvOREBBkiMez7khBF2aW2Ii9XARdd3JLf/YxwCUz&#43;wI&#43;gdrOgB8g9&#43;BD94cGuAO/Xpj8&#43;95hHq43mdm3mZ18T1F7l5tGBHMDbJBnLz6b2TySkIEjcOmLgcX9mB2XRwQVSJJqKD4CV&#43;AiaZVU3JO13fTA81j3kpEgATWaJ&#43;nmknLoQAUmSaeeoAA310sgWZ0I96D4etrGHOdjq40aDNLixmWX1QwuwNkNLcNRllTMjDCBf8GftWHe&#43;ph49Tn/A5oeu&#43;j1XBWdAAAAAElFTkSuQmCC&#34;
    coffee_img = &#34;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAm0lEQVQ4T2NkIAwSgEoW4FLGSEC/A1DeAIgnkGMATGMAUDPIFReA&#43;AC6QfhcAHJ2ARArAHEDEIMMwgD4DABpBjl9A9QFH4gxAORsfjzh8hHqFbgSdBeA/GiPx4CDQDkHZPkBMQAUuKBYAQXqB3JdAIuRDeQaAHLBAyA&#43;QK4B8KglxwBQGIAAmCbHANpGIyjp5uNJSBOBcqAkDgcAGnooEcKNcYIAAAAASUVORK5CYII=&#34;

def get_first_login():
    #Reading the first line of the Log file
    with open(log_path, &#39;r&#39;) as logFile:
        first_line = logFile.readline()
        return first_line

def get_lunchbreak_time():
    &#39;&#39;&#39; Returns the first line from the .lunchbreak file &#39;&#39;&#39;
    if(os.path.exists(lunchsave_path)):
        #Reading the lunchbreak file
        with open(lunchsave_path, &#39;r&#39;) as lunchFile:
            line = lunchFile.readline()
            return line
    else:
        return &#34;N/A&#34;

def start_lunch_button():
    #Call this script with the --start-lunch flag
    print &#34;-- Start lunch break | refresh=true | color=indianred bash=&#34;&#43;__file__&#43; &#34; param1=&#39;--start-lunch&#39; terminal=&#39;false&#39; color=green&#34;

def print_lunch_info():
    last_lunch = get_lunchbreak_time()[:19]  #Has to be cut after 19 characters because unconverted data remains otherwise (probably the newline)
    if(last_lunch== &#34;N/A&#34;):
        print &#34;-- No lunch break in the records&#34;
        start_lunch_button()
    else:
        lunch_begin = datetime.strptime(last_lunch,&#34;%Y-%m-%d %H:%M:%S&#34;) #lunch_begin = the time logged in the .lunchbreak file
        lunch_end = lunch_begin &#43; timedelta(hours=(lunch_break))
        remaining_lunch =  lunch_end  - datetime.now()
        if(lunch_begin.date() == datetime.now().date()):
            if not remaining_lunch.seconds/3600 &gt; lunch_break :
                print &#34;-- Lunch time ends in: %dh %dm | image=&#34; % (remaining_lunch.seconds/3600, (remaining_lunch.seconds/60)%60) &#43; coffee_img
            else:
                print &#34;-- No lunchtime left for today!&#34;
        else:
            start_lunch_button()

        dts_units = 1
        dts_span = 8
        dts_unit = &#34;week&#34;

        # Last lunch time stuff
        print (&#34;-- Last lunch break: \n--%s&#34;) % (str(((lunch_begin if (datetime.now().date() - lunch_begin.date()).days &lt; dts_span else &#39;More than {0} {1} ago&#39;.format(dts_units, dts_unit)) if lunch_begin.date() != datetime.now().date() else &#39;Today at &#39; &#43; str(lunch_begin.time()))))


parts = get_first_login().split() #Splitting the first line of the logfile into parts

#Time calculatios
arrival_time = datetime.strptime(parts[2],&#34;%H:%M:%S&#34;) #Stripping the time from the log. Be aware that because we are not stripping any date, it will be set to January 1st, 1900
shift_end = arrival_time
shift_end &#43;= timedelta(hours=(shift_length &#43; lunch_break))
remaining_time = shift_end - datetime.now()




# Printing out the main countdown
def print_main():
    if remaining_time.seconds/3600 &gt; shift_length : #Assuming that the shift ended when the shift_length is exceeded since the time of arrival is way in the past (as mentioned above)
        print &#34;Shift ended! Have a nice evening |  image=&#34; &#43; cool_img
    else :
        print &#34;Shift ends in: %dh %dm | image=&#34; % (remaining_time.seconds/3600, (remaining_time.seconds/60)%60) &#43; watch_img# Calculating the hours and minutes based on the remaining seconds
# Printing out the sub menus
def print_sub():
    print &#34;---&#34;
    print &#34;Now: &#34; &#43; datetime.now().strftime(&#34;%x-%H:%M:%S&#34;)
    print &#34;Arrived at &#34; &#43; arrival_time.strftime(&#34;%H:%M:%S&#34;) &#43; &#34;| color=green image=&#34; &#43; desk_img
    print &#34;Shift ends at &#34; &#43; shift_end.strftime(&#34;%H:%M:%S&#34;) &#43; &#34;| color=green image=&#34; &#43; exit_img
    print &#34;---&#34;
    print &#34;Shift length: &#34; &#43; str(shift_length) &#43; &#34; Hours | color=red image=&#34; &#43; timespan_img
    print &#34;---&#34;
    print &#34;Lunch break &#34; &#43; str(lunch_break) &#43; &#34; Hours | color=black image=&#34; &#43; coffee_img
    print_lunch_info()
    print &#34;---&#34;
    print &#34;About this plugin&#34;
    print &#34;-- Developed by Jan M. GroÃŸ | color=black&#34;
    print &#34;-- Images/Icons from icons8.com | href=http://icons8.com&#34;
    print &#34;-- Version 2.0&#34;
    print &#34;-- ---&#34;
    print &#34;-- Report an issue | href=https://github.com/matryer/bitbar-plugins/issues/new?assignee=jangross&amp;title=re:%20Workshift%20Stats&amp;body=FAO:&#43;(@jangross)&#34;

print_main()
print_sub()
</code></pre>
				</div>
			</div>
		</div>
	

		<footer class='container mx-auto text-white text-lg opacity-75 mt-8'>
			<div class='text-center p-16'>
				<p>
					<div>
						<a target='github' class='underline hover:text-white' href='https://github.com/matryer/xbar'>GitHub project</a>
						â€¢
						<a target='github' class='underline hover:text-white' href='https://github.com/matryer/xbar#writing-plugins'>Writing plugins guide</a>
					</div>
					<div class='mt-8'>
						Copyright &copy;2021 Mat Ryer + contributors â€¢ <a target='twitter' class='underline hover:text-white' href='https://twitter.com/matryer'>@matryer</a>
					</div>
					<div class='opacity-50 mt-2'>
						Last updated on 08 Mar 21 15:22 GMT
					</div>
				</p>
			</div>
		</footer>
	</body>
</html>
