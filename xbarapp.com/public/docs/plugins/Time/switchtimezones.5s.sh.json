{
	"plugin": {
		"files": [
			{
				"path": "Time/switchtimezones.5s.sh",
				"filename": "switchtimezones.5s.sh",
				"content": "#!/bin/bash\n\n# \u003cbitbar.title\u003eSwitch Timezones\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eVasily Pleshakov\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ewasapl\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eAllows to switch timezone for current time shown in the Bar. \u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/0Oevp2W.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003eBASH\u003c/bitbar.dependencies\u003e\nSCRIPT_NAME=$(basename \"$0\")\nSCRIPT_DIR=$(dirname \"$0\")\ndeclare -A TZS\nTZS[\"Moscow\"]=\"Europe/Moscow\"\nTZS[\"London\"]=\"Europe/London\"\nTZS[\"NewYork\"]=\"US/Eastern\"\nTZS[\"SanFrancisco\"]=\"US/Pacific\"\nTZS[\"UTC\"]=\"UTC\"\n\nTEMP_FILE=\"$TMPDIR/${SCRIPT_NAME%%.*}.tmp\"\nif [ -s \"${TEMP_FILE}\" ]; then\n    CUR_CITY=$(cat \"${TEMP_FILE}\")\nelse\n    CUR_CITY=\"UTC\"\nfi\n\nfunction get_time() {\n    TZ=\":${1}\" date +'%m/%d %H:%M'\n}\n\nfunction menu() {\n    cur_time=$(get_time \"${TZS[$CUR_CITY]}\"); echo \"${CUR_CITY} ${cur_time}\"\n    echo \"---\"\n    for city in \"${!TZS[@]}\"; do\n            cur_time=$(get_time \"${TZS[$city]}\"); echo \"$city ${cur_time} | bash='${SCRIPT_DIR}/${SCRIPT_NAME}' param1=chcity param2=$city terminal=false refresh=true\"\n    done\n    echo \"---\"\n    cur_time=$(date +%s); echo \"Epoch $cur_time | bash='${SCRIPT_DIR}/${SCRIPT_NAME}' param1=copy param2=\\\"$cur_time\\\" terminal=false\"\n    cur_time=$(date +'%Y%m%d'); echo \"YMD $cur_time | bash='${SCRIPT_DIR}/${SCRIPT_NAME}' param1=copy param2=\\\"$cur_time\\\" terminal=false\"\n    cur_time=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\"); echo \"ISO 8601 $cur_time | bash='${SCRIPT_DIR}/${SCRIPT_NAME}' param1=copy param2=\\\"$cur_time\\\" terminal=false\"\n}\n\nif [[ \"$#\" -ge 1 ]];then\n    if [[ \"$1\" == 'copy' ]] ; then\n        echo -n \"$2\" | pbcopy\n        echo COPIED \"$2\"\n    fi\n    if [[ \"$1\" == 'chcity' ]] ; then\n        echo \"$2\" \u003e \"${TEMP_FILE}\"\n    fi\nfi\n\nmenu\n"
			}
		],
		"path": "Time/switchtimezones.5s.sh",
		"filename": "switchtimezones.5s.sh",
		"dir": "Time",
		"docsPlugin": "Time/switchtimezones.5s.sh.html",
		"docsCategory": "Time.html",
		"pathSegments": [
			"Time"
		],
		"categoryPathSegments": [
			{
				"path": "Time",
				"text": "Time",
				"isLast": true
			}
		],
		"title": "Switch Timezones",
		"version": "v1.0",
		"author": "Vasily Pleshakov",
		"authors": [
			{
				"name": "Vasily Pleshakov",
				"githubUsername": "wasapl",
				"imageURL": "https://avatars.githubusercontent.com/u/2486829?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Allows to switch timezone for current time shown in the Bar. ",
		"imageURL": "https://i.imgur.com/0Oevp2W.png",
		"dependencies": [
			"BASH"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:22:06.466369Z",
		"vars": null
	}
}