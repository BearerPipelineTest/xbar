{
	"plugins": [
		{
			"files": [
				{
					"path": "Tools/BitBar/bitbar-plugin-installer.1d.php",
					"filename": "bitbar-plugin-installer.1d.php",
					"content": "#!/usr/bin/env php\n\u003c?php\n// \u003cbitbar.title\u003eBitBar Plugins Installer\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eAleš Farčnik\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003ealesf\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003eQuickly install bitbar plugins.\u003c/bitbar.desc\u003e\n// \u003cbitbar.image\u003ehttp://i.imgur.com/Qn8TJ60.png\u003c/bitbar.image\u003e\n// \u003cbitbar.dependencies\u003ephp \u003e= 5\u003c/bitbar.dependencies\u003e\n\ndefine('CAT_URL', 'https://api.github.com/repos/matryer/bitbar-plugins/git/trees/master?recursive=1');\ndefine('UA', 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; '.\n    '.NET CLR 1.0.3705; .NET CLR 1.1.4322; Media Center PC 4.0)');\n\nfunction curl($url)\n{\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    curl_setopt($ch, CURLOPT_USERAGENT, UA);\n    $output = curl_exec($ch);\n    curl_close($ch);\n    return json_decode($output);\n}\n\nfunction bitbar_link($name, $path)\n{\n    return \"bitbar://openPlugin?title={$name}\u0026\".\n        \"src=https://github.com/matryer/bitbar-plugins/raw/master/{$path}\";\n}\n\necho \"BitBar Plugins\\n\";\necho \"---\\n\";\n\n$cats = curl(CAT_URL);\n$cats = isset($cats-\u003etree) \u0026\u0026 is_array($cats-\u003etree) ? $cats-\u003etree : array();\n\narray_map(function ($item) {\n\n    $level = substr_count($item-\u003epath, '/');\n    $level_dash = str_repeat('--', $level);\n    $sub_start = strrpos($item-\u003epath, '/') ? strrpos($item-\u003epath, '/')+1 : 0;\n    $name = substr($item-\u003epath, $sub_start);\n\n    if ($item-\u003etype == 'tree') {\n        if ($name != 'Enabled') {\n            echo \"{$level_dash}{$name}\\n\";\n        }\n    } elseif ($item-\u003etype == 'blob' \u0026\u0026 $level \u003e 0 \u0026\u0026 $name[0] != '.') {\n        $link = bitbar_link($name, $item-\u003epath);\n        echo \"{$level_dash}{$name} | href={$link}\\n\";\n    }\n}, $cats);\n"
				}
			],
			"path": "Tools/BitBar/bitbar-plugin-installer.1d.php",
			"filename": "bitbar-plugin-installer.1d.php",
			"dir": "Tools/BitBar",
			"docsPlugin": "Tools/BitBar/bitbar-plugin-installer.1d.php.html",
			"docsCategory": "Tools/BitBar.html",
			"pathSegments": [
				"Tools",
				"BitBar"
			],
			"categoryPathSegments": [
				{
					"path": "Tools",
					"text": "Tools",
					"isLast": false
				},
				{
					"path": "Tools/BitBar",
					"text": "BitBar",
					"isLast": true
				}
			],
			"title": "BitBar Plugins Installer",
			"version": "v1.0",
			"author": "Aleš Farčnik",
			"authors": [
				{
					"name": "alesf",
					"githubUsername": "alesf",
					"imageURL": "https://avatars.githubusercontent.com/u/1148574?v=4",
					"bio": "",
					"primary": true
				}
			],
			"desc": "Quickly install bitbar plugins.",
			"imageURL": "http://i.imgur.com/Qn8TJ60.png",
			"dependencies": [
				"php \u003e= 5"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:22:06.895882Z",
			"vars": null
		},
		{
			"files": [
				{
					"path": "Tools/BitBar/version.12h.rb",
					"filename": "version.12h.rb",
					"content": "#!/usr/bin/env ruby\n#\n# \u003cbitbar.title\u003eBitBar Version\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev0.2.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eOlivier Tille\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003eoliviernt\u003c/bitbar.author.github\u003e\n# \u003cbitbar.image\u003ehttp://i.imgur.com/9BrFhSJ.png\u003c/bitbar.image\u003e\n# \u003cbitbar.desc\u003eChecks the current BitBar version against the latest from GitHub\u003c/bitbar.desc\u003e\n# \u003cbitbar.dependencies\u003eRuby\u003c/bitbar.dependencies\u003e\n#\n# BitBar version plugin\n# by Olivier Tille (@oliviernt)\n#\n# Checks the current BitBar version against the latest from GitHub\n\nrequire 'net/http'\nrequire 'json'\nrequire 'nokogiri'\n\n# if you're seeing errors saying you've reached the API request limit you will need to\n# create a new application at https://github.com/settings/developers and add client_id and client_secret here:\n# GITHUB_CLIENT_ID=\"\"\n# GITHUB_CLIENT_SECRET=\"\"\n#\n# then add the following query params to the github URL\n# ?client_id=#{GITHUB_CLIENT_ID}\u0026client_secret=#{GITHUB_CLIENT_SECRET}\n\ndef get_json\n  url = URI(\"https://api.github.com/repos/matryer/bitbar/releases/latest\")\n  json_result = nil\n  sleep_time = 0.5\n  sleep_until = 16 # sleep 5x (0,5 * 2 ^ 5 == 16)\n  while json_result.nil?\n    begin\n      json_result = JSON.parse(Net::HTTP.get(url))\n    rescue =\u003e e\n      sleep_time *= 2\n      if sleep_time \u003c sleep_until\n        sleep sleep_time\n      else\n        throw e\n      end\n    end\n  end\n  json_result\nend\n\ndef get_xml\n  bitbar_path = `osascript -e 'tell application \"System Events\" to POSIX path of (file of process \"BitBar\" as alias)'`.chomp\n  bitbar_path += \"/Contents/Info.plist\"\n  File.open(bitbar_path) { |f| Nokogiri::XML(f) }\nend\n\ndef get_current_version(xml)\n  current_version = \"0.0.0\"\n  xml.search(\"//key\").each do |node|\n    if (node.content.eql?\"CFBundleVersion\")\n      current_version = node.next_element.content\n    end\n  end\n  current_version\nend\n\nbegin\n  json_val = get_json\n  current_version = get_current_version(get_xml)\n  latest_version = json_val[\"tag_name\"]\n  outdated = Gem::Version.new(current_version) \u003c Gem::Version.new(latest_version.sub!(\"v\", \"\"))\n  color = outdated ? \"red\" : \"green\"\n\n  puts current_version + \" | color=\" + color\n\n  if outdated\n    puts \"---\"\n    puts \"Download latest (#{latest_version}) | href=\" + json_val[\"assets\"][0][\"browser_download_url\"]\n  end\nrescue =\u003e _\n  puts \"BitBar Version Error | color=red\"\n  puts \"---\"\n  puts \"Content is currently unavailable. Please try resetting or check your internet connection. | color=red\"\nend\n"
				}
			],
			"path": "Tools/BitBar/version.12h.rb",
			"filename": "version.12h.rb",
			"dir": "Tools/BitBar",
			"docsPlugin": "Tools/BitBar/version.12h.rb.html",
			"docsCategory": "Tools/BitBar.html",
			"pathSegments": [
				"Tools",
				"BitBar"
			],
			"categoryPathSegments": [
				{
					"path": "Tools",
					"text": "Tools",
					"isLast": false
				},
				{
					"path": "Tools/BitBar",
					"text": "BitBar",
					"isLast": true
				}
			],
			"title": "BitBar Version",
			"version": "v0.2.0",
			"author": "Olivier Tille",
			"authors": [
				{
					"name": "Olivier Tille",
					"githubUsername": "oliviernt",
					"imageURL": "https://avatars.githubusercontent.com/u/162120?v=4",
					"bio": "Software Developer at @lexoffice, Loving the WWW. \r\nPGP: https://keybase.io/oliviernt ",
					"primary": true
				}
			],
			"desc": "Checks the current BitBar version against the latest from GitHub",
			"imageURL": "http://i.imgur.com/9BrFhSJ.png",
			"dependencies": [
				"Ruby"
			],
			"aboutURL": "",
			"lastUpdated": "2021-03-08T15:22:06.960528Z",
			"vars": null
		}
	]
}