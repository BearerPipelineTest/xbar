{
	"plugin": {
		"files": [
			{
				"path": "Tools/JsonUtils.1d.sh",
				"filename": "JsonUtils.1d.sh",
				"content": "#!/usr/bin/env bash\n\n# JSON Utils: Validate, format and compact JSON entity from clipboard and then write to clipboard\n#\n# by Cnfn (http://github.com/cnfn)\n#\n# \u003cbitbar.title\u003eJSON Utils\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.4\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eCnfn\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ecnfn\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eValidate, format and compact JSON entity from clipboard and then write to clipboard. More info: https://github.com/cnfn/BitBarPlugins/tree/master/JsonUtils\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://raw.githubusercontent.com/cnfn/grocery/master/images/blog/bitbar_plugin_json_utils_main.png\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003ebash,jq\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttps://github.com/cnfn/BitBarPlugins/tree/master/JsonUtils\u003c/bitbar.abouturl\u003e\n#\n# Dependencies:\n#   jq (https://stedolan.github.io/jq/)\n\nexport PATH=$PATH:/usr/local/bin\n\n# Hack for language not being set properly and unicode support\nexport LANG=\"${LANG:-en_US.UTF-8}\"\n\nnotifyTitle=\"JsonUtils\"\nnotifyValidJson=\"Valid JSON, type:\"\nnotifyInvalidJson=\"Invalid JSON !!!!!!!!!!\"\n\ndisplayNotification() {\n\ttitle=$1\n\tcontent=$2\n\tosascript -e \"display notification \\\"$content\\\" with title \\\"$title\\\"\"\n}\n\ndoValidate() {\n\ttypeName=$(pbpaste | jq type 2\u003e /dev/null | xargs echo -n 2\u003e /dev/null)\n\tif [[ \"object\" == \"$typeName\" || \"array\" == \"$typeName\" ]]\n\tthen\n\t \techo \"$typeName\"\n\telse\n\t\techo \"\"\n\tfi\n}\n\nnotifyAndExitWhenInvalidJson() {\n\ttypeName=$(doValidate)\n\t[ -n \"$typeName\" ] || { osascript -e \"beep\"; \\\n\t\tdisplayNotification $notifyTitle \"$notifyInvalidJson\"; exit 1; }\n}\n\nvalidate() {\n\ttypeName=$(doValidate)\n\tif [[ -n \"$typeName\" ]]\n\tthen\n\t\tdisplayNotification $notifyTitle \"$notifyValidJson $typeName\"\n\telse\n\t\tosascript -e \"beep\"\n\t\tdisplayNotification $notifyTitle \"$notifyInvalidJson\"\n\tfi\n}\n\nformat() {\n\tnotifyAndExitWhenInvalidJson\n\n\tpbpaste | jq . --indent 4 | pbcopy\n\tdisplayNotification $notifyTitle \"Formatted\"\n}\n\ncompact() {\n\tnotifyAndExitWhenInvalidJson\n\n\tpbpaste | jq . --compact-output | pbcopy\n\tdisplayNotification $notifyTitle \"Compacted\"\n}\n\n# call function: validate, format, compact\n[ $# == 1 ] \u0026\u0026 { $1; exit 0; }\n\necho \"JSON\"\necho \"---\"\necho \"Validate | bash='$0' param1=validate terminal=false\"\necho \"---\"\necho \"Format | bash='$0' param1=format terminal=false\"\necho \"Compact | bash='$0' param1=compact terminal=false\"\n"
			}
		],
		"path": "Tools/JsonUtils.1d.sh",
		"filename": "JsonUtils.1d.sh",
		"dir": "Tools",
		"docsPlugin": "Tools/JsonUtils.1d.sh.html",
		"docsCategory": "Tools.html",
		"pathSegments": [
			"Tools"
		],
		"categoryPathSegments": [
			{
				"path": "Tools",
				"text": "Tools",
				"isLast": true
			}
		],
		"title": "JSON Utils",
		"version": "v1.4",
		"author": "Cnfn",
		"authors": [
			{
				"name": "Cnfn",
				"githubUsername": "cnfn",
				"imageURL": "https://avatars.githubusercontent.com/u/1445517?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Validate, format and compact JSON entity from clipboard and then write to clipboard. More info: https://github.com/cnfn/BitBarPlugins/tree/master/JsonUtils",
		"imageURL": "https://raw.githubusercontent.com/cnfn/grocery/master/images/blog/bitbar_plugin_json_utils_main.png",
		"dependencies": [
			"bash",
			"jq"
		],
		"aboutURL": "https://github.com/cnfn/BitBarPlugins/tree/master/JsonUtils",
		"lastUpdated": "2021-03-08T15:22:07.05308Z",
		"vars": null
	}
}