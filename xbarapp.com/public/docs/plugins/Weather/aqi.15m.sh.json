{
	"plugin": {
		"files": [
			{
				"path": "Weather/aqi.15m.sh",
				"filename": "aqi.15m.sh",
				"content": "#!/bin/bash\n#\n# \u003cbitbar.title\u003eAir Quality Index\u003c/bitbar.title\u003e\n# \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n# \u003cbitbar.author\u003eChongyu Yuan\u003c/bitbar.author\u003e\n# \u003cbitbar.author.github\u003ennnggel\u003c/bitbar.author.github\u003e\n# \u003cbitbar.desc\u003eReal-time Air Quality Index, you need an 'aqi api token' and install 'jq' first.\u003c/bitbar.desc\u003e\n# \u003cbitbar.image\u003ehttps://i.imgur.com/7bc5qqh.jpg\u003c/bitbar.image\u003e\n# \u003cbitbar.dependencies\u003ebash\u003c/bitbar.dependencies\u003e\n# \u003cbitbar.abouturl\u003ehttp://www.yuanchongyu.com\u003c/bitbar.abouturl\u003e\n\nMENUFONT=\"size=12 font=UbuntuMono-Bold\"\nCOLORS=(\"#0ed812\" \"#ffde33\" \"#ff9933\" \"#cc0033\" \"#660099\" \"#7e0023\" \"#404040\")\n\n# where to get the token -\u003e https://aqicn.org/api/\nTOKEN=\"xxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nCITY=\"shanghai\"\n\nURL=\"http://aqicn.org/city/${CITY}/\"\n\nDATA=$(curl -s http://api.waqi.info/feed/${CITY}/?token=${TOKEN})\n# DELETE ME, TEST DATA\nDATA=\"{\\\"status\\\":\\\"ok\\\",\\\"data\\\":{\\\"aqi\\\":824,\\\"idx\\\":1437,\\\"attributions\\\":[{\\\"url\\\":\\\"http://www.semc.gov.cn/\\\",\\\"name\\\":\\\"Shanghai Environment Monitoring Center(‰∏äÊµ∑Â∏ÇÁéØÂ¢ÉÁõëÊµã‰∏≠ÂøÉ)\\\"},{\\\"url\\\":\\\"http://106.37.208.233:20035/emcpublish/\\\",\\\"name\\\":\\\"China National Urban air quality real-time publishing platform (ÂÖ®ÂõΩÂüéÂ∏ÇÁ©∫Ê∞îË¥®ÈáèÂÆûÊó∂ÂèëÂ∏ÉÂπ≥Âè∞)\\\"},{\\\"url\\\":\\\"https://china.usembassy-china.org.cn/embassy-consulates/shanghai/air-quality-monitor-stateair/\\\",\\\"name\\\":\\\"U.S. Consulate Shanghai Air Quality Monitor\\\"},{\\\"url\\\":\\\"https://waqi.info/\\\",\\\"name\\\":\\\"World Air Quality Index Project\\\"}],\\\"city\\\":{\\\"geo\\\":[31.2047372,121.4489017],\\\"name\\\":\\\"Shanghai (‰∏äÊµ∑)\\\",\\\"url\\\":\\\"https://aqicn.org/city/shanghai\\\"},\\\"dominentpol\\\":\\\"pm25\\\",\\\"iaqi\\\":{\\\"co\\\":{\\\"v\\\":6.4},\\\"h\\\":{\\\"v\\\":20.4},\\\"no2\\\":{\\\"v\\\":20.2},\\\"o3\\\":{\\\"v\\\":67.5},\\\"p\\\":{\\\"v\\\":1019.2},\\\"pm10\\\":{\\\"v\\\":57},\\\"pm25\\\":{\\\"v\\\":824},\\\"so2\\\":{\\\"v\\\":4.6},\\\"t\\\":{\\\"v\\\":17.5},\\\"w\\\":{\\\"v\\\":0.3}},\\\"time\\\":{\\\"s\\\":\\\"2019-04-01 17:00:00\\\",\\\"tz\\\":\\\"+08:00\\\",\\\"v\\\":1554138000},\\\"debug\\\":{\\\"sync\\\":\\\"2019-04-01T18:49:19+09:00\\\"}}}\"\n\n# how to install jq -\u003e https://stedolan.github.io/jq/download/\nAQI=$(echo \"${DATA}\" | /usr/local/bin/jq '.data.aqi' | sed -e \"s/\\\"//g\")\n\nfunction colorize {\n  if [ \"$AQI\" = \"-\" ]; then\n    echo \"${COLORS[6]}\"\n  elif [ \"$1\" -le 50 ]; then\n    echo \"${COLORS[0]}\"\n  elif [ \"$1\" -le 100 ]; then\n    echo \"${COLORS[1]}\"\n  elif [ \"$1\" -le 150 ]; then\n    echo \"${COLORS[2]}\"\n  elif [ \"$1\" -le 200 ]; then\n    echo \"${COLORS[3]}\"\n  elif [ \"$1\" -le 300 ]; then\n    echo \"${COLORS[4]}\"\n  else\n    echo \"${COLORS[5]}\"\n  fi\n}\n\nCOLOR=\"$(colorize \"${AQI}\")\"\necho \"üò∑${AQI} | color=${COLOR} ${MENUFONT}\"\n\necho \"---\"\necho \"Detail... | href=${URL}\"\necho \"Refresh... | refresh=true\""
			}
		],
		"path": "Weather/aqi.15m.sh",
		"filename": "aqi.15m.sh",
		"dir": "Weather",
		"docsPlugin": "Weather/aqi.15m.sh.html",
		"docsCategory": "Weather.html",
		"pathSegments": [
			"Weather"
		],
		"categoryPathSegments": [
			{
				"path": "Weather",
				"text": "Weather",
				"isLast": true
			}
		],
		"title": "Air Quality Index",
		"version": "v1.0",
		"author": "Chongyu Yuan",
		"authors": [
			{
				"name": "Chongyu Yuan",
				"githubUsername": "nnnggel",
				"imageURL": "https://avatars.githubusercontent.com/u/17697169?v=4",
				"bio": "",
				"primary": true
			}
		],
		"desc": "Real-time Air Quality Index, you need an 'aqi api token' and install 'jq' first.",
		"imageURL": "https://i.imgur.com/7bc5qqh.jpg",
		"dependencies": [
			"bash"
		],
		"aboutURL": "http://www.yuanchongyu.com",
		"lastUpdated": "2021-03-08T15:22:08.63791Z",
		"vars": null
	}
}