{
	"plugin": {
		"files": [
			{
				"path": "Web/Twitch/play-with-livestreamer.5m.js",
				"filename": "play-with-livestreamer.5m.js",
				"content": "#!/usr/bin/env /usr/local/bin/node\n\n// \u003cbitbar.title\u003eTwitch Livestreamer\u003c/bitbar.title\u003e\n// \u003cbitbar.version\u003ev1.0\u003c/bitbar.version\u003e\n// \u003cbitbar.author\u003eGoran Gajic\u003c/bitbar.author\u003e\n// \u003cbitbar.author.github\u003egorangajic\u003c/bitbar.author.github\u003e\n// \u003cbitbar.desc\u003elist top 10 twitch streams for provided GAME, defaults to Dota 2\u003c/bitbar.desc\u003e\n// \u003cbitbar.dependencies\u003enode.js, livestreamer\u003c/bitbar.dependencies\u003e\n// \u003cbitbar.image\u003ehttp://i.imgur.com/XEQQaxC.png\u003c/bitbar.image\u003e\n\n\nvar GAME = \"Dota 2\"; // game you want to fetch streams for\nvar LIMIT = 10; // streams limit\nvar url = 'https://api.twitch.tv/kraken/streams/?limit=' + LIMIT + '\u0026game=' + encodeURIComponent(GAME);\nvar icon = 'ðŸ‘¾';\nvar LIVESTREAMER_PATH = '/usr/local/bin/livestreamer';\n\nfunction handleResponse(body) {\n    var output = body.streams.map(function(stream){\n        var channel = stream.channel;\n        var url = channel.url.replace('http://', '');\n        var status = channel.status.replace(/\\|/g, '').substr(0,40) + '...';\n        return [status, '| size=9 \\n', channel.display_name, ' - ', stream.viewers, ' | size=12 terminal=false bash=' + LIVESTREAMER_PATH + ' param1=', url, ' param2=best\\n'].join('');\n    }).join('\\n---\\n');\n    console.log(icon + '\\n---\\n' + output);\n}\n\n\nvar https = require('https');\nhttps.get(url, function(res) {\n    var body = '';\n    res.on('data', function(data) {\n        body += data;\n    });\n    res.on('end', function() {\n        handleResponse(JSON.parse(body));\n    });\n});\n"
			}
		],
		"path": "Web/Twitch/play-with-livestreamer.5m.js",
		"filename": "play-with-livestreamer.5m.js",
		"dir": "Web/Twitch",
		"docsPlugin": "Web/Twitch/play-with-livestreamer.5m.js.html",
		"docsCategory": "Web/Twitch.html",
		"pathSegments": [
			"Web",
			"Twitch"
		],
		"categoryPathSegments": [
			{
				"path": "Web",
				"text": "Web",
				"isLast": false
			},
			{
				"path": "Web/Twitch",
				"text": "Twitch",
				"isLast": true
			}
		],
		"title": "Twitch Livestreamer",
		"version": "v1.0",
		"author": "Goran Gajic",
		"authors": [
			{
				"name": "Goran Gajic",
				"githubUsername": "gorangajic",
				"imageURL": "https://avatars.githubusercontent.com/u/249310?v=4",
				"bio": "Full Stack Developer \r\n- \r\nNode.js, React, React-Native",
				"primary": true
			}
		],
		"desc": "list top 10 twitch streams for provided GAME, defaults to Dota 2",
		"imageURL": "http://i.imgur.com/XEQQaxC.png",
		"dependencies": [
			"node.js",
			"livestreamer"
		],
		"aboutURL": "",
		"lastUpdated": "2021-03-08T15:22:09.144172Z",
		"vars": null
	}
}